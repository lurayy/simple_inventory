{"version":3,"sources":["Pages/Items/Item.js","App/components/Reusables/DeleteModal.js","api/inventory/itemApi.js"],"names":["Item","props","React","useState","item","setItem","loading","setLoading","showModal","itemId","deleteData","setDeleteData","useEffect","controller","AbortController","getItem","action","item_id","match","params","id","signal","then","res","console","log","json","status","items","Jhilikka","fire","icon","title","error","background","catch","err","abort","thumbnailImage","images","find","img","category","className","style","lineHeight","name","onClick","history","push","e","xl","Body","md","href","DEMO","SERVER_URL","image","src","alt","is_active","variant","category_str","description","vat_enabled","weight","weight_unit","average_cost_price","sales_price","sold","stock","map","instance","index","xs","sm","key","width","maxWidth","objectFit","padding","show","onCancel","onDelete","toBeDeletedId","deleteItems","items_id","a","DeleteModal","border","color","boxShadow","onHide","Header","closeButton","margin","Title","paddingLeft","fontSize","fontWeight","message","display","flexDirection","justifyContent","noRedButton","redTitle","getItems","data","baseRequest","alert","createItem","updateItem","getItemFields","exportItems","importItems"],"mappings":"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","file":"static/js/98.552066d5.chunk.js","sourcesContent":["\n\n\n\nimport React from 'react';\nimport { Row, Col, Card, Table, Tabs, Tab, Badge } from 'react-bootstrap';\n\nimport Loader from '../../App/layout/Loader/index'\n\n\n\nimport { getItem, deleteItems } from '../../api/inventory/itemApi'\nimport DEMO from '../../globals/constant';\nimport DeleteModal from '../../App/components/Reusables/DeleteModal';\nimport Jhilikka from '../../App/components/Reusables/Jhilikka';\n\n\nconst Item = (props) => {\n\n\n    const [item, setItem] = React.useState({});\n    const [loading, setLoading] = React.useState(true);\n    const [deleteData, setDeleteData] = React.useState({ showModal: false, itemId: null })\n\n    React.useEffect(() => {\n\n        const controller = new AbortController();\n\n        getItem({ action: 'get', item_id: props.match.params.id }, controller.signal)\n            .then((res) => {\n                console.log(res.json)\n                if (res.json.status) {\n                    setItem(res.json.items[0])\n                    setLoading(false)\n                } else { Jhilikka.fire({ icon: 'error', title: res.json.error, background: '#ffe5de' }) }\n            }).catch((err) => {\n                console.log(err);\n            });\n\n        return () => {\n            controller.abort();\n        }\n    }, []);\n\n    const _triggerDeleteModal = (e) => {\n        setDeleteData({ showModal: true, itemId: props.match.params.id });\n    }\n\n    const _delete = (toBeDeletedId) => {\n        deleteItems({ action: 'delete', items_id: [toBeDeletedId] })\n            .then(async (res) => {\n                console.log(res)\n                if (res.json.status) {\n                    setDeleteData({ showModal: false, itemId: null })\n                    Jhilikka.fire({ icon: 'success', title: 'Item deleted successfully!', background: '#dffff0' })\n                    props.history.push('/items')\n                } else { Jhilikka.fire({ icon: 'error', title: res.json.error, background: '#ffe5de' }) }\n            }).catch((err) => {\n                console.log(err);\n            });\n    }\n\n    if (!loading) {\n        var thumbnailImage = item.images.find(img => img.category === 'THUMBNAIL');\n        if (!thumbnailImage) {\n            thumbnailImage = item.images[0];\n        }\n        console.log(thumbnailImage)\n    }\n\n\n\n    if (loading) return <Loader />\n    return (\n        <>\n            <Row className=\"d-flex justify-content-between pageHead\" >\n                <h4 className=\"m-b-10\" style={{ lineHeight: '33px' }} >{item.name}</h4>\n                <div>\n                    <button\n                        className=\"btn btn-primary btn-sm shadow-2 mb-4\"\n                        onClick={() => props.history.push(`/item/update/` + item.id)}\n                    > <i className=\"feather icon-edit text-c-white f-15 m-r-5\" />Update</button>\n                    <button\n                        className=\"btn btn-danger btn-sm shadow-2 mb-4\"\n                        onClick={_triggerDeleteModal}\n                    > <i className=\"feather icon-trash-2 text-c-white f-15 m-r-5\" />Delete</button>\n                </div>\n            </Row>\n            <Row>\n                <Col xl={2}></Col>\n                <Col xl={8}>\n                    <Card>\n                        <Card.Body>\n                            <h5 className='mb-4'>Item Profile</h5>\n                            <div className=\"row d-flex align-items-center\">\n\n                                <Col md={2}></Col>\n                                <Col md={8}>\n                                    <a href={thumbnailImage ? `${DEMO.SERVER_URL}${thumbnailImage.image}` : 'https://google.com'}>\n                                        <img src={thumbnailImage ? `${DEMO.SERVER_URL}${thumbnailImage.image}` : \"https://media.manufactum.de/is/image/Manufactum/750s_shop/maglia-stick-umbrella--68697_01.jpg\"} className=\"rounded w-25 mx-auto d-block\" alt=\"...\" />\n                                    </a>\n                                    <div className='mb-1 border-bottom'><b>Name</b></div>\n                                    <div className='mt-1 mb-3'>\n                                        {item.name} {\" \"}\n                                        {item.is_active ? (<Badge variant=\"info\">Active</Badge>) : (<Badge variant=\"secondary\">Inactive</Badge>)}\n                                    </div>\n\n                                    <div className='mb-1 border-bottom'><b>Category</b></div>\n                                    <div className='mt-1 mb-3'>{item.category_str}</div>\n\n                                    <div className='mb-1 border-bottom'><b>Description</b></div>\n                                    <div className='mt-1 mb-3'>{item.description}</div>\n\n\n                                    <div className='mb-1 border-bottom'><b>VAT'able?</b></div>\n                                    <div className='mt-1 mb-3'>{item.vat_enabled}</div>\n\n                                    <div className='mb-1 border-bottom'><b>Weight</b></div>\n                                    <div className='mt-1 mb-3'>{item.weight}{item.weight_unit}</div>\n\n                                    <div className=\"d-flex justify-content-between\" >\n                                        <div className=\"w-50\">\n                                            <div className='mb-1 border-bottom pr-4'><b>Cost Price</b></div>\n                                            <div className='mt-1 mb-3'>{item.average_cost_price}</div>\n                                        </div>\n                                        <div className=\"w-50 ml-4\">\n                                            <div className='mb-1 border-bottom pr-4'><b>Sales Price</b></div>\n                                            <div className='mt-1 mb-3'>{item.sales_price}</div>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"d-flex justify-content-between\" >\n                                        <div className=\"w-50\">\n                                            <div className='mb-1 border-bottom pr-4'><b>Sold</b></div>\n                                            <div className='mt-1 mb-3'>{item.sold}{\" \"}</div>\n                                        </div>\n                                        <div className=\"w-50 ml-4\">\n                                            <div className='mb-1 border-bottom pr-4'><b>Stock</b></div>\n                                            <div className='mt-1 mb-3'>{item.stock}{\" \"}</div>\n                                        </div>\n                                    </div>\n                                    <Col md={2}></Col>\n                                    <Row>\n                                        {item.images.map((instance, index) => {\n                                            return <Col md={3} xs={6} sm={4} key={index} >\n                                                <img\n\n                                                    src={DEMO.SERVER_URL + instance.image}\n                                                    alt=\"\"\n                                                    style={{\n                                                        width: '120px',\n                                                        maxWidth: '150px',\n                                                        objectFit: 'cover',\n                                                        padding: '10px'\n                                                    }}\n                                                />\n                                            </Col>\n                                        })}\n                                    </Row>\n                                </Col>\n\n\n\n\n\n\n                            </div>\n\n\n\n                        </Card.Body>\n                    </Card>\n                </Col>\n                <Col xl={2}></Col>\n\n                <DeleteModal\n                    show={deleteData.showModal}\n                    onCancel={() => setDeleteData({ ...deleteData, showModal: false })}\n                    onDelete={() => _delete(deleteData.itemId)}\n                />\n\n            </Row>\n        </>\n    );\n}\n\nexport default Item;\n","import React from 'react';\n\nimport { Modal, Button } from 'react-bootstrap';\n\nconst DeleteModal = (props) => {\n\n\n    return (\n        <Modal\n            style={{ border: 'none', color: '#3d4075', boxShadow: '0 0 10px red' }}\n            show={props.show}\n            onHide={props.onCancel}\n        >\n            <Modal.Header closeButton style={{ margin: 'auto 5px' }}>\n                <Modal.Title style={{ paddingLeft: '15px', color: '#3d4075', fontSize: '1.4em', fontWeight: 'bold' }}>Are you sure?</Modal.Title>\n            </Modal.Header>\n\n            <Modal.Body\n                style={{ paddingLeft: '30px' }}\n            >\n                {props.message ? props.message : 'This action cannot be undone.'}\n            </Modal.Body>\n\n\n            <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', padding: '10px' }}>\n                <Button variant=\"secondary\" onClick={props.onCancel}>\n                    <b>Cancel</b>\n                </Button>\n                {props.noRedButton ?\n                    null :\n                    <Button variant=\"danger\" onClick={props.onDelete}>\n                        <b>{props.redTitle || 'Delete'}</b>\n                    </Button>\n                }\n            </div>\n        </Modal >\n    )\n\n}\n\nexport default DeleteModal;","import { baseRequest } from '../base';\n// api for items \nconst getItems = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/items/get', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\nconst deleteItems = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/items/delete', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\nconst createItem = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/item/add', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\nconst getItem = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/item/get', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\nconst updateItem = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/item/update', 'POST', data, signal);\n  } catch (e) {\n    alert(e);\n  }\n};\nconst getItemFields = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/items/export', 'POST', data, signal);\n  } catch (e) {\n    alert(e);\n  }\n};\nconst exportItems = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/items/export', 'POST', data, signal);\n  } catch (e) {\n    alert(e);\n  }\n};\nconst importItems = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/import', 'POST', data, signal);\n  } catch (e) {\n    alert(e);\n  }\n};\n\n\nexport {\n  getItems,\n  createItem,\n  deleteItems,\n  updateItem,\n  getItem,\n  getItemFields,\n  exportItems,\n  importItems,\n}\n"],"sourceRoot":""}