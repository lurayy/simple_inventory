(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[94],{198:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(15),c=a.n(r),l=a(28),u=a(47),s=a(0),o=a.n(s),i=a(292),p=a(260),m=a(309),f=a(302),d=a(105),v=a(282),b=a.n(v),h=a(258),j=a(25),O=a(31),E=a(429),g=a(259);t.default=e=>{var t=o.a.useState(!0),a=Object(u.a)(t,2),r=a[0],s=a[1],v=o.a.useState(!1),y=Object(u.a)(v,2),x=y[0],w=y[1],k=o.a.useState({name:"",id:null,isActive:!1}),P=Object(u.a)(k,2),S=P[0],C=P[1],N=o.a.useState({}),A=Object(u.a)(N,2),T=A[0],_=A[1];o.a.useEffect(()=>{var t=new AbortController;return Object(E.c)({action:"get",place_id:e.match.params.id},t.signal).then(function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),t.json.status?(a=t.json.place,C({id:a.id,isActive:a.is_active,name:a.name}),s(!1)):j.a.fire({icon:"error",title:t.json.error,background:"#ffe5de"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(e=>{console.log(e)}),()=>t.abort()},[]);return r?o.a.createElement(g.a,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,null,o.a.createElement(p.a,null,o.a.createElement(m.a,null,o.a.createElement(m.a.Body,null,o.a.createElement("h5",null,"Create Place"),o.a.createElement("hr",null),o.a.createElement(i.a,null,o.a.createElement(p.a,{md:6},o.a.createElement(f.a.Group,null,o.a.createElement(f.a.Label,null,"Name*"),o.a.createElement(f.a.Control,{name:"name",value:S.name,onChange:e=>{_(Object(n.a)(Object(n.a)({},T),{},{[e.target.name]:""})),C(Object(n.a)(Object(n.a)({},S),{},{[e.target.name]:e.target.value}))},type:"text",placeholder:"Place Name"}),o.a.createElement(h.a,null,T.name))),o.a.createElement(p.a,{md:6},o.a.createElement(f.a.Group,{className:"d-flex flex-column justify-content-end"},o.a.createElement(f.a.Label,{style:{marginBottom:"15px"}},"Is Active?"),o.a.createElement(b.a,{onChange:e=>{console.log(e),C(Object(n.a)(Object(n.a)({},S),{},{isActive:e}))},checked:S.isActive})))),o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement(d.a,{variant:"warning",onClick:()=>{e.history.push("/places")}},"Cancel"),o.a.createElement(d.a,{disabled:x,variant:"primary",onClick:()=>{if(Object(O.a)(S.name))_(Object(n.a)(Object(n.a)({},T),{},{name:"Place name cannot be empty!"}));else{console.log("no errros"),w(!0);var t={action:"update",place_id:S.id,name:S.name,is_active:S.isActive};console.log(t),Object(E.e)(t).then(t=>{console.log(t),t.json.status?(j.a.fire({icon:"success",title:"Place Update successfully!",background:"#dffff0"}),e.history.push("/place/"+e.match.params.id)):(w(!1),j.a.fire({icon:"error",title:t.json.error,background:"#ffe5d6"}))}).catch(e=>{console.log(e),w(!1)})}}},x?o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fa fa-spinner text-c-white f-15 fa-pulse m-l-1"}),"Updating"):"Update")))))))}},258:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(302),l=a(31);t.a=e=>Object(l.a)(e.children)?r.a.createElement("span",null):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a.Text,{style:{color:"red"}},e.children))},259:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=()=>r.a.createElement("div",{className:"loader-bg"},r.a.createElement("div",{className:"loader-track"},r.a.createElement("div",{className:"loader-fill"})))},429:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return p})),a.d(t,"c",(function(){return i}));var n=a(15),r=a.n(n),c=a(28),l=a(41),u=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/places/get","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/places/delete","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/place/add","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/place/get","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/place/update","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=94.06eabae3.chunk.js.map