(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[115],{214:function(e,t,a){"use strict";a.r(t);var n=a(15),l=a.n(n),r=a(28),c=a(1),o=a(47),s=a(0),u=a.n(s),i=a(292),m=a(260),d=a(309),E=a(294),b=a(2),f=a(263),h=(a(259),a(265)),p=a(25),j=a(31),x=a(270),O=a(269),w=a(267),y=a(287),g=a(515),k=a(271);t.default=e=>{var t=u.a.useState([]),a=Object(o.a)(t,2),n=a[0],s=a[1],v=u.a.useState(!0),N=Object(o.a)(v,2),C=N[0],M=N[1],T=u.a.useState({showModal:!1,taxId:null}),I=Object(o.a)(T,2),S=I[0],_=I[1],A=u.a.useState(0),D=Object(o.a)(A,2),J=D[0],B=D[1];u.a.useEffect(()=>{var t=new AbortController;return Object(w.m)(Object(c.a)(Object(c.a)({action:"get",filter:"none"},Object(y.m)(e)),Object(k.a)(e)),t.signal).then(e=>{console.log(e),e.json.status?(console.log(e.json.taxes),s(e.json.taxes),B(e.json.count),M(!1)):p.a.fire({icon:"error",title:e.json.error,background:"#ffe5de"})}).catch(e=>{console.log(e)}),()=>t.abort()},[]);var F=e=>{Object(w.f)({action:"delete",taxes_id:[e]}).then(function(){var t=Object(r.a)(l.a.mark((function t(a){var r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a.json),!a.json.status){t.next=12;break}return r=n.find(t=>t.id===e),(o=n).splice(o.indexOf(r),1),t.next=7,s([...o]);case 7:return t.next=9,_(Object(c.a)(Object(c.a)({},_),{},{showModal:!1,taxId:null}));case 9:p.a.fire({icon:"success",title:"Tax deleted successfully!",background:"#dffff0"}),t.next=13;break;case 12:p.a.fire({icon:"error",title:a.json.error,background:"#ffe5de"});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(e=>{console.log(e)})},H=n.map((t,a)=>u.a.createElement("tr",{key:a},u.a.createElement("th",{scope:"row"},t.id),u.a.createElement("td",{onClick:()=>{e.history.push("/tax/"+t.id)},style:{cursor:"pointer",color:"#55588b"}},t.name),u.a.createElement("td",null,t.rate),u.a.createElement("td",null,t.tax_type),u.a.createElement("td",null,t.code),u.a.createElement("td",null,t.is_active?"Yes":"No"),u.a.createElement("td",null,u.a.createElement("i",{className:"feather icon-edit text-c-green f-19 m-r-10",style:{cursor:"pointer"},onClick:()=>e.history.push("/tax/update/"+t.id)}),u.a.createElement("i",{className:"feather icon-trash-2 text-c-red f-19 m-r-5",style:{cursor:"pointer"},onClick:()=>{return e=t.id,void _({showModal:!0,taxId:e});var e}}))));return u.a.createElement(b.a,null,u.a.createElement(i.a,{className:"d-flex justify-content-between pageHead"},u.a.createElement("h4",{className:"m-b-10"},"Taxes"),u.a.createElement("div",null,u.a.createElement("button",{className:"btn btn-primary btn-sm shadow-2 mb-4",onClick:()=>e.history.push("tax/create")}," ",u.a.createElement("i",{className:"fa fa-plus text-c-white f-15 m-r-5"}),"Add New"))),u.a.createElement(i.a,null,u.a.createElement(m.a,null,u.a.createElement(d.a,null,u.a.createElement(d.a.Body,null,u.a.createElement(g.a,null),u.a.createElement(E.a,{striped:!0,responsive:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"#"),u.a.createElement("th",null,"Name"),u.a.createElement("th",null,"Rate"),u.a.createElement("th",null,"Tax Type"),u.a.createElement("th",null,"Tax Code"),u.a.createElement("th",null,"Enabled"),u.a.createElement("th",null))),u.a.createElement("tbody",null,H||"")),Object(j.a)(n)&&!C?u.a.createElement(u.a.Fragment,null,u.a.createElement(f.a,null,"Data not available"),u.a.createElement("br",null),u.a.createElement("br",null)):"",C?u.a.createElement(x.a,null):null,u.a.createElement(O.a,{instanceCount:J}))),u.a.createElement(h.a,{show:S.showModal,onCancel:()=>_(Object(c.a)(Object(c.a)({},S),{},{showModal:!1})),onDelete:()=>F(S.taxId)}))))}}}]);
//# sourceMappingURL=115.e039ef4f.chunk.js.map