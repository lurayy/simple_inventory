(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[79],{227:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a(47),c=a(0),r=a.n(c),s=a(292),i=a(260),o=a(309),m=a(2),u=a(263),d=(a(259),a(25)),p=a(31),E=a(270),f=a(269),h=a(67),b=a(271);t.default=e=>{var t=r.a.useState([]),a=Object(l.a)(t,2),c=a[0],v=a[1],g=r.a.useState(!0),y=Object(l.a)(g,2),j=y[0],k=y[1],x=r.a.useState({showModal:!1,notificationId:null}),C=Object(l.a)(x,2),w=(C[0],C[1],r.a.useState(0)),N=Object(l.a)(w,2),I=N[0],O=N[1];r.a.useEffect(()=>{var t=new AbortController,a=Object(n.a)(Object(n.a)({action:"get"},Object(b.a)(e)),{},{read:null});return console.log(JSON.stringify(a)),Object(h.a)(a,t.signal).then(e=>{if(console.log(e),e.json.status){console.log(e.json.notifications),v(e.json.notifications),O(e.json.count),k(!1);setTimeout(()=>{Object(h.b)({action:"read",notifications_id:e.json.notifications.map(e=>e.id)}).then(e=>console.log(e)).catch(e=>console.log(e))},6e3)}else d.a.fire({icon:"error",title:e.json.error,background:"#ffe5de"})}).catch(e=>{console.log(e)}),()=>{}},[]);var S=c.map((t,a)=>r.a.createElement("div",{key:a,style:{display:"flex",color:"#666",borderTop:"1px solid #ccc",cursor:"pointer"},className:"p-10",onClick:()=>e.history.push("/".concat(t.model,"/").concat(t.object_id))},r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-bell-o m-r-20 f-20 p-10","aria-hidden":"true"})),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement("b",null,t.model)),r.a.createElement("div",{className:"text-right"},new Date(t.date).toDateString(),r.a.createElement("i",{className:"icon feather icon-clock m-l-10"}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"},className:"p-t-5 p-b-5"},r.a.createElement("div",null,t.msg),r.a.createElement("div",{className:"text-right"},t.read?null:r.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}))))));return r.a.createElement(m.a,null,r.a.createElement(s.a,{className:"d-flex justify-content-between pageHead"},r.a.createElement("h4",{className:"m-b-20"},"Notifications"),r.a.createElement("div",null,r.a.createElement("span",null))),r.a.createElement(s.a,null,r.a.createElement(i.a,null,r.a.createElement(o.a,null,r.a.createElement(o.a.Body,null,r.a.createElement("div",{style:{borderCollapse:!0},className:"notificationsBox"},S||""),Object(p.a)(c)&&!j?r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,"Data not available"),r.a.createElement("br",null),r.a.createElement("br",null)):"",j?r.a.createElement(E.a,null):null,r.a.createElement(f.a,{instanceCount:I}))))))}},259:function(e,t,a){"use strict";var n=a(0),l=a.n(n);t.a=()=>l.a.createElement("div",{className:"loader-bg"},l.a.createElement("div",{className:"loader-track"},l.a.createElement("div",{className:"loader-fill"})))},263:function(e,t,a){"use strict";var n=a(0),l=a.n(n);t.a=e=>l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{className:"display-5",style:{fontSize:"1.4em",textAlign:"center",marginTop:"10vh"}},e.children))},269:function(e,t,a){"use strict";var n=a(15),l=a.n(n),c=a(28),r=a(47),s=a(0),i=a.n(s),o=a(11),m=a(292),u=a(320),d=a(302),p=a(339);t.a=Object(o.h)((function(e){var t=e.location.search,a=new URLSearchParams(t),n=parseInt(a.get("start")||0),s=parseInt(a.get("end")||25),o=parseInt(n/(s-n)),E=i.a.useState(s-n),f=Object(r.a)(E,1)[0],h=i.a.useState(o),b=Object(r.a)(h,2),v=b[0],g=b[1];i.a.useEffect(()=>{(n%25!==0||s%25!==0||s-n!==25&&s-n!==50&&s-n!==100||s<25||n<0)&&(n=0,s=25,a.set("start",0),a.set("end",25),e.history.push({search:a.toString()}))},[]);var y=t=>{g(t),a.set("start",f*t),a.set("end",f*(t+1)),e.history.push({search:a.toString()}),console.log(t)},j=function(){var t=Object(c.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.set("start",0),a.set("end",parseInt(n.target.value)),e.history.push({search:a.toString()});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=e.instanceCount,x=Math.ceil(k/f);if(v>=x-5)var C=[x-5,x-4,x-3,x-2];else C=[v-1,v-0,v+1,v+2,v+3];return i.a.createElement(m.a,{style:{display:"flex",justifyContent:"space-between",padding:"40px 10px 0 10px   "}},i.a.createElement(u.a,{size:"sm",className:"mb-3",style:{maxWidth:"120px",backgroundColor:"white"}},i.a.createElement(u.a.Prepend,null,i.a.createElement(u.a.Text,{id:"inputGroup-sizing-sm"},"Show:")),i.a.createElement(d.a.Control,{style:{height:"30.21px",backgrondColor:"white"},as:"select",value:f,onChange:j},i.a.createElement("option",{value:"25"},"25"),i.a.createElement("option",{value:"50"},"50"),i.a.createElement("option",{value:"100"},"100"))),i.a.createElement(p.a,{style:{marginBottom:0},size:"sm"},i.a.createElement(p.a.Prev,{onClick:()=>y(v-1),disabled:0===v}),x<=8?[1,2,3,4,5,6,7,8].map((e,t)=>{if(!(e>x))return i.a.createElement(p.a.Item,{disabled:x<e,key:t,active:v===e-1,onClick:()=>y(e-1)},e)}):i.a.createElement(i.a.Fragment,null,v>3?i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a.Item,{active:0===v,onClick:()=>y(0)},1),i.a.createElement(p.a.Item,{active:1===v,onClick:()=>y(1)},2),i.a.createElement(p.a.Ellipsis,{disabled:!0})):null,(v>3?C:[1,2,3,4,5]).map((e,t)=>i.a.createElement(p.a.Item,{disabled:x<e,key:t,active:v===e-1,onClick:()=>y(e-1)},e)),x>7&&v<x-5?i.a.createElement(p.a.Ellipsis,{disabled:!0}):null,x>7?i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a.Item,{active:v===x-2,onClick:()=>y(x-2)},x-1),i.a.createElement(p.a.Item,{active:v===x-1,onClick:()=>y(x-1)},x)):i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a.Item,{disabled:x<6,active:5===v,onClick:()=>y(5)},6),i.a.createElement(p.a.Item,{disabled:x<7,active:6===v,onClick:()=>y(6)},7))),i.a.createElement(p.a.Next,{onClick:()=>y(v+1),disabled:v===x-1||0===x})))}))},270:function(e,t,a){"use strict";var n=a(0),l=a.n(n),c=a(273),r=a.n(c);t.a=()=>l.a.createElement("div",{style:{pdisplay:"block",width:"100%",paddingBottom:"60px"}},l.a.createElement("img",{style:{height:"100px",position:"relative",left:"calc( 50% - 50px )"},src:r.a,alt:""}))},271:function(e,t,a){"use strict";function n(e){var t=new URLSearchParams(e.location.search);return{start:parseInt(t.get("start"))||0,end:parseInt(t.get("end"))||25}}a.d(t,"a",(function(){return n}))},273:function(e,t,a){e.exports=a.p+"static/media/spinner.2f27f045.gif"}}]);
//# sourceMappingURL=79.7289996a.chunk.js.map