(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[34],{194:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(47),o=a(15),c=a.n(o),l=a(28),i=a(0),s=a.n(i),u=a(292),m=a(260),p=a(309),d=a(252),f=a(49),g=a(328),h=(a(4),a(265)),b=a(25),v=a(277),y=a(31),E=a(263),O=a(547),j=[],x=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.push(t.details[0]),Object(y.a)(t.sub_categories)||x(t.sub_categories),e.abrupt("return");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=e=>{var t=s.a.useState(null),a=Object(r.a)(t,2),o=a[0],i=a[1],y=s.a.useState(!0),_=Object(r.a)(y,2),w=_[0],C=_[1],k=s.a.useState({showModal:!1,itemCategoryId:null,itemsLength:null}),S=Object(r.a)(k,2),N=S[0],U=S[1],F=s.a.useState([]),I=Object(r.a)(F,2),P=I[0],L=I[1],R=s.a.useState([]),D=Object(r.a)(R,2),T=D[0],z=D[1],V=s.a.useState([]),A=Object(r.a)(V,2),B=A[0],M=A[1];s.a.useEffect(()=>{var t=new AbortController;return Object(l.a)(c.a.mark((function a(){var n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=0,a.next=3,Object(v.d)({action:"get",item_category_id:e.match.params.id},t.signal).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!t.json.status){e.next=11;break}return i(t.json.item_category[0]),x(t.json.parent_tree),e.next=6,L(j);case 6:j=[],z(t.json.sub_categories),n++,e.next=12;break;case 11:b.a.fire({icon:"error",title:t.json.error,background:"#ffe5de"});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(e=>{console.log(e)});case 3:return a.next=5,Object(g.f)({action:"get",filter:"category",category_id:e.match.params.id,start:0,end:50},t.signal).then(e=>{console.log(e),e.json.status?(M(e.json.items),n++):b.a.fire({icon:"error",title:e.json.error,background:"#ffe5de"})}).catch(e=>{console.log(e)});case 5:2===n&&C(!1);case 6:case"end":return a.stop()}}),a)})))(),()=>t.abort()},[]);var H=t=>{Object(v.b)({action:"delete",item_categories_id:[t]}).then(function(){var t=Object(l.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(a),a.json.status?(U({showModal:!1,itemCategoryId:null}),b.a.fire({icon:"success",title:"Item Category deleted successfully!",background:"#dffff0"}),e.history.push("/item-categories")):b.a.fire({icon:"error",title:a.json.error,background:"#ffe5de"});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(e=>{console.log(e)})};return console.log("=========================================="),console.log(P),console.log("=========================================="),w?s.a.createElement(f.a,null):s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{className:"d-flex justify-content-between pageHead"},s.a.createElement("h4",{className:"m-b-10",style:{lineHeight:"33px"}},o.name),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary btn-sm shadow-2 mb-4",onClick:()=>e.history.push("/item-category/update/"+o.id)}," ",s.a.createElement("i",{className:"feather icon-edit text-c-white f-15 m-r-5"}),"Update"),s.a.createElement("button",{className:"btn btn-danger btn-sm shadow-2 mb-4",onClick:()=>{U({showModal:!0,itemCategoryId:o.id,itemsLength:o.count_item})}}," ",s.a.createElement("i",{className:"feather icon-trash-2 text-c-white f-15 m-r-5"}),"Delete"))),s.a.createElement(u.a,null,s.a.createElement(m.a,{xl:1}),s.a.createElement(m.a,{xl:10},s.a.createElement(p.a,null,s.a.createElement(p.a.Body,null,s.a.createElement("h5",{className:"mb-4"},"Item Category Details"),s.a.createElement("div",{style:{position:"relative",top:"-20px"}},s.a.createElement("div",{style:{margin:"4px 3px 4px 3px",color:"#42768a"}},P.map((t,a)=>a===P.length-1?s.a.createElement("span",{style:{display:"inline",cursor:"pointer"},key:a},t.name):s.a.createElement("div",{key:a,style:{display:"inline",cursor:"pointer"},onClick:()=>{e.history.push("/item-category/"+t.id)}},t.name,s.a.createElement("i",{className:"feather icon-chevron-right text-c-white f-15 "}))))),s.a.createElement("br",null),s.a.createElement("div",{className:"row d-flex align-items-center"},s.a.createElement(m.a,{md:2}),s.a.createElement(m.a,{md:8},s.a.createElement("div",{className:"mb-1 border-bottom"},s.a.createElement("b",null,"Category Name")),s.a.createElement("div",{className:"mt-1 mb-3"},o.name," "," ",o.is_active?s.a.createElement(d.a,{variant:"info"},"Active"):s.a.createElement(d.a,{variant:"secondary"},"Inactive")),T.length>0?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"mb-1 border-bottom"},s.a.createElement("b",null,"Sub-Categories")),T.map((t,a)=>s.a.createElement("li",{key:a,style:{color:"#42768a",cursor:"pointer"},className:"mt-1 mb-0",onClick:()=>e.history.push("/item-category/"+t.id)},t.name))):null),s.a.createElement(m.a,{md:2})),s.a.createElement("br",null),B.length<1?s.a.createElement(E.a,null,"There are no items of ",o.name," Category!"):s.a.createElement(O.a,{itemCategoryId:e.match.params.id,tableHeader:"Items of ".concat(o.name," Category")})))),s.a.createElement(m.a,{xl:1}),s.a.createElement(h.a,{show:N.showModal,onCancel:()=>U(Object(n.a)(Object(n.a)({},N),{},{showModal:!1})),onDelete:()=>H(N.itemCategoryId),message:N.itemsLength>0?"First, delete the items associated to this category to delete this cateogry.":null,noRedButton:N.itemsLength>0})))}},263:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=e=>r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"display-5",style:{fontSize:"1.4em",textAlign:"center",marginTop:"10vh"}},e.children))},265:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(883),c=a(105);t.a=e=>r.a.createElement(o.a,{style:{border:"none",color:"#3d4075",boxShadow:"0 0 10px red"},show:e.show,onHide:e.onCancel},r.a.createElement(o.a.Header,{closeButton:!0,style:{margin:"auto 5px"}},r.a.createElement(o.a.Title,{style:{paddingLeft:"15px",color:"#3d4075",fontSize:"1.4em",fontWeight:"bold"}},"Are you sure?")),r.a.createElement(o.a.Body,{style:{paddingLeft:"30px"}},e.message?e.message:"This action cannot be undone."),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",padding:"10px"}},r.a.createElement(c.a,{variant:"secondary",onClick:e.onCancel},r.a.createElement("b",null,"Cancel")),e.noRedButton?null:r.a.createElement(c.a,{variant:"danger",onClick:e.onDelete},r.a.createElement("b",null,e.redTitle||"Delete"))))},269:function(e,t,a){"use strict";var n=a(15),r=a.n(n),o=a(28),c=a(47),l=a(0),i=a.n(l),s=a(11),u=a(292),m=a(320),p=a(302),d=a(339);t.a=Object(s.h)((function(e){var t=e.location.search,a=new URLSearchParams(t),n=parseInt(a.get("start")||0),l=parseInt(a.get("end")||25),s=parseInt(n/(l-n)),f=i.a.useState(l-n),g=Object(c.a)(f,1)[0],h=i.a.useState(s),b=Object(c.a)(h,2),v=b[0],y=b[1];i.a.useEffect(()=>{(n%25!==0||l%25!==0||l-n!==25&&l-n!==50&&l-n!==100||l<25||n<0)&&(n=0,l=25,a.set("start",0),a.set("end",25),e.history.push({search:a.toString()}))},[]);var E=t=>{y(t),a.set("start",g*t),a.set("end",g*(t+1)),e.history.push({search:a.toString()}),console.log(t)},O=function(){var t=Object(o.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.set("start",0),a.set("end",parseInt(n.target.value)),e.history.push({search:a.toString()});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=e.instanceCount,x=Math.ceil(j/g);if(v>=x-5)var _=[x-5,x-4,x-3,x-2];else _=[v-1,v-0,v+1,v+2,v+3];return i.a.createElement(u.a,{style:{display:"flex",justifyContent:"space-between",padding:"40px 10px 0 10px   "}},i.a.createElement(m.a,{size:"sm",className:"mb-3",style:{maxWidth:"120px",backgroundColor:"white"}},i.a.createElement(m.a.Prepend,null,i.a.createElement(m.a.Text,{id:"inputGroup-sizing-sm"},"Show:")),i.a.createElement(p.a.Control,{style:{height:"30.21px",backgrondColor:"white"},as:"select",value:g,onChange:O},i.a.createElement("option",{value:"25"},"25"),i.a.createElement("option",{value:"50"},"50"),i.a.createElement("option",{value:"100"},"100"))),i.a.createElement(d.a,{style:{marginBottom:0},size:"sm"},i.a.createElement(d.a.Prev,{onClick:()=>E(v-1),disabled:0===v}),x<=8?[1,2,3,4,5,6,7,8].map((e,t)=>{if(!(e>x))return i.a.createElement(d.a.Item,{disabled:x<e,key:t,active:v===e-1,onClick:()=>E(e-1)},e)}):i.a.createElement(i.a.Fragment,null,v>3?i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a.Item,{active:0===v,onClick:()=>E(0)},1),i.a.createElement(d.a.Item,{active:1===v,onClick:()=>E(1)},2),i.a.createElement(d.a.Ellipsis,{disabled:!0})):null,(v>3?_:[1,2,3,4,5]).map((e,t)=>i.a.createElement(d.a.Item,{disabled:x<e,key:t,active:v===e-1,onClick:()=>E(e-1)},e)),x>7&&v<x-5?i.a.createElement(d.a.Ellipsis,{disabled:!0}):null,x>7?i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a.Item,{active:v===x-2,onClick:()=>E(x-2)},x-1),i.a.createElement(d.a.Item,{active:v===x-1,onClick:()=>E(x-1)},x)):i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a.Item,{disabled:x<6,active:5===v,onClick:()=>E(5)},6),i.a.createElement(d.a.Item,{disabled:x<7,active:6===v,onClick:()=>E(6)},7))),i.a.createElement(d.a.Next,{onClick:()=>E(v+1),disabled:v===x-1||0===x})))}))},270:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(273),c=a.n(o);t.a=()=>r.a.createElement("div",{style:{pdisplay:"block",width:"100%",paddingBottom:"60px"}},r.a.createElement("img",{style:{height:"100px",position:"relative",left:"calc( 50% - 50px )"},src:c.a,alt:""}))},271:function(e,t,a){"use strict";function n(e){var t=new URLSearchParams(e.location.search);return{start:parseInt(t.get("start"))||0,end:parseInt(t.get("end"))||25}}a.d(t,"a",(function(){return n}))},273:function(e,t,a){e.exports=a.p+"static/media/spinner.2f27f045.gif"},274:function(e,t,a){"use strict";var n=a(304),r=a(295),o=(a(323),a(305),a(296)),c=a(297),l=a(298),i=a(300),s=a(303),u=a(289),m=a(288),p=a(0),d=a.n(p),f=(a(308),a(35),a(6),a(299),a(306)),g=a(264),h=(a(285),a(311),a(312),a(327)),b={cacheOptions:!1,defaultOptions:!1,filterOption:null},v=function(e){var t,a;return a=t=function(t){function a(e){var t;return Object(o.a)(this,a),t=Object(l.a)(this,Object(i.a)(a).call(this)),Object(m.a)(Object(u.a)(Object(u.a)(t)),"select",void 0),Object(m.a)(Object(u.a)(Object(u.a)(t)),"lastRequest",void 0),Object(m.a)(Object(u.a)(Object(u.a)(t)),"mounted",!1),Object(m.a)(Object(u.a)(Object(u.a)(t)),"optionsCache",{}),Object(m.a)(Object(u.a)(Object(u.a)(t)),"handleInputChange",(function(e,a){var n=t.props,r=n.cacheOptions,o=n.onInputChange,c=Object(f.k)(e,a,o);if(!c)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(r&&t.optionsCache[c])t.setState({inputValue:c,loadedInputValue:c,loadedOptions:t.optionsCache[c],isLoading:!1,passEmptyOptions:!1});else{var l=t.lastRequest={};t.setState({inputValue:c,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},(function(){t.loadOptions(c,(function(e){t.mounted&&(e&&(t.optionsCache[c]=e),l===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:c,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return c})),t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:"undefined"!==typeof e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return Object(s.a)(a,t),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,a=this.state.inputValue;!0===t&&this.loadOptions(a,(function(t){if(e.mounted){var a=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:a})}}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var a=this.props.loadOptions;if(!a)return t();var n=a(e,t);n&&"function"===typeof n.then&&n.then(t,(function(){return t()}))}},{key:"render",value:function(){var t=this,a=this.props,o=(a.loadOptions,Object(n.a)(a,["loadOptions"])),c=this.state,l=c.defaultOptions,i=c.inputValue,s=c.isLoading,u=c.loadedInputValue,m=c.loadedOptions,p=c.passEmptyOptions?[]:i&&u?m:l||[];return d.a.createElement(e,Object(r.a)({},o,{ref:function(e){t.select=e},options:p,isLoading:s,onInputChange:this.handleInputChange}))}}]),a}(p.Component),Object(m.a)(t,"defaultProps",b),a}(Object(h.a)(g.a));t.a=v},277:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return u})),a.d(t,"e",(function(){return m}));var n=a(15),r=a.n(n),o=a(28),c=a(41),l=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/categories/get","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),i=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/categories/delete","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),s=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/category/add","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/category/get","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/category/update","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()},287:function(e,t,a){"use strict";a.d(t,"j",(function(){return c})),a.d(t,"i",(function(){return l})),a.d(t,"l",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"o",(function(){return u})),a.d(t,"d",(function(){return m})),a.d(t,"k",(function(){return p})),a.d(t,"h",(function(){return d})),a.d(t,"g",(function(){return f})),a.d(t,"f",(function(){return g})),a.d(t,"e",(function(){return h})),a.d(t,"m",(function(){return b})),a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return y})),a.d(t,"n",(function(){return E}));var n=a(26),r=a(31),o=e=>{var t,a=new URLSearchParams(e),o=[],c=Object(n.a)(a.keys());try{for(c.s();!(t=c.n()).done;){var l=t.value;o.push(l)}}catch(i){c.e(i)}finally{c.f()}return console.log(o),o.includes("start")&&o.includes("end")&&2===o.length||Object(r.a)(e)?(console.log("not searchable"),!1):(console.log("searchable"),!0)},c=e=>{var t=e.location.search,a=new URLSearchParams(t)||"",n={};if(!o(t))return n;var r=a.get("itemName"),c=a.get("matchExactly"),l=a.get("barcode"),i=a.get("category"),s=a.get("weightFrom"),u=a.get("weightUpto"),m=a.get("cpFrom"),p=a.get("cpUpto"),d=a.get("stockFrom"),f=a.get("stockUpto"),g=a.get("spFrom"),h=a.get("spUpto"),b=a.get("soldFrom"),v=a.get("soldUpto");return n=l?{filter:"barcode",barcode:l}:{filter:"multiple",filters:{is_applied_name:!!r,exact_name:!!c,name:r,is_applied_weight_from:!!s,weight_from:s,is_applied_weight_upto:!!u,weight_upto:u,is_applied_average_cost_price_from:!!m,average_cost_price_from:m,is_applied_average_cost_price_upto:!!p,average_cost_price_upto:p,is_applied_stock_from:!!d,stock_from:d,is_applied_stock_upto:!!f,stock_upto:f,is_applied_sold_from:!!b,sold_from:b,is_applied_sold_upto:!!v,sold_upto:v,is_applied_sales_price_from:!!g,sales_price_from:g,is_applied_sales_price_upto:!!h,sales_price_upto:h,is_applied_category:!!i,category:i}}},l=e=>{var t=e.location.search,a=new URLSearchParams(t)||"",n={};if(!o(t))return n;var r=a.get("invoiceNo")||"",c=a.get("dateFrom")?new Date(a.get("dateFrom")):"",l=a.get("dateUpto")?new Date(a.get("dateUpto")):"",i=a.get("customer")||"",s=a.get("invoiceStatus")||"",u=a.get("isActive")||"",m=a.get("isCanceled")||"";return n=r?{filter:"invoice_number",invoice_number:r}:{filter:"multiple",filters:{date:!(!c&&!l),start_date:c?c.toISOString():"",end_date:l?l.toISOString():"",customer:!!i,customer_id:i,status:!!s,status_id:s,active:u?{is_active:"true"===u}:null,canceled:m?{is_canceled:"true"===m}:null}}},i=e=>{var t=e.location.search,a=new URLSearchParams(t)||"",n={};if(!o(t))return n;var r=a.get("invoiceNo")||"",c=a.get("dateFrom")?new Date(a.get("dateFrom")):"",l=a.get("dateUpto")?new Date(a.get("dateUpto")):"",i=a.get("vendor")||"",s=a.get("purchaseOrderStatus")||"";return n=r?{filter:"third_party_invoice_number",third_party_invoice_number:r}:{filter:"multiple",filters:{date:!(!c&&!l),start_date:c?c.toISOString():null,end_date:l?l.toISOString():null,vendor:i||!1,purchaseOrderStatus:!!s,status:s}}},s=e=>{var t=e.location.search,a=new URLSearchParams(t)||"",n={};if(!o(t))return n;var r=a.get("accountName")||!1,c=a.get("status")||"",l=a.get("childOf")||"",i=a.get("vendor")||!1,s=a.get("customer")||!1,u=a.get("currentAmountFrom")||"",m=a.get("currentAmountUpto")||"",p=a.get("creditsFrom")||"",d=a.get("creditsUpto")||"";return n={filter:"multiple",filters:{status:""!==c,closed:"true"===c,name:r,vendor:i,customer:s,current_amount:!(!u&&!m),current_amount_from:u,current_amount_upto:m,credits:!(!p&&!d),credits_from:p,credits_upto:d,parent:a.get("isParent")||!1,children:!!l,parent_id:l,account_type:a.get("accountType")||!1,header:a.get("accountHeader")||!1}}},u=e=>{var t=e.location.search,a=new URLSearchParams(t)||"",n={};return o(t)?n={filter:"name",first_name:a.get("vendorName")}:n},m=e=>{var t=e.location.search,a=new URLSearchParams(t)||"",n={};return o(t)?n={filter:"name",name:a.get("customerName")}:n},p=e=>{var t=e.location.search,a=new URLSearchParams(t)||"",n={};if(!o(t))return n;var r=a.get("bundleId")||!1,c=a.get("account")||!1,l=a.get("dateFrom")?new Date(a.get("dateFrom")):"",i=a.get("dateUpto")?new Date(a.get("dateUpto")):"",s=a.get("isAdd")||"",u=a.get("amountFrom")||"",m=a.get("amountUpto")||"",p=a.get("paymentMethod")||!1;return n={filter:"multiple",filters:{account:parseInt(c),date:!(!l&&!i),start_date:l?l.toISOString():null,end_date:i?i.toISOString():null,bundle_id:parseInt(r),apply_is_add:""!==s,is_add:"true"===s,amount:!(!u&&!m),amount_from:u,amount_upto:m,payment_method:p}}},d=e=>{console.log("here we go");var t=e.location.search,a=new URLSearchParams(t)||"",n={};if(!o(t))return n;var r=a.get("name")||!1,c=a.get("code")||!1,l=a.get("category")||!1,i=a.get("discountType")||!1,s=a.get("rateFrom")||"",u=a.get("rateUpto")||"",m=a.get("countUsedFrom")||"",p=a.get("countUsedUpto")||"",d=a.get("hasUniqueCodes")||"",f=a.get("isLimited")||"";return n={filter:"multiple",filters:{name:r,category:l,code:c,discount_type:i,apply_limited:""!==f,is_limited:"true"===f,apply_has_unique_codes:""!==d,has_unique_codes:"true"===d,rate:!(!s&&!u),rate_from:s,rate_upto:u,count_used:!(!m&&!p),count_used_from:m,count_used_upto:p}},console.log(n),n},f=e=>{console.log("here we go");var t=e.location.search,a=new URLSearchParams(t)||"",n={};if(!o(t))return n;var r=a.get("giftcardId")||null,c=a.get("invoiceNo")||null,l=a.get("customer")||null,i=a.get("dateFrom")?new Date(a.get("dateFrom")):null,s=a.get("dateUpto")?new Date(a.get("dateUpto")):null,u=a.get("valueFrom")||null,m=a.get("valueUpto")||null;return n={filter:"multiple",filters:{gift_card:r,unique_card:a.get("uniqueCard")||null,value:{from:u,upto:m},invoice:c,customer:l,date:{from:i,upto:s}}},console.log(n),n},g=e=>{var t=e.location.search,a=new URLSearchParams(t)||"",n={};if(!o(t))return n;var r=a.get("name")||null,c=a.get("enabled")||null;return n={filter:"multiple",filters:{name:r||null,status:c?{is_active:"true"===c}:null}},console.log(n),n},h=e=>{var t=e.location.search,a=new URLSearchParams(t)||"",n={};if(!o(t))return n;var r=a.get("name")||!1,c=a.get("code")||!1,l=a.get("discountType")||!1,i=a.get("rateFrom")||"",s=a.get("rateUpto")||"";return n={filter:"multiple",filters:{name:r,code:c,discount_type:l,rate:!(!i&&!s),rate_from:i,rate_upto:s}}},b=e=>{var t=e.location.search,a=new URLSearchParams(t)||"",n={};if(!o(t))return n;var r=a.get("name")||!1,c=a.get("code")||!1,l=a.get("taxType")||!1,i=a.get("rateFrom")||"",s=a.get("rateUpto")||"";return n={filter:"multiple",filters:{name:r,code:c,tax_type:l,rate:!(!i&&!s),rate_from:i,rate_upto:s}}},v=e=>{var t=e.location.search,a=new URLSearchParams(t)||"",n={};if(!o(t))return n;var r=a.get("user")||"",c=a.get("action")||"",l=a.get("dateFrom")?new Date(a.get("dateFrom")):"",i=a.get("dateUpto")?new Date(a.get("dateUpto")):"";return n={filter:"multiple",filters:{date_range:!(!l&&!i),start_date:l,end_date:i,user:r,action:c}}},y=e=>{var t=e.location.search,a=new URLSearchParams(t)||"",n={};if(!o(t))return n;var r=a.get("user")||null,c=a.get("action")||null,l=a.get("model")||null,i=a.get("objectId")||null,s=a.get("objectName")||"",u=a.get("dateFrom")?new Date(a.get("dateFrom")):null,m=a.get("dateUpto")?new Date(a.get("dateUpto")):null;return n={filter:"multiple",filters:{date_range:u||m?{date_from:u,date_upto:m}:null,user:r,action:c,object_id:i,object_str:s,model:l}}},E=e=>{var t=e.location.search,a=new URLSearchParams(t)||"",n={};if(!o(t))return n;var r=a.get("name")||"",c=a.get("role")||"",l=a.get("status")||"";return r&&(n.filter="name",n.name=r),n={filter:"multiple",filters:{name:r,role_id:c,role:c,status:!!l,is_active:"true"===l}}}},294:function(e,t,a){"use strict";var n=a(5),r=a(7),o=a(10),c=a.n(o),l=a(0),i=a.n(l),s=a(14),u=i.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,l=e.striped,u=e.bordered,m=e.borderless,p=e.hover,d=e.size,f=e.variant,g=e.responsive,h=Object(r.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),b=Object(s.b)(a,"table"),v=c()(o,b,f&&b+"-"+f,d&&b+"-"+d,l&&b+"-striped",u&&b+"-bordered",m&&b+"-borderless",p&&b+"-hover"),y=i.a.createElement("table",Object(n.a)({},h,{className:v,ref:t}));if(g){var E=b+"-responsive";return"string"===typeof g&&(E=E+"-"+g),i.a.createElement("div",{className:E},y)}return y}));t.a=u},320:function(e,t,a){"use strict";var n=a(5),r=a(7),o=a(10),c=a.n(o),l=a(0),i=a.n(l),s=a(59),u=a(14),m=i.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.size,l=e.className,s=e.as,m=void 0===s?"div":s,p=Object(r.a)(e,["bsPrefix","size","className","as"]);return a=Object(u.b)(a,"input-group"),i.a.createElement(m,Object(n.a)({ref:t},p,{className:c()(l,a,o&&a+"-"+o)}))})),p=Object(s.a)("input-group-append"),d=Object(s.a)("input-group-prepend"),f=Object(s.a)("input-group-text",{Component:"span"});m.displayName="InputGroup",m.Text=f,m.Radio=function(e){return i.a.createElement(f,null,i.a.createElement("input",Object(n.a)({type:"radio"},e)))},m.Checkbox=function(e){return i.a.createElement(f,null,i.a.createElement("input",Object(n.a)({type:"checkbox"},e)))},m.Append=p,m.Prepend=d,t.a=m},328:function(e,t,a){"use strict";a.d(t,"f",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"h",(function(){return m})),a.d(t,"d",(function(){return u})),a.d(t,"e",(function(){return p})),a.d(t,"c",(function(){return d})),a.d(t,"g",(function(){return f}));var n=a(15),r=a.n(n),o=a(28),c=a(41),l=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/get","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),i=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/delete","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),s=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/item/add","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/item/get","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/item/update","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/export","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/export","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/import","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()},339:function(e,t,a){"use strict";var n=a(5),r=a(7),o=a(10),c=a.n(o),l=a(0),i=a.n(l),s=a(14),u=a(266),m=a(36),p=i.a.forwardRef((function(e,t){var a=e.active,o=e.disabled,l=e.className,s=e.style,u=e.activeLabel,p=e.children,d=Object(r.a)(e,["active","disabled","className","style","activeLabel","children"]),f=a||o?"span":m.a;return i.a.createElement("li",{ref:t,style:s,className:c()(l,"page-item",{active:a,disabled:o})},i.a.createElement(f,Object(n.a)({className:"page-link",disabled:o},d),p,a&&u&&i.a.createElement("span",{className:"sr-only"},u)))}));p.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},p.displayName="PageItem";var d=p;function f(e,t,a){var n,o;return void 0===a&&(a=e),o=n=function(e){function n(){return e.apply(this,arguments)||this}return Object(u.a)(n,e),n.prototype.render=function(){var e=this.props,n=e.children,o=Object(r.a)(e,["children"]);return delete o.active,i.a.createElement(p,o,i.a.createElement("span",{"aria-hidden":"true"},n||t),i.a.createElement("span",{className:"sr-only"},a))},n}(i.a.Component),n.displayName=e,o}var g=f("First","\xab"),h=f("Prev","\u2039","Previous"),b=f("Ellipsis","\u2026","More"),v=f("Next","\u203a"),y=f("Last","\xbb"),E=i.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,l=e.children,u=e.size,m=Object(r.a)(e,["bsPrefix","className","children","size"]),p=Object(s.b)(a,"pagination");return i.a.createElement("ul",Object(n.a)({ref:t},m,{className:c()(o,p,u&&p+"-"+u)}),l)}));E.First=g,E.Prev=h,E.Ellipsis=b,E.Item=d,E.Next=v,E.Last=y;t.a=E},362:function(e,t,a){"use strict";var n,r=a(5),o=a(7),c=a(266),l=a(10),i=a.n(l),s=a(319),u=a(334),m=a(0),p=a.n(m),d=a(338),f=a(79),g=a(335),h={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};var b=((n={})[d.c]="collapse",n[d.d]="collapsing",n[d.b]="collapsing",n[d.a]="collapse show",n),v={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,dimension:"height",getDimensionValue:function(e,t){var a=t["offset"+e[0].toUpperCase()+e.slice(1)],n=h[e];return a+parseInt(Object(s.a)(t,n[0]),10)+parseInt(Object(s.a)(t,n[1]),10)}},y=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).handleEnter=function(e){e.style[t.getDimension()]="0"},t.handleEntering=function(e){var a=t.getDimension();e.style[a]=t._getScrollDimensionValue(e,a)},t.handleEntered=function(e){e.style[t.getDimension()]=null},t.handleExit=function(e){var a=t.getDimension();e.style[a]=t.props.getDimensionValue(a,e)+"px",Object(g.a)(e)},t.handleExiting=function(e){e.style[t.getDimension()]=null},t}Object(c.a)(t,e);var a=t.prototype;return a.getDimension=function(){return"function"===typeof this.props.dimension?this.props.dimension():this.props.dimension},a._getScrollDimensionValue=function(e,t){return e["scroll"+t[0].toUpperCase()+t.slice(1)]+"px"},a.render=function(){var e=this,t=this.props,a=t.onEnter,n=t.onEntering,c=t.onEntered,l=t.onExit,s=t.onExiting,m=t.className,g=t.children,h=Object(o.a)(t,["onEnter","onEntering","onEntered","onExit","onExiting","className","children"]);delete h.dimension,delete h.getDimensionValue;var v=Object(f.a)(this.handleEnter,a),y=Object(f.a)(this.handleEntering,n),E=Object(f.a)(this.handleEntered,c),O=Object(f.a)(this.handleExit,l),j=Object(f.a)(this.handleExiting,s);return p.a.createElement(d.e,Object(r.a)({addEndListener:u.a},h,{"aria-expanded":h.role?h.in:null,onEnter:v,onEntering:y,onEntered:E,onExit:O,onExiting:j}),(function(t,a){return p.a.cloneElement(g,Object(r.a)({},a,{className:i()(m,g.props.className,b[t],"width"===e.getDimension()&&"width")}))}))},t}(p.a.Component);y.defaultProps=v,t.a=y},486:function(e,t,a){"use strict";var n=a(5),r=a(7),o=a(10),c=a.n(o),l=a(0),i=a.n(l),s=a(14),u=i.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,l=e.fluid,u=e.rounded,m=e.roundedCircle,p=e.thumbnail,d=Object(r.a)(e,["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"]);a=Object(s.b)(a,"img");var f=c()(l&&a+"-fluid",u&&"rounded",m&&"rounded-circle",p&&a+"-thumbnail");return i.a.createElement("img",Object(n.a)({ref:t},d,{className:c()(o,f)}))}));u.displayName="Image",u.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},t.a=u},491:function(e,t,a){"use strict";var n=a(15),r=a.n(n),o=a(28),c=a(1),l=a(47),i=a(0),s=a.n(i),u=a(309),m=a(302),p=a(362),d=a(292),f=a(260),g=a(274),h=a(11),b=a(31),v=a(277),y=a(25),E={itemName:"",matchExactly:!1,barcode:"",category:"",categoryName:"",weightFrom:"",weightUpto:"",cpFrom:"",cpUpto:"",stockFrom:"",stockUpto:"",spFrom:"",spUpto:"",soldFrom:"",soldUpto:""};t.a=Object(h.h)((function(e){var t=s.a.useState(!1),a=Object(l.a)(t,2),n=a[0],i=a[1],h=s.a.useState(Object(c.a)({},E)),O=Object(l.a)(h,2),j=O[0],x=O[1];s.a.useEffect(()=>{var t=e.location.search,a=new URLSearchParams(t)||"",n=a.get("itemName")||"",r=a.get("matchExactly")||!1,o=a.get("barcode")||"",l=a.get("category")||"",i=a.get("categoryName")||"",s=a.get("weightFrom")||"",u=a.get("weightUpto")||"",m=a.get("cpFrom")||"",p=a.get("cpUpto")||"",d=a.get("stockFrom")||"",f=a.get("stockUpto")||"",g=a.get("spFrom")||"",h=a.get("spUpto")||"",b=a.get("soldFrom")||"",v=a.get("soldUpto")||"";x(Object(c.a)(Object(c.a)({},j),{},{itemName:n,matchExactly:r,barcode:o,category:l,categoryName:i,weightFrom:s,weightUpto:u,cpFrom:m,cpUpto:p,stockFrom:d,stockUpto:f,spFrom:g,spUpto:h,soldFrom:b,soldUpto:v}))},[]);var _=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.c)({action:"get",filter:"none",start:0,end:999999}).then(e=>{if(console.log(e),e.json.status)return e.json.item_catagories.map((e,t)=>({label:e.name,value:e.id}));y.a.fire({icon:"error",title:e.json.error,background:"#ffe5de"})}).catch(e=>{console.log(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=e=>{var t=e.target,a=t.name,n=t.value,r=t.type;x(Object(c.a)(Object(c.a)({},j),{},{[a]:("number"===r?parseFloat(n):n)||""}))},C=()=>{var t=new URLSearchParams;Object.keys(j).forEach(e=>{if(j[e]){if("matchExactly"===e&&Object(b.a)(j.itemName))return;t.append(e,j[e])}});var a=t.toString();e.history.replace({search:a})},k=s.a.createElement("div",{style:{background:"#a6c0ce",width:"12px",height:"12px",borderRadius:"50%",position:"relative",top:"-5px",left:"-7px"},className:"itemsSearchFilterNotificationDot"}),S=!1;for(var N in j)"itemName"!==N&&"matchExactly"!==N&&(Object(b.a)((j[N]||"").toString())||(console.log(N),S=!0));return s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a.Header,{className:"filterInputs",onKeyDown:e=>{"Enter"===e.key&&C()}},s.a.createElement("div",{className:"filterHeader"},s.a.createElement("div",{style:{display:"flex",flex:9}},s.a.createElement(m.a.Control,{name:"itemName",value:j.itemName,onChange:w,size:"sm",type:"text",placeholder:"Search Item",className:"mainSearchBox"}),s.a.createElement("button",{className:"btn btn-secondary btn-sm ".concat(j.matchExactly?"":"exactButton"),onClick:()=>{x(Object(c.a)(Object(c.a)({},j),{},{matchExactly:!j.matchExactly}))},style:{padding:"4px 8px",margin:0,marginLeft:0,borderLeft:0}},"Exact"),s.a.createElement("button",{className:"btn btn-secondary btn-sm",onClick:C,style:{padding:"4px 8px",margin:0,marginLeft:"2px"}}," ",s.a.createElement("i",{className:"feather icon-search text-c-white f-8 mr-1"}),"Search")),s.a.createElement("button",{className:"btn btn-secondary btn-sm showFilterButton",onClick:()=>i(!n)},s.a.createElement("div",{className:"filterWrapper"},s.a.createElement("i",{className:"feather icon-sliders text-c-white f-8"})),s.a.createElement("span",null,n?"Hide":"Show"," Filters")),S?k:null),s.a.createElement(p.a,{in:n},s.a.createElement("div",{id:"basic-collapse"},s.a.createElement(u.a.Body,{className:"filterBox pr-3 pl-3 pb-0"},s.a.createElement(d.a,null,s.a.createElement(f.a,{md:3},s.a.createElement(m.a.Label,null,"Barcode"),s.a.createElement("div",{style:{display:"flex"}},s.a.createElement(m.a.Control,{name:"barcode",onChange:w,value:j.barcode,type:"text",placeholder:"Barcode",size:"sm"}))),s.a.createElement(f.a,{md:3},s.a.createElement(m.a.Label,null,"Cost Price"),s.a.createElement("div",{style:{display:"flex"}},s.a.createElement(m.a.Control,{name:"cpFrom",value:j.cpFrom,onChange:w,type:"number",placeholder:"From",size:"sm"}),s.a.createElement(m.a.Control,{name:"cpUpto",value:j.cpUpto,onChange:w,type:"number",placeholder:"Upto",size:"sm"}))),s.a.createElement(f.a,{md:3},s.a.createElement(m.a.Label,null,"Sales Price"),s.a.createElement("div",{style:{display:"flex"}},s.a.createElement(m.a.Control,{name:"spFrom",value:j.spFrom,onChange:w,type:"number",placeholder:"From",size:"sm"}),s.a.createElement(m.a.Control,{name:"spUpto",value:j.spUpto,onChange:w,type:"number",placeholder:"Upto",size:"sm"}))),s.a.createElement(f.a,{md:3},s.a.createElement(m.a.Label,null,"Weight"),s.a.createElement("div",{style:{display:"flex"}},s.a.createElement(m.a.Control,{name:"weightFrom",value:j.weightFrom,onChange:w,type:"number",placeholder:"From",size:"sm"}),s.a.createElement(m.a.Control,{name:"weightUpto",value:j.weightUpto,onChange:w,type:"number",placeholder:"Upto",size:"sm"})))),s.a.createElement("br",null),s.a.createElement(d.a,null,s.a.createElement(f.a,{md:3},s.a.createElement(m.a.Label,null,"Sold Quantity"),s.a.createElement("div",{style:{display:"flex"}},s.a.createElement(m.a.Control,{name:"soldFrom",value:j.soldFrom,onChange:w,type:"number",placeholder:"From",size:"sm"}),s.a.createElement(m.a.Control,{name:"soldUpto",value:j.soldUpto,onChange:w,type:"number",placeholder:"Upto",size:"sm"}))),s.a.createElement(f.a,{md:3},s.a.createElement(m.a.Label,null,"Stock Quantity"),s.a.createElement("div",{style:{display:"flex"}},s.a.createElement(m.a.Control,{name:"stockFrom",value:j.stockFrom,onChange:w,type:"number",placeholder:"From",size:"sm"}),s.a.createElement(m.a.Control,{name:"stockUpto",value:j.stockUpto,onChange:w,type:"number",placeholder:"Upto",size:"sm"}))),s.a.createElement(f.a,{className:"filterSelectInput",md:3},s.a.createElement(m.a.Label,null,"Category"),s.a.createElement(g.a,{value:Object(b.a)(j.category)?null:{label:j.categoryName,value:j.category},onChange:e=>{return t=e,void x(Object(c.a)(Object(c.a)({},j),{},{category:t?t.value:"",categoryName:t?t.label:""}));var t},loadOptions:_,isClearable:!0,placeholder:"Start typing"}))),s.a.createElement("br",null),s.a.createElement(d.a,{style:{display:"flex",justifyContent:"flex-end"}},s.a.createElement("button",{className:"btn btn-outline-secondary btn-sm mr-2",onClick:()=>{x(Object(c.a)(Object(c.a)({},j),{},{itemName:"",matchExactly:!1,category:"",categoryName:"",weightFrom:"",weightUpto:"",cpFrom:"",cpUpto:"",stockFrom:"",stockUpto:"",spFrom:"",spUpto:"",soldFrom:"",soldUpto:""})),e.history.replace()},style:{padding:"4px 8px",margin:0,marginLeft:"2px"}},"Reset Filters"),s.a.createElement("button",{className:"btn btn-secondary btn-sm mr-4",onClick:C,style:{padding:"4px 8px",margin:0,marginLeft:"2px"}},"Apply Filters")))))))}))},547:function(e,t,a){"use strict";var n=a(15),r=a.n(n),o=a(28),c=a(1),l=a(47),i=a(0),s=a.n(i),u=a(263),m=a(11),p=a(328),d=a(25),f=a(486),g=a(309),h=a(294),b=a(265),v=a(270),y=a(269),E=a(31),O=a(287),j=a(491),x=a(4),_=a(271);t.a=Object(m.h)(e=>{var t=s.a.useState(!0),a=Object(l.a)(t,2),n=a[0],i=a[1],m=s.a.useState([]),w=Object(l.a)(m,2),C=w[0],k=w[1],S=s.a.useState({showModal:!1,itemId:null}),N=Object(l.a)(S,2),U=N[0],F=N[1],I=s.a.useState(0),P=Object(l.a)(I,2),L=P[0],R=P[1];s.a.useEffect(()=>{var t=new AbortController,a=Object(c.a)(Object(c.a)({action:"get",filter:"none"},Object(O.j)(e)),Object(_.a)(e));return console.log(JSON.stringify(a),"++++++++++++++++++++++++++++++++++++++++++"),e.itemCategoryId&&(a.filter="category",a.category_id=e.itemCategoryId),Object(p.f)(a,t.signal).then(e=>{console.log(e,"from item table"),e.json.status?(k(e.json.items),R(e.json.count),i(!1)):d.a.fire({icon:"error",title:e.json.error,background:"#ffe5de"})}).catch(e=>{console.log(e)}),()=>t.abort()},[]);var D=e=>{Object(p.b)({action:"delete",items_id:[e]}).then(function(){var t=Object(o.a)(r.a.mark((function t(a){var n,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a.json),!a.json.status){t.next=11;break}return n=C.find(t=>t.id===e),(o=C).splice(o.indexOf(n),1),t.next=7,k([...o]);case 7:F({showModal:!1,itemId:null}),d.a.fire({icon:"success",title:"Item deleted successfully!",background:"#dffff0"}),t.next=12;break;case 11:d.a.fire({icon:"error",title:a.json.error,background:"#ffe5de"});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(e=>{console.log(e)})},T=C.map((t,a)=>{var n=t.images.find(e=>"THUMBNAIL"===e.category);return n||(n=t.images[0]),s.a.createElement("tr",{key:a},s.a.createElement("th",{scope:"row"},t.id),s.a.createElement("td",{className:"imageTd"},n?s.a.createElement(f.a,{src:n?"".concat(x.a.SERVER_URL).concat(n.image):"#",thumbnail:!0,style:{height:"46px",minWidth:"46px",width:"46px",objectFit:"cover"},alt:"..."}):null),s.a.createElement("td",{onClick:()=>{e.history.push("/item/"+t.id)},style:{cursor:"pointer",color:"#55588b"}},t.name),s.a.createElement("td",null,t.barcode),s.a.createElement("td",null,t.average_cost_price),s.a.createElement("td",null,t.sales_price),s.a.createElement("td",null,t.stock),s.a.createElement("td",null,t.sold),s.a.createElement("td",null,s.a.createElement("i",{className:"feather icon-edit text-c-green f-19 m-r-10",style:{cursor:"pointer"},onClick:()=>e.history.push("/item/update/"+t.id)}),s.a.createElement("i",{className:"feather icon-trash-2 text-c-red f-19 m-r-5",style:{cursor:"pointer"},onClick:()=>{return e=t.id,void F({showModal:!0,itemId:e});var e}})))});return s.a.createElement(s.a.Fragment,null,e.tableHeader?s.a.createElement(g.a.Header,null,s.a.createElement(g.a.Title,{as:"h5"},e.tableHeader)):null,e.itemCategoryId?null:s.a.createElement(j.a,null),s.a.createElement(h.a,{striped:!0,responsive:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"#"),s.a.createElement("th",null,"Image"),s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Barcode"),s.a.createElement("th",null,"Cost Price"),s.a.createElement("th",null,"Sales Price"),s.a.createElement("th",null,"Stock"),s.a.createElement("th",null,"Sold"),s.a.createElement("th",null))),s.a.createElement("tbody",null,T)),Object(E.a)(C)&&!n?s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,null,"Data not available"),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null)):"",n?s.a.createElement(v.a,null):null,s.a.createElement(y.a,{instanceCount:L}),s.a.createElement(b.a,{show:U.showModal,onCancel:()=>F(Object(c.a)(Object(c.a)({},U),{},{showModal:!1})),onDelete:()=>D(U.itemId)}))})}}]);
//# sourceMappingURL=34.7fb52c68.chunk.js.map