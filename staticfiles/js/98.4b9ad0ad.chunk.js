(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[98],{191:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(15),c=a.n(r),l=a(28),s=a(47),o=a(0),i=a.n(o),m=a(292),u=a(260),d=a(309),p=a(252),b=a(49),f=a(328),v=a(4),E=a(265),h=a(25);t.default=e=>{var t=i.a.useState({}),a=Object(s.a)(t,2),r=a[0],o=a[1],g=i.a.useState(!0),w=Object(s.a)(g,2),x=w[0],y=w[1],j=i.a.useState({showModal:!1,itemId:null}),N=Object(s.a)(j,2),O=N[0],k=N[1];i.a.useEffect(()=>{var t=new AbortController;return Object(f.d)({action:"get",item_id:e.match.params.id},t.signal).then(e=>{console.log(e.json),e.json.status?(o(e.json.items[0]),y(!1)):h.a.fire({icon:"error",title:e.json.error,background:"#ffe5de"})}).catch(e=>{console.log(e)}),()=>{t.abort()}},[]);var S=t=>{Object(f.b)({action:"delete",items_id:[t]}).then(function(){var t=Object(l.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(a),a.json.status?(k({showModal:!1,itemId:null}),h.a.fire({icon:"success",title:"Item deleted successfully!",background:"#dffff0"}),e.history.push("/items")):h.a.fire({icon:"error",title:a.json.error,background:"#ffe5de"});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(e=>{console.log(e)})};if(!x){var _=r.images.find(e=>"THUMBNAIL"===e.category);_||(_=r.images[0]),console.log(_)}return x?i.a.createElement(b.a,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{className:"d-flex justify-content-between pageHead"},i.a.createElement("h4",{className:"m-b-10",style:{lineHeight:"33px"}},r.name),i.a.createElement("div",null,i.a.createElement("button",{className:"btn btn-primary btn-sm shadow-2 mb-4",onClick:()=>e.history.push("/item/update/"+r.id)}," ",i.a.createElement("i",{className:"feather icon-edit text-c-white f-15 m-r-5"}),"Update"),i.a.createElement("button",{className:"btn btn-danger btn-sm shadow-2 mb-4",onClick:t=>{k({showModal:!0,itemId:e.match.params.id})}}," ",i.a.createElement("i",{className:"feather icon-trash-2 text-c-white f-15 m-r-5"}),"Delete"))),i.a.createElement(m.a,null,i.a.createElement(u.a,{xl:2}),i.a.createElement(u.a,{xl:8},i.a.createElement(d.a,null,i.a.createElement(d.a.Body,null,i.a.createElement("h5",{className:"mb-4"},"Item Profile"),i.a.createElement("div",{className:"row d-flex align-items-center"},i.a.createElement(u.a,{md:2}),i.a.createElement(u.a,{md:8},i.a.createElement("a",{href:_?"".concat(v.a.SERVER_URL).concat(_.image):"https://google.com"},i.a.createElement("img",{src:_?"".concat(v.a.SERVER_URL).concat(_.image):"https://media.manufactum.de/is/image/Manufactum/750s_shop/maglia-stick-umbrella--68697_01.jpg",className:"rounded w-25 mx-auto d-block",alt:"..."})),i.a.createElement("div",{className:"mb-1 border-bottom"},i.a.createElement("b",null,"Name")),i.a.createElement("div",{className:"mt-1 mb-3"},r.name," "," ",r.is_active?i.a.createElement(p.a,{variant:"info"},"Active"):i.a.createElement(p.a,{variant:"secondary"},"Inactive")),i.a.createElement("div",{className:"mb-1 border-bottom"},i.a.createElement("b",null,"Category")),i.a.createElement("div",{className:"mt-1 mb-3"},r.category_str),i.a.createElement("div",{className:"mb-1 border-bottom"},i.a.createElement("b",null,"Description")),i.a.createElement("div",{className:"mt-1 mb-3"},r.description),i.a.createElement("div",{className:"mb-1 border-bottom"},i.a.createElement("b",null,"VAT'able?")),i.a.createElement("div",{className:"mt-1 mb-3"},r.vat_enabled),i.a.createElement("div",{className:"mb-1 border-bottom"},i.a.createElement("b",null,"Weight")),i.a.createElement("div",{className:"mt-1 mb-3"},r.weight,r.weight_unit),i.a.createElement("div",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"w-50"},i.a.createElement("div",{className:"mb-1 border-bottom pr-4"},i.a.createElement("b",null,"Cost Price")),i.a.createElement("div",{className:"mt-1 mb-3"},r.average_cost_price)),i.a.createElement("div",{className:"w-50 ml-4"},i.a.createElement("div",{className:"mb-1 border-bottom pr-4"},i.a.createElement("b",null,"Sales Price")),i.a.createElement("div",{className:"mt-1 mb-3"},r.sales_price))),i.a.createElement("div",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"w-50"},i.a.createElement("div",{className:"mb-1 border-bottom pr-4"},i.a.createElement("b",null,"Sold")),i.a.createElement("div",{className:"mt-1 mb-3"},r.sold," ")),i.a.createElement("div",{className:"w-50 ml-4"},i.a.createElement("div",{className:"mb-1 border-bottom pr-4"},i.a.createElement("b",null,"Stock")),i.a.createElement("div",{className:"mt-1 mb-3"},r.stock," "))),i.a.createElement(u.a,{md:2}),i.a.createElement(m.a,null,r.images.map((e,t)=>i.a.createElement(u.a,{md:3,xs:6,sm:4,key:t},i.a.createElement("img",{src:v.a.SERVER_URL+e.image,alt:"",style:{width:"120px",maxWidth:"150px",objectFit:"cover",padding:"10px"}}))))))))),i.a.createElement(u.a,{xl:2}),i.a.createElement(E.a,{show:O.showModal,onCancel:()=>k(Object(n.a)(Object(n.a)({},O),{},{showModal:!1})),onDelete:()=>S(O.itemId)})))}},265:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(883),l=a(105);t.a=e=>r.a.createElement(c.a,{style:{border:"none",color:"#3d4075",boxShadow:"0 0 10px red"},show:e.show,onHide:e.onCancel},r.a.createElement(c.a.Header,{closeButton:!0,style:{margin:"auto 5px"}},r.a.createElement(c.a.Title,{style:{paddingLeft:"15px",color:"#3d4075",fontSize:"1.4em",fontWeight:"bold"}},"Are you sure?")),r.a.createElement(c.a.Body,{style:{paddingLeft:"30px"}},e.message?e.message:"This action cannot be undone."),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",padding:"10px"}},r.a.createElement(l.a,{variant:"secondary",onClick:e.onCancel},r.a.createElement("b",null,"Cancel")),e.noRedButton?null:r.a.createElement(l.a,{variant:"danger",onClick:e.onDelete},r.a.createElement("b",null,e.redTitle||"Delete"))))},328:function(e,t,a){"use strict";a.d(t,"f",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"h",(function(){return u})),a.d(t,"d",(function(){return m})),a.d(t,"e",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"g",(function(){return b}));var n=a(15),r=a.n(n),c=a(28),l=a(41),s=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/items/get","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/items/delete","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/item/add","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/item/get","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/item/update","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/items/export","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/items/export","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/import","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=98.4b9ad0ad.chunk.js.map