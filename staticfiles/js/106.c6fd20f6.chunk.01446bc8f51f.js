(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[106],{202:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n.n(a),c=n(28),u=n(1),o=n(47),s=n(0),l=n.n(s),i=n(292),p=n(260),f=n(309),d=n(294),b=n(2),v=n(263),h=(n(259),n(265)),m=n(25),O=n(31),j=n(270),w=n(269),y=(n(267),n(287),n(515),n(271)),E=n(301);t.default=e=>{var t=l.a.useState([]),n=Object(o.a)(t,2),a=n[0],s=n[1],x=l.a.useState(!0),g=Object(o.a)(x,2),k=g[0],T=g[1],S=l.a.useState({showModal:!1,accountTypeId:null}),P=Object(o.a)(S,2),N=P[0],C=P[1],M=l.a.useState(0),_=Object(o.a)(M,2),A=_[0],I=_[1];l.a.useEffect(()=>{var t=new AbortController;return Object(E.g)(Object(u.a)({action:"get",filter:"none"},Object(y.a)(e)),t.signal).then(e=>{console.log(e),e.json.status?(console.log(e.json.account_types),s(e.json.account_types),I(e.json.count),T(!1)):m.a.fire({icon:"error",title:e.json.error,background:"#ffe5de"})}).catch(e=>{console.log(e)}),()=>t.abort()},[]);var D=e=>{Object(E.d)({action:"delete",account_type_ids:[e]}).then(function(){var t=Object(c.a)(r.a.mark((function t(n){var c,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(n.json),!n.json.status){t.next=12;break}return c=a.find(t=>t.id===e),(o=a).splice(o.indexOf(c),1),t.next=7,s([...o]);case 7:return t.next=9,C(Object(u.a)(Object(u.a)({},C),{},{showModal:!1,accountTypeId:null}));case 9:m.a.fire({icon:"success",title:"Account type deleted successfully!",background:"#dffff0"}),t.next=13;break;case 12:m.a.fire({icon:"error",title:n.json.error,background:"#ffe5de"});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(e=>{console.log(e)})},H=a.map((t,n)=>l.a.createElement("tr",{key:n},l.a.createElement("th",{scope:"row"},t.id),l.a.createElement("td",null,t.name[0].toUpperCase()+t.name.slice(1)),l.a.createElement("td",null,t.header),l.a.createElement("td",null,t.is_active?"Yes":"No"),l.a.createElement("td",null,l.a.createElement("i",{className:"feather icon-edit text-c-green f-19 m-r-10",style:{cursor:"pointer"},onClick:()=>e.history.push("/account-type/update/"+t.id)}),l.a.createElement("i",{className:"feather icon-trash-2 text-c-red f-19 m-r-5",style:{cursor:"pointer"},onClick:()=>{return e=t.id,void C({showModal:!0,accountTypeId:e});var e}}))));return l.a.createElement(b.a,null,l.a.createElement(i.a,{className:"d-flex justify-content-between pageHead"},l.a.createElement("h4",{className:"m-b-10"},"Account Types"),l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-primary btn-sm shadow-2 mb-4",onClick:()=>e.history.push("account-type/create")}," ",l.a.createElement("i",{className:"fa fa-plus text-c-white f-15 m-r-5"}),"Add New"))),l.a.createElement(i.a,null,l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(f.a.Body,null,l.a.createElement(d.a,{striped:!0,responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Header"),l.a.createElement("th",null,"Enabled"),l.a.createElement("th",null))),l.a.createElement("tbody",null,H||"")),Object(O.a)(a)&&!k?l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,"Data not available"),l.a.createElement("br",null),l.a.createElement("br",null)):"",k?l.a.createElement(j.a,null):null,l.a.createElement(w.a,{instanceCount:A}))),l.a.createElement(h.a,{show:N.showModal,onCancel:()=>C(Object(u.a)(Object(u.a)({},N),{},{showModal:!1})),onDelete:()=>D(N.accountTypeId)}))))}},301:function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"j",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"k",(function(){return h})),n.d(t,"d",(function(){return m}));var a=n(15),r=n.n(a),c=n(28),u=n(41),o=function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/account/transactions/get","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/accounts/get","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/accounts/delete","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/account/add","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/account/get","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/account/update","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/account/update","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/accounts/types/get","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/accounts/type/add","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/accounts/type/update","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/accounts/types/delete","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=106.c6fd20f6.chunk.js.map