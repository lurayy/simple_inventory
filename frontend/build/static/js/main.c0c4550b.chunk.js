(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{128:function(e,t,a){e.exports=a(201)},133:function(e,t,a){},134:function(e,t,a){},201:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(24),i=a.n(s),c=(a(133),a(134),a(1)),o=a.n(c),u=a(4),l=a(12),p=a(13),d=a(17),h=a(14),m=a(16),b=a(19),v="".concat(window.location.protocol,"//").concat(window.location.host,"/");function f(e){var t=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var r=a[n].trim();if(r.substring(0,e.length+1)===e+"="){t=decodeURIComponent(r.substring(e.length+1));break}}return t}function _(e,t,a){var n="";if(a){var r=new Date;r.setTime(r.getTime()+24*a*60*60*1e3),n="; expires="+r.toUTCString()}document.cookie=e+"="+(t||"")+n+"; path=/"}var g=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("application/json"!==t.headers.get("content-type")){e.next=6;break}return e.next=4,t.json();case 4:return a=e.sent,e.abrupt("return",{response:t,json:a});case 6:return e.abrupt("return",{response:t});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(o.a.mark((function e(t,a,n,r){var s,i,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(s=f("x-csrftoken"))){e.next=9;break}return e.next=4,fetch(new URL("apiv1/users/verify",v),{method:"GET"});case 4:return i=e.sent,e.next=7,g(i);case 7:_("x-csrftoken",e.sent.json["x-csrftoken"],2);case 9:return s=f("x-csrftoken"),e.next=12,fetch(new URL(t,v),{method:a,body:n,signal:r,credentials:"include",headers:{"x-csrftoken":s,"Content-Type":"application/json"}});case 12:return c=e.sent,e.next=15,g(c);case 15:return u=e.sent,e.abrupt("return",u.json);case 17:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/users/login","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/users/logout","GET");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/users/create","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/users/get","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/users/get/0","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/users/get/0","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/users/current","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),w=function(e){return{type:"loggedIn",payload:e}},I=a(11),D=a(5),N=a(265),P=a(252),T=a(249),U=a(261),J=a(268),A=a(264),V=a(253),H=a(262),L=a(246),F=a(263),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={username:"",password:"",status:""},a.onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!0===this.props.current_state.user.isLoggedIn&&this.props.history.push("/")}},{key:"onChange",value:function(e){this.setState(Object(I.a)({},e.target.name,[e.target.value]))}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={username:this.state.username[0],password:this.state.password[0]},y(JSON.stringify(a)).then((function(e){try{e.status?(S().then((function(e){n.props.dispatch(w(e.user_data))})),n.props.history.push("/")):(""===n.state.username&&""===n.state.password)|(""===n.state.username||""===n.state.password)?n.setState((function(e){return{status:"Username and password empty"}})):!1===e.status&&n.setState((function(t){return{status:e.msg}}))}catch(t){alert(t)}}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(L.a,{component:"main",maxWidth:"xs"},r.a.createElement(T.a,null),r.a.createElement("div",null,r.a.createElement(N.a,{style:{padding:30,margin:"auto",backgroundColor:"#1a237e"}},r.a.createElement("h3",null,"O")),r.a.createElement("form",{onSubmit:this.onSubmit,noValidate:!0},r.a.createElement(U.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"uname",label:"Username",name:"username",autoComplete:"email",autoFocus:!0,type:"text",onChange:this.onChange,value:this.state.username}),r.a.createElement(U.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:this.onChange,value:this.state.password}),r.a.createElement(J.a,{control:r.a.createElement(A.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(P.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Login"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(F.a,{severity:"error",style:{display:this.state.status?"":"none"}},this.state.status),r.a.createElement(V.a,{container:!0}))),r.a.createElement(H.a,{mt:8}))}}]),t}(n.Component),B=Object(b.b)((function(e){return{current_state:e}}))(q),R=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;E().then((function(t){e.props.dispatch({type:"logout"}),e.props.history.push("/")}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"logout"))}}]),t}(n.Component),M=Object(b.b)()(R),K=a(3),W=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/vendors","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/vendors","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/vendors/delete","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/vendor","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/vendor","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.state={update:{middle_name:[""],website:[""],phone2:[""],address:[""]}},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.user.isLoggedIn&&this.props.history.push("/")}},{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,Object(I.a)({},e.target.name,[e.target.value]))})}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t.preventDefault(),a=Object(K.a)({},this.state.update),this.state.update)a[n]=this.state.update[n][0];a=Object(K.a)({},a,{action:"add"}),Q(JSON.stringify(a)).then((function(e){try{e.status?alert("New Vendor Added"):alert(e.error)}catch(t){console.log(t)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Add New Vendor"),r.a.createElement("form",{onSubmit:this.onSubmit},"First Name: ",r.a.createElement(U.a,{id:"first_name",name:"first_name",type:"text",onChange:this.onChange,required:!0}),"Middle Name : ",r.a.createElement(U.a,{id:"middle_name",name:"middle_name",type:"text",onChange:this.onChange}),"Last Name  : ",r.a.createElement(U.a,{id:"last_name",name:"last_name",type:"text",onChange:this.onChange,required:!0}),r.a.createElement("br",null),"Email : ",r.a.createElement(U.a,{id:"email",name:"email",type:"email",onChange:this.onChange,required:!0}),r.a.createElement("br",null),"Website : ",r.a.createElement(U.a,{id:"website",name:"website",type:"text",onChange:this.onChange}),r.a.createElement("br",null),"Tax Number : ",r.a.createElement(U.a,{id:"tax_number",name:"tax_number",type:"number",onChange:this.onChange,required:!0}),r.a.createElement("br",null),"Contact Number: ",r.a.createElement(U.a,{id:"phone1",name:"phone1",type:"number",onChange:this.onChange,required:!0}),r.a.createElement("br",null),"Contact Number 2 : ",r.a.createElement(U.a,{id:"phone2",name:"phone2",type:"number",onChange:this.onChange}),r.a.createElement("br",null),"Addresss : ",r.a.createElement(U.a,{id:"address",name:"address",type:"text",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary"},"Update")))}}]),t}(n.Component),X=Object(b.b)((function(e){return{user:e.user}}))(z),Z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.state={udpate:{}},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.user.isLoggedIn&&this.props.history.push("/"),"MANAGER"!==this.props.user.data.user_type&&this.props.history.push("/")}},{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,Object(I.a)({},e.target.name,[e.target.value]))})}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.state.update.password[0]===this.state.update.password2[0]){for(n in a=Object(K.a)({},this.state.update),this.state.update)a[n]=this.state.update[n][0];j(JSON.stringify(a)).then((function(e){try{e.status?alert("New User Created"):alert(e.error)}catch(t){console.log(t)}}))}else alert("Password didn't match");case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Create New User"),r.a.createElement("form",{onSubmit:this.onSubmit},"First Name: ",r.a.createElement(U.a,{id:"first_name",name:"first_name",type:"text",onChange:this.onChange,required:!0}),"Last Name",r.a.createElement(U.a,{id:"last_name",name:"last_name",type:"text",onChange:this.onChange,required:!0}),r.a.createElement("br",null),"Username :",r.a.createElement(U.a,{id:"username",name:"username",type:"text",onChange:this.onChange,required:!0}),r.a.createElement("br",null),"Password ",r.a.createElement(U.a,{id:"password",name:"password",type:"password",autoComplete:"current-password",onChange:this.onChange,required:!0}),"Confirm Password ",r.a.createElement(U.a,{id:"password2",type:"password",name:"password2",autoComplete:"current-password",onChange:this.onChange,required:!0}),r.a.createElement("br",null),"Email : ",r.a.createElement(U.a,{id:"email",name:"email",type:"email",onChange:this.onChange,required:!0}),r.a.createElement("br",null),"User Post:",r.a.createElement("select",{name:"user_type",id:"user_type",onChange:this.onChange,defaultValue:"STAFF"},r.a.createElement("option",{value:"MANAGER"},"Manager"),r.a.createElement("option",{value:"STAFF"},"Staff")),r.a.createElement("br",null),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary"},"Update")))}}]),t}(n.Component),ee=Object(b.b)((function(e){return{user:e.user}}))(Z),te=a(21),ae=a(53),ne=a(254),re=a(256),se=a(260),ie=a(259),ce=a(255),oe=a(257),ue=a(258),le=a(250),pe=Object(ne.a)({table:{minWidth:650}}),de=function(e){var t=!0;e.page||(t=e.page);var a,n=pe(),s=e.header,i=e.data,c=r.a.createElement("div",null,r.a.createElement("h4",null,"Page: ",e.page),r.a.createElement("button",{onClick:function(){e.update(-10)}},"Pervious"),r.a.createElement("button",{onClick:function(){e.update(10)}},"Next"));return r.a.createElement("div",null,r.a.createElement(ce.a,{component:le.a},r.a.createElement(re.a,{className:n.table,"aria-label":"simple table"},r.a.createElement(oe.a,null,r.a.createElement(ue.a,null,s.map((function(e){return r.a.createElement(ie.a,{key:e.id},e.name)})))),r.a.createElement(se.a,null,i.map((function(t){return r.a.createElement(ue.a,{key:t.id,onClick:function(){e.popUp(t.id,t.uuid)}},s.map((function(e){return a=e.prop,r.a.createElement(ie.a,{key:e.id},t[a])})))}))))),r.a.createElement("br",null),t?c:r.a.createElement("span",null))},he=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).columns=[{id:1,name:"Name",prop:"name"},{id:2,name:"Post",prop:"status"},{id:3,name:"Username",prop:"username"},{id:4,name:"Status",prop:"is_active_str"}],a.popUp=a.popUp.bind(Object(D.a)(a)),a.state={popUp:!1,user_data:{},update:{}},a.onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,Object(I.a)({},e.target.name,[e.target.value]))})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a,n=this.state.user_data;for(a in n)this.state.update[a]&&(n[a]=this.state.update[a][0]);n=Object(K.a)({},n,{action:"edit",user_id:n.id}),C(JSON.stringify(n)).then((function(e){e.status&&(alert("You Details has been updated."),t.props.update(0))}))}},{key:"userDelete",value:function(e,t){var a=this,n={action:"delete",user_id:e,uuid:t};C(JSON.stringify(n)).then((function(e){e.status&&(alert("User has been deleted. They cannot login now"),a.props.update(0))}))}},{key:"userRevive",value:function(e,t){var a=this,n={action:"revive",user_id:e,uuid:t};C(JSON.stringify(n)).then((function(e){e.status&&(alert("User has been made active. They login now"),a.props.update(0))}))}},{key:"popUp",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:0,n={action:"get",user_id:t,uuid:a},e.next=4,k(JSON.stringify(n)).then((function(e){e.status&&(r=e)}));case 4:return e.next=6,this.setState({popUp:!0,user_data:r});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement(de,{data:this.props.data,header:this.columns,popUp:this.popUp,update:this.props.update,page:this.props.page}),a=r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.setState({popUp:!1})}},"Back"),r.a.createElement("br",null),r.a.createElement("h1",null,this.state.user_data.name),r.a.createElement("form",{onSubmit:this.onSubmit},"First Name : ",r.a.createElement(U.a,{id:"first_name",name:"first_name",placeholder:this.state.user_data.first_name,type:"text",onChange:this.onChange}),"Last Name : ",r.a.createElement(U.a,{id:"last_name",name:"last_name",placeholder:this.state.user_data.last_name,type:"text",onChange:this.onChange}),r.a.createElement("br",null),"Username :",r.a.createElement(U.a,{id:"username",name:"username",placeholder:this.state.user_data.username,type:"text",onChange:this.onChange}),r.a.createElement("br",null),"Email : ",r.a.createElement(U.a,{id:"email",name:"email",placeholder:this.state.user_data.email,type:"email",onChange:this.onChange}),r.a.createElement("br",null),"User Post:",r.a.createElement("select",{name:"user_type",onChange:this.onChange,defaultValue:this.state.user_data.user_type},r.a.createElement("option",{value:"MANAGER"},"Manager"),r.a.createElement("option",{value:"STAFF"},"Staff")),r.a.createElement("br",null),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary"},"Update")),r.a.createElement("br",null),this.state.user_data.is_active?r.a.createElement(P.a,{variant:"contained",color:"secondary",onClick:function(){e.userDelete(e.state.user_data.id,e.state.user_data.uuid)}},"Deactivate User"):r.a.createElement(P.a,{variant:"contained",color:"secondary",onClick:function(){e.userRevive(e.state.user_data.id,e.state.user_data.uuid)}},"Activate User"),r.a.createElement("br",null));return r.a.createElement("div",null,this.state.popUp?a:t)}}]),t}(n.Component),me=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={users:[],loaded:!1,start:0,end:10,page:1},a.update_table=a.update_table.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.user.isLoggedIn&&this.props.history.push("/"),"MANAGER"!==this.props.user.data.user_type&&this.props.history.push("/")}},{key:"getUsersData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(JSON.stringify(t)).then((function(e){e.status&&a.setState({users:e.users,loaded:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"update_table",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t<0?-1:1,0!==t){e.next=6;break}return e.next=4,this.setState({loaded:!1,start:0,end:10,page:1});case 4:e.next=13;break;case 6:if(!(this.state.start+t>-1)){e.next=11;break}return e.next=9,this.setState({loaded:!1,start:this.state.start+t,end:this.state.end+t,page:this.state.page+a});case 9:e.next=13;break;case 11:return alert("Cannot move futher from here."),e.abrupt("return");case 13:n={action:"get",filter:"none",start:this.state.start,end:this.state.end},this.getUsersData(n);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(he,{data:this.state.users,update:this.update_table,page:this.state.page}));return r.a.createElement("div",null,r.a.createElement(te.b,{to:"users/create"},"Create New User"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.update_table(0)}},"Refresh table"),this.state.loaded?t:"Loading...")}}]),t}(n.Component),be=Object(b.b)((function(e){return{user:e.user}}))(me),ve=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).columns=[{id:1,name:"Name",prop:"name"},{id:2,name:"Phone Number",prop:"phone1"},{id:3,name:"Email",prop:"email"},{id:4,name:"Address",prop:"address"}],a.popUp=a.popUp.bind(Object(D.a)(a)),a.state={popUp:!1,vendor:{},update:{}},a.onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.vendorDelete=a.vendorDelete.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,Object(I.a)({},e.target.name,[e.target.value]))})}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t.preventDefault(),a=this.state.vendor,this.state.update)a[n]=this.state.update[n][0];a=Object(K.a)({},a,{action:"edit"}),Y(JSON.stringify(a)).then((function(e){try{e.status?(alert("Vendor Data updated."),r.props.update(0)):alert(e.error)}catch(t){console.log(t)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"vendorDelete",value:function(e){var t=this,a={vendors_id:[e]};G(JSON.stringify(a)).then((function(e){try{e.status?(alert("Vendor data deleted."),t.props.update(0)):alert(e.error)}catch(a){console.log(a)}}))}},{key:"popUp",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:0,a={action:"get",vendor_id:t},e.next=4,$(JSON.stringify(a)).then((function(e){e.status&&(n=e)}));case 4:return e.next=6,this.setState({popUp:!0,vendor:n.vendors[0]});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement(de,{data:this.props.data,header:this.columns,popUp:this.popUp,update:this.props.update,page:this.props.page}),a=r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.setState({popUp:!1})}},"Back"),r.a.createElement("br",null),r.a.createElement("h1",null,this.state.vendor.name),r.a.createElement("form",{onSubmit:this.onSubmit},"First Name: ",r.a.createElement(U.a,{id:"first_name",name:"first_name",type:"text",onChange:this.onChange,placeholder:this.state.vendor.first_name}),"Middle Name : ",r.a.createElement(U.a,{id:"middle_name",name:"middle_name",type:"text",onChange:this.onChange,placeholder:this.state.vendor.middle_name}),"Last Name  : ",r.a.createElement(U.a,{id:"last_name",name:"last_name",type:"text",onChange:this.onChange,placeholder:this.state.vendor.last_name}),r.a.createElement("br",null),"Email : ",r.a.createElement(U.a,{id:"email",name:"email",type:"email",onChange:this.onChange,placeholder:this.state.vendor.email}),r.a.createElement("br",null),"Website : ",r.a.createElement(U.a,{id:"website",name:"website",type:"text",onChange:this.onChange,placeholder:this.state.vendor.website}),r.a.createElement("br",null),"Tax Number : ",r.a.createElement(U.a,{id:"tax_number",name:"tax_number",type:"number",onChange:this.onChange,placeholder:this.state.vendor.tax_number}),r.a.createElement("br",null),"Contact Number: ",r.a.createElement(U.a,{id:"phone1",name:"phone1",type:"number",onChange:this.onChange,placeholder:this.state.vendor.phone1}),r.a.createElement("br",null),"Contact Number 2 : ",r.a.createElement(U.a,{id:"phone2",name:"phone2",type:"number",onChange:this.onChange,placeholder:this.state.vendor.phone2}),r.a.createElement("br",null),"Addresss : ",r.a.createElement(U.a,{id:"address",name:"address",type:"text",onChange:this.onChange,placeholder:this.state.vendor.address}),r.a.createElement("br",null),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary"},"Update")," ",r.a.createElement(P.a,{variant:"contained",color:"secondary",onClick:function(){e.vendorDelete(e.state.vendor.id)}},"Delete Vendor")),r.a.createElement("br",null));return r.a.createElement("div",null,this.state.popUp?a:t)}}]),t}(n.Component),fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={vendors:[],loaded:!1,start:0,end:10,page:1},a.update_table=a.update_table.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.user.isLoggedIn&&this.props.history.push("/")}},{key:"update_table",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t<0?-1:1,0!==t){e.next=6;break}return e.next=4,this.setState({loaded:!1,start:0,end:10,page:1});case 4:e.next=13;break;case 6:if(!(this.state.start+t>-1)){e.next=11;break}return e.next=9,this.setState({loaded:!1,start:this.state.start+t,end:this.state.end+t,page:this.state.page+a});case 9:e.next=13;break;case 11:return alert("Cannot move futher from here."),e.abrupt("return");case 13:n={action:"get",filter:"none",start:this.state.start,end:this.state.end},this.getVendorsData(n);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getVendorsData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(JSON.stringify(t)).then((function(e){e.status&&a.setState({vendors:e.vendors,loaded:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(ve,{data:this.state.vendors,update:this.update_table,page:this.state.page}));return r.a.createElement("div",null,r.a.createElement(te.b,{to:"/vendors/create"},"Add New Vendor"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.update_table(0)}},"Refresh table"),r.a.createElement("br",null),this.state.loaded?t:"Loading...")}}]),t}(n.Component),_e=Object(b.b)((function(e){return{user:e.user}}))(fe),ge=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/customers","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/customers/delete","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/customers","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/customer","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/customer","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),xe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).columns=[{id:1,name:"Name",prop:"name"},{id:2,name:"Phone Number",prop:"phone1"},{id:3,name:"Email",prop:"email"},{id:4,name:"Address",prop:"address"}],a.popUp=a.popUp.bind(Object(D.a)(a)),a.state={popUp:!1,customer:{},update:{}},a.onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.customerDelete=a.customerDelete.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,Object(I.a)({},e.target.name,[e.target.value]))})}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t.preventDefault(),a=this.state.customer,this.state.update)a[n]=this.state.update[n][0];a=Object(K.a)({},a,{action:"edit"}),je(JSON.stringify(a)).then((function(e){try{e.status?(alert("Customer Data updated."),r.props.update(0)):alert(e.error)}catch(t){console.log(t)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"customerDelete",value:function(e){var t=this,a={customers_id:[e]};Oe(JSON.stringify(a)).then((function(e){try{e.status?(alert("Customer data deleted."),t.props.update(0)):alert(e.error)}catch(a){console.log(a)}}))}},{key:"popUp",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:0,a={action:"get",customer_id:t},e.next=4,Ee(JSON.stringify(a)).then((function(e){e.status&&(n=e)}));case 4:return e.next=6,this.setState({popUp:!0,customer:n.customers[0]});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement(de,{data:this.props.data,header:this.columns,popUp:this.popUp,update:this.props.update,page:this.props.page}),a=r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.setState({popUp:!1})}},"Back"),r.a.createElement("br",null),r.a.createElement("h1",null,this.state.customer.name),r.a.createElement("form",{onSubmit:this.onSubmit},"First Name: ",r.a.createElement(U.a,{id:"first_name",name:"first_name",type:"text",onChange:this.onChange,placeholder:this.state.customer.first_name}),"Middle Name : ",r.a.createElement(U.a,{id:"middle_name",name:"middle_name",type:"text",onChange:this.onChange,placeholder:this.state.customer.middle_name}),"Last Name  : ",r.a.createElement(U.a,{id:"last_name",name:"last_name",type:"text",onChange:this.onChange,placeholder:this.state.customer.last_name}),r.a.createElement("br",null),"Email : ",r.a.createElement(U.a,{id:"email",name:"email",type:"email",onChange:this.onChange,placeholder:this.state.customer.email}),r.a.createElement("br",null),"Website : ",r.a.createElement(U.a,{id:"website",name:"website",type:"text",onChange:this.onChange,placeholder:this.state.customer.website}),r.a.createElement("br",null),"Tax Number : ",r.a.createElement(U.a,{id:"tax_number",name:"tax_number",type:"number",onChange:this.onChange,placeholder:this.state.customer.tax_number}),r.a.createElement("br",null),"Contact Number: ",r.a.createElement(U.a,{id:"phone1",name:"phone1",type:"number",onChange:this.onChange,placeholder:this.state.customer.phone1}),r.a.createElement("br",null),"Contact Number 2 : ",r.a.createElement(U.a,{id:"phone2",name:"phone2",type:"number",onChange:this.onChange,placeholder:this.state.customer.phone2}),r.a.createElement("br",null),"Addresss : ",r.a.createElement(U.a,{id:"address",name:"address",type:"text",onChange:this.onChange,placeholder:this.state.customer.address}),r.a.createElement("br",null),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary"},"Update")," ",r.a.createElement(P.a,{variant:"contained",color:"secondary",onClick:function(){e.customerDelete(e.state.customer.id)}},"Delete Customer")),r.a.createElement("br",null));return r.a.createElement("div",null,this.state.popUp?a:t)}}]),t}(n.Component),ke=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={customers:[],loaded:!1,start:0,end:10,page:1},a.update_table=a.update_table.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.user.isLoggedIn&&this.props.history.push("/")}},{key:"update_table",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t<0?-1:1,0!==t){e.next=6;break}return e.next=4,this.setState({loaded:!1,start:0,end:10,page:1});case 4:e.next=13;break;case 6:if(!(this.state.start+t>-1)){e.next=11;break}return e.next=9,this.setState({loaded:!1,start:this.state.start+t,end:this.state.end+t,page:this.state.page+a});case 9:e.next=13;break;case 11:return alert("Cannot move futher from here."),e.abrupt("return");case 13:n={action:"get",filter:"none",start:this.state.start,end:this.state.end},this.getCustomersData(n);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCustomersData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(JSON.stringify(t)).then((function(e){e.status&&a.setState({customers:e.customers,loaded:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(xe,{data:this.state.customers,update:this.update_table,page:this.state.page}));return r.a.createElement("div",null,r.a.createElement(te.b,{to:"/customers/create"},"Add New Customer"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.update_table(0)}},"Refresh table"),r.a.createElement("br",null),this.state.loaded?t:"Loading...")}}]),t}(n.Component),Ce=Object(b.b)((function(e){return{user:e.user}}))(ke),Se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.state={update:{middle_name:[""],website:[""],phone2:[""],address:[""]}},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.user.isLoggedIn&&this.props.history.push("/")}},{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,Object(I.a)({},e.target.name,[e.target.value]))})}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t.preventDefault(),a=Object(K.a)({},this.state.update),this.state.update)a[n]=this.state.update[n][0];a=Object(K.a)({},a,{action:"add"}),ye(JSON.stringify(a)).then((function(e){try{e.status?alert("New Customer Added"):alert(e.error)}catch(t){console.log(t)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Add New Vendor"),r.a.createElement("form",{onSubmit:this.onSubmit},"First Name: ",r.a.createElement(U.a,{id:"first_name",name:"first_name",type:"text",onChange:this.onChange,required:!0}),"Middle Name : ",r.a.createElement(U.a,{id:"middle_name",name:"middle_name",type:"text",onChange:this.onChange}),"Last Name  : ",r.a.createElement(U.a,{id:"last_name",name:"last_name",type:"text",onChange:this.onChange,required:!0}),r.a.createElement("br",null),"Email : ",r.a.createElement(U.a,{id:"email",name:"email",type:"email",onChange:this.onChange,required:!0}),r.a.createElement("br",null),"Website : ",r.a.createElement(U.a,{id:"website",name:"website",type:"text",onChange:this.onChange}),r.a.createElement("br",null),"Tax Number : ",r.a.createElement(U.a,{id:"tax_number",name:"tax_number",type:"number",onChange:this.onChange,required:!0}),r.a.createElement("br",null),"Contact Number: ",r.a.createElement(U.a,{id:"phone1",name:"phone1",type:"number",onChange:this.onChange,required:!0}),r.a.createElement("br",null),"Contact Number 2 : ",r.a.createElement(U.a,{id:"phone2",name:"phone2",type:"number",onChange:this.onChange}),r.a.createElement("br",null),"Addresss : ",r.a.createElement(U.a,{id:"address",name:"address",type:"text",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary"},"Update")))}}]),t}(n.Component),we=Object(b.b)((function(e){return{user:e.user}}))(Se),Ie=a(109),De=a.n(Ie),Ne=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/porders","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/porders/delete","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/porders","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/porder","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/porder","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ae=a(37),Ve=a.n(Ae),He=(a(70),a(35)),Le=a(36),Fe=a.n(Le),qe=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/pitems/delete","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/pitems","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/pitem","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/discounts","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/discounts/delete","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/discounts","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/discount","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/discount","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/taxes","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/taxes/delete","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/taxes","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/tax","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/tax","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/status/porders","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/items","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/items/delete","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/items","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/item","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/item","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),it=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).columns=[{id:1,name:"Item Name",prop:"item_name"},{id:2,name:"Quantity",prop:"quantity"},{id:3,name:"Stock",prop:"stock"},{id:4,name:"Defective",prop:"defective"},{id:5,name:"Sold",prop:"sold"},{id:6,name:"Discount",prop:"discount"},{id:7,name:"Purchase Price",prop:"purchase_price"},{id:8,name:"Status",prop:"status"}],a.state={popUp:!1,new:!1,current:0,status:[],vendor_selection:[{id:0,name:"None"}],item_selection:[{id:0,name:"None"}],update:{purchase_order:Object(K.a)({},a.props.purchase_order,{invoiced_on:a.converter(a.props.purchase_order.invoiced_on),completed_on:a.converter(a.props.purchase_order.completed_on)}),purchase_items:a.props.purchase_items}},a.refreshTable=a.refreshTable.bind(Object(D.a)(a)),a.getItemData=a.getItemData.bind(Object(D.a)(a)),a.selectItem=a.selectItem.bind(Object(D.a)(a)),a.searchItem=a.searchItem.bind(Object(D.a)(a)),a.addPurchaseItem=a.addPurchaseItem.bind(Object(D.a)(a)),a.invoiceHandler=a.invoiceHandler.bind(Object(D.a)(a)),a.completeHandler=a.completeHandler.bind(Object(D.a)(a)),a.getVendorsData=a.getVendorsData.bind(Object(D.a)(a)),a.converter=a.converter.bind(Object(D.a)(a)),a.popUp=a.popUp.bind(Object(D.a)(a)),a.searchVendor=a.searchVendor.bind(Object(D.a)(a)),a.selectVendor=a.selectVendor.bind(Object(D.a)(a)),a.onChange=a.onChange.bind(Object(D.a)(a)),a.updatePurchaseOrder=a.updatePurchaseOrder.bind(Object(D.a)(a)),a.onChangePI=a.onChangePI.bind(Object(D.a)(a)),a.postPurchaseItem=a.postPurchaseItem.bind(Object(D.a)(a)),a.deletePurchaseItem=a.deletePurchaseItem.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={action:"get"},e.next=3,et(JSON.stringify(t)).then((function(e){e.status&&a.setState(Object(K.a)({},a.state,{status:e.data}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getVendorsData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(JSON.stringify(t)).then((function(e){e.status&&a.setState({vendor_selection:e.vendors})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"selectVendor",value:function(e,t){this.setState({update:Object(K.a)({},this.state.update,{purchase_order:Object(K.a)({},this.state.update.purchase_order,{vendor:e,vendor_name:t})})})}},{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,{purchase_order:Object(K.a)({},this.state.update.purchase_order,Object(I.a)({},e.target.name,e.target.value))})})}},{key:"converter",value:function(e){return new Date(Date.parse(e))}},{key:"popUp",value:function(e){var t;for(t in this.state.update.purchase_items)if(this.state.update.purchase_items[t].id===e)return void this.setState(Object(K.a)({},this.state,{current:t,popUp:!0}))}},{key:"searchVendor",value:function(e){if(e.target.value.length>2){var t={action:"get",start:0,end:10,filter:"name",first_name:e.target.value};this.getVendorsData(t)}}},{key:"invoiceHandler",value:function(e){this.setState({update:Object(K.a)({},this.state.update,{purchase_order:Object(K.a)({},this.state.update.purchase_order,{invoiced_on:e})})})}},{key:"completeHandler",value:function(e){this.setState({update:Object(K.a)({},this.state.update,{purchase_order:Object(K.a)({},this.state.update.purchase_order,{completed_on:e})})})}},{key:"updatePurchaseOrder",value:function(){var e=this,t=Object(K.a)({},this.state.update.purchase_order,{action:"edit",purchase_order_id:this.state.update.purchase_order.id});Je(JSON.stringify(t)).then((function(t){t.status?(alert("Purchase Order Details Has Been Updated."),e.props.update(0)):alert("Error : ",t.error)}))}},{key:"onChangePI",value:function(e){this.setState({update:Object(K.a)({},this.state.update,{purchase_items:Object(K.a)({},this.state.update.purchase_items,Object(I.a)({},this.state.current,Object(K.a)({},this.state.update.purchase_items[this.state.current],Object(I.a)({},e.target.name,e.target.value))))})})}},{key:"postPurchaseItem",value:function(){var e,t=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a)return e=Object(K.a)({action:"add",purchase_order:this.state.update.purchase_order.id},this.state.update.purchase_items[this.state.current]),void Be(JSON.stringify(e)).then((function(e){e.status?(alert("Purchase Item Has Been Added."),t.refreshTable()):alert(e.error)}));e=Object(K.a)({action:"edit"},this.state.update.purchase_items[this.state.current]),Re(JSON.stringify(e)).then((function(e){e.status?(alert("Purchase Item Details Has Been Updated."),t.refreshTable()):alert(e.error)}))}},{key:"deletePurchaseItem",value:function(){var e=this,t={purchase_items_id:[this.state.update.purchase_items[this.state.current].id]};qe(JSON.stringify(t)).then((function(t){t.status?(alert("Purchase Item Has Beed Deleted."),e.refreshTable()):alert(t.error)}))}},{key:"addPurchaseItem",value:function(){var e,t=0,a=[];for(e in this.state.update.purchase_items)e.id&&"Fake Key"!==e.id&&(t+=1,a.push(e));this.setState({current:t,new:!0,popUp:!0,update:Object(K.a)({},this.state.update,{purchase_items:[].concat(a,[{item_name:"None",discount_type:"percentage",status:"incomplete"}])})})}},{key:"searchItem",value:function(e){if(e.target.value.length>2){var t={action:"get",start:0,end:10,filter:"name",name:e.target.value};this.getItemData(t)}}},{key:"getItemData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(JSON.stringify(t)).then((function(e){e.status&&a.setState(Object(K.a)({},a.state,{item_selection:e.items}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"selectItem",value:function(e,t){this.setState({update:Object(K.a)({},this.state.update,{purchase_items:Object(K.a)({},this.state.update.purchase_items,Object(I.a)({},this.state.current,Object(K.a)({},this.state.update.purchase_items[this.state.current],{item_name:t,item:e})))})})}},{key:"refreshTable",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.update.purchase_order.id,a=[],n={action:"get",purchase_order_id:t},e.next=5,Ue(JSON.stringify(n)).then((function(e){e.status&&(a=e.p_items)}));case 5:return 0===a.length&&(a=[{id:"Fake Key",item_name:""}]),e.next=8,this.setState(Object(K.a)({},this.state,{popUp:!1,update:Object(K.a)({},this.state.update,{purchase_items:a})}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.item_selection,a=r.a.createElement(He.a,{trigger:r.a.createElement("button",null,"Select Item"),closeOnDocumentClick:!0},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Item Name",id:"item_search_box",name:"item_serach_box",onChange:this.searchItem}),r.a.createElement("div",{className:Fe.a.dropdown_content,id:"vendor_dropdown"},t.map((function(t){return r.a.createElement("a",{href:"#",key:t.id,onClick:function(){e.selectItem(t.id,t.name)}},t.name)}))))),n=r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.refreshTable()}},"Back"),r.a.createElement("br",null),r.a.createElement("br",null),"Item : ",this.state.update.purchase_items[this.state.current].item_name,"  ",this.state.new?a:r.a.createElement("span",null),r.a.createElement("br",null),"Quantity : ",r.a.createElement("input",{name:"quantity",placeholder:this.state.update.purchase_items[this.state.current].quantity,type:"number",onChange:this.onChangePI,required:!0}),r.a.createElement("br",null),"Defective : ",r.a.createElement("input",{name:"defective",placeholder:this.state.update.purchase_items[this.state.current].defective,type:"number",onChange:this.onChangePI,required:!0}),r.a.createElement("br",null),"Discount Type :",r.a.createElement("select",{name:"discount_type",id:"discount_type",defaultValue:this.state.update.purchase_items[this.state.current].discount_type,onChange:this.onChangePI},r.a.createElement("option",{value:"percent"},"Percentage"),r.a.createElement("option",{value:"fixed"},"Fixed"))," ",r.a.createElement("br",null),"Discount : ",r.a.createElement("input",{placeholder:this.state.update.purchase_items[this.state.current].discount,name:"discount",onChange:this.onChangePI}),r.a.createElement("br",null),"Purchase Price : ",r.a.createElement("input",{placeholder:this.state.update.purchase_items[this.state.current].purchase_price,name:"purchase_price",onChange:this.onChangePI,required:!0})," ",r.a.createElement("br",null),"Status : ",r.a.createElement("select",{defaultValue:this.state.update.purchase_items[this.state.current].status,name:"status",onChange:this.onChangePI},r.a.createElement("option",{value:"delivered"},"Delivered"),r.a.createElement("option",{value:"incomplete"},"Incomplete"),r.a.createElement("option",{value:"addedtocirculation"},"Added To Circulation")),r.a.createElement("br",null),this.state.new?r.a.createElement("button",{onClick:function(){e.postPurchaseItem(!0)}},"Add"):r.a.createElement("button",{onClick:function(){e.postPurchaseItem()}},"Update"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.deletePurchaseItem()}},"Delete")),s=this.state.vendor_selection,i=r.a.createElement(He.a,{trigger:r.a.createElement("button",null,"Change Vendor"),closeOnDocumentClick:!0},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Vendor's first name",id:"vendor_serach_box",name:"vendor_serach_box",onChange:this.searchVendor}),r.a.createElement("div",{className:Fe.a.dropdown_content,id:"vendor_dropdown"},s.map((function(t){return r.a.createElement("a",{href:"#",key:t.id,onClick:function(){e.selectVendor(t.id,t.name)}},t.name)}))))),c=this.state.status;return r.a.createElement("div",null,r.a.createElement("h1",null,"Purchase Order"),r.a.createElement("h1",null,this.props.purchase_order.vendor_name),"Vendor : ",this.state.update.purchase_order.vendor_name,i,r.a.createElement("br",null),"Invoiced On :",r.a.createElement(Ve.a,{name:"invoiced_on",selected:this.state.update.purchase_order.invoiced_on,onChange:this.invoiceHandler}),"Completed On :",r.a.createElement(Ve.a,{name:"completed_on",selected:this.state.update.purchase_order.completed_on,onChange:this.completeHandler}),r.a.createElement("br",null),"Added By : ",this.state.update.purchase_order.added_by_name,r.a.createElement("br",null),"Total Cost : ",r.a.createElement("input",{placeholder:this.state.update.purchase_order.total_cost,name:"total_cost",onChange:this.onChange}),r.a.createElement("br",null),"Discount Type :",r.a.createElement("select",{name:"discount_type",id:"discount_type",onChange:this.onChange,defaultValue:this.state.update.purchase_order.discount_type},r.a.createElement("option",{value:"percent"},"Percentage"),r.a.createElement("option",{value:"fixed"},"Fixed"))," ",r.a.createElement("br",null),"Discount : ",r.a.createElement("input",{placeholder:this.state.update.purchase_order.discount,name:"discount",onChange:this.onChange}),r.a.createElement("br",null),"Status : ",r.a.createElement("select",{name:"status",id:"status",onChange:this.onChange,value:this.state.update.purchase_order.status},c.map((function(e){return r.a.createElement("option",{key:e.id,value:parseInt(e.id)},e.name)})))," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.updatePurchaseOrder()}},"Update Purchase Order"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.props.delete(e.props.purchase_order.id)}},"Delete"),r.a.createElement("hr",null),r.a.createElement("h3",null,"Items")," ",r.a.createElement("button",{onClick:function(){e.addPurchaseItem()}},"Add New Items"),this.state.popUp?n:r.a.createElement(de,{data:this.state.update.purchase_items,header:this.columns,page:!1,popUp:this.popUp}))}}]),t}(n.Component),ct=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).columns=[{id:1,name:"Vendor Name",prop:"vendor_name"},{id:2,name:"Items",prop:"items"},{id:3,name:"Invoiced On",prop:"invoiced_on"},{id:4,name:"Total Cost",prop:"total_cost"},{id:5,name:"Status",prop:"status_name"}],a.popUp=a.popUp.bind(Object(D.a)(a)),a.state={popUp:!1,purchase_order:{},purchase_items:[],update:{}},a.onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.purchaseOrderDelete=a.purchaseOrderDelete.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,Object(I.a)({},e.target.name,[e.target.value]))})}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t.preventDefault(),a=this.state.vendor,this.state.update)a[n]=this.state.update[n][0];a=Object(K.a)({},a,{action:"edit"}),Je(JSON.stringify(a)).then((function(e){try{e.status?(alert("Vendor Data updated."),r.props.update(0)):alert(e.error)}catch(t){console.log(t)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"purchaseOrderDelete",value:function(e){var t=this,a={purchase_orders_id:[e]};Pe(JSON.stringify(a)).then((function(e){try{e.status?(alert("Purchase Order Deleted."),t.props.update(0)):alert(e.error)}catch(a){console.log(a)}}))}},{key:"popUp",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:0,a={action:"get",purchase_order_id:t},e.next=4,Ue(JSON.stringify(a)).then((function(e){e.status&&(n=e)}));case 4:return 0===n.p_items.length&&(console.log("blank"),n.p_items=[{id:0}]),e.next=7,this.setState({popUp:!0,purchase_order:n.p_order[0],purchase_items:n.p_items});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=r.a.createElement(de,{data:this.props.data,header:this.columns,popUp:this.popUp,update:this.props.update,page:this.props.page}),t=r.a.createElement(it,{purchase_order:this.state.purchase_order,purchase_items:this.state.purchase_items,update:this.props.update,delete:this.purchaseOrderDelete});return r.a.createElement("div",null,this.state.popUp?t:e)}}]),t}(n.Component),ot=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={purchaseOrders:[],loaded:!1,start:0,end:10,page:1},a.update_table=a.update_table.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.user.isLoggedIn&&this.props.history.push("/")}},{key:"update_table",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t<0?-1:1,0!==t){e.next=6;break}return e.next=4,this.setState({loaded:!1,start:0,end:10,page:1});case 4:e.next=13;break;case 6:if(!(this.state.start+t>-1)){e.next=11;break}return e.next=9,this.setState({loaded:!1,start:this.state.start+t,end:this.state.end+t,page:this.state.page+a});case 9:e.next=13;break;case 11:return alert("Cannot move futher from here."),e.abrupt("return");case 13:n={action:"get",filter:"none",start:this.state.start,end:this.state.end},this.getPurchaseOrdersData(n);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPurchaseOrdersData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(JSON.stringify(t)).then((function(e){e.status&&a.setState({purchaseOrders:e.p_orders,loaded:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(ct,{data:this.state.purchaseOrders,update:this.update_table,page:this.state.page}));return r.a.createElement("div",null,r.a.createElement(te.b,{to:"/purchaseorders/create"},"Create New Purchase Order"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.update_table(0)}},"Refresh table"),r.a.createElement("br",null),this.state.loaded?t:"Loading...")}}]),t}(n.Component),ut=Object(b.b)((function(e){return{user:e.user}}))(ot),lt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).columns=[{id:1,name:"Item Name",prop:"item_name"},{id:2,name:"Quantity",prop:"quantity"},{id:3,name:"Stock",prop:"stock"},{id:4,name:"Defective",prop:"defective"},{id:5,name:"Sold",prop:"sold"},{id:6,name:"Discount",prop:"discount"},{id:7,name:"Purchase Price",prop:"purchase_price"},{id:8,name:"Status",prop:"status"}],a.state={popUp:!1,new:!1,current:0,status:[],vendor_selection:[{id:0,name:"None"}],item_selection:[{id:0,name:"None"}],update:{purchase_order:{invoiced_on:a.converter((new Date).toISOString()),completed_on:a.converter((new Date).toISOString()),discount_type:"percent"},purchase_items:[{id:"Fake Key"}]}},a.converter=a.converter.bind(Object(D.a)(a)),a.addPurchaseOrder=a.addPurchaseOrder.bind(Object(D.a)(a)),a.getItemData=a.getItemData.bind(Object(D.a)(a)),a.selectItem=a.selectItem.bind(Object(D.a)(a)),a.searchItem=a.searchItem.bind(Object(D.a)(a)),a.addPurchaseItem=a.addPurchaseItem.bind(Object(D.a)(a)),a.invoiceHandler=a.invoiceHandler.bind(Object(D.a)(a)),a.completeHandler=a.completeHandler.bind(Object(D.a)(a)),a.getVendorsData=a.getVendorsData.bind(Object(D.a)(a)),a.popUp=a.popUp.bind(Object(D.a)(a)),a.searchVendor=a.searchVendor.bind(Object(D.a)(a)),a.selectVendor=a.selectVendor.bind(Object(D.a)(a)),a.onChange=a.onChange.bind(Object(D.a)(a)),a.updatePurchaseOrder=a.updatePurchaseOrder.bind(Object(D.a)(a)),a.onChangePI=a.onChangePI.bind(Object(D.a)(a)),a.postPurchaseItem=a.postPurchaseItem.bind(Object(D.a)(a)),a.deletePurchaseItem=a.deletePurchaseItem.bind(Object(D.a)(a)),a.refreshTable=a.refreshTable.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={action:"get"},e.next=3,et(JSON.stringify(t)).then((function(e){e.status&&a.setState(Object(K.a)({},a.state,{status:e.data}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getVendorsData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(JSON.stringify(t)).then((function(e){e.status&&a.setState({vendor_selection:e.vendors})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"selectVendor",value:function(e,t){this.setState({update:Object(K.a)({},this.state.update,{purchase_order:Object(K.a)({},this.state.update.purchase_order,{vendor:e,vendor_name:t})})})}},{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,{purchase_order:Object(K.a)({},this.state.update.purchase_order,Object(I.a)({},e.target.name,e.target.value))})})}},{key:"converter",value:function(e){return new Date(Date.parse(e))}},{key:"popUp",value:function(e){var t;for(t in this.state.update.purchase_items)if(this.state.update.purchase_items[t].id===e)return void this.setState(Object(K.a)({},this.state,{current:t,popUp:!0}))}},{key:"searchVendor",value:function(e){if(e.target.value.length>2){var t={action:"get",start:0,end:10,filter:"name",first_name:e.target.value};this.getVendorsData(t)}}},{key:"invoiceHandler",value:function(e){this.setState({update:Object(K.a)({},this.state.update,{purchase_order:Object(K.a)({},this.state.update.purchase_order,{invoiced_on:e})})})}},{key:"completeHandler",value:function(e){this.setState({update:Object(K.a)({},this.state.update,{purchase_order:Object(K.a)({},this.state.update.purchase_order,{completed_on:e})})})}},{key:"updatePurchaseOrder",value:function(){var e=Object(K.a)({},this.state.update.purchase_order,{action:"edit",purchase_order_id:this.state.update.purchase_order.id});Je(JSON.stringify(e)).then((function(e){e.status?alert("Purchase Order Details Has Been Updated."):alert("Error : ",e.error)}))}},{key:"addPurchaseOrder",value:function(){var e=this,t=Object(K.a)({},this.state.update.purchase_order,{action:"add"});Te(JSON.stringify(t)).then((function(t){t.status?(alert("Purchase Order Has Been Added."),t.p_orders[0].invoiced_on=e.converter(t.p_orders[0].invoiced_on),t.p_orders[0].completed_on=e.converter(t.p_orders[0].completed_on),e.setState(Object(K.a)({},e.state,{update:Object(K.a)({},e.state.update,{purchase_order:t.p_orders[0]})}))):alert("Error : ",t.error)}))}},{key:"onChangePI",value:function(e){this.setState({update:Object(K.a)({},this.state.update,{purchase_items:Object(K.a)({},this.state.update.purchase_items,Object(I.a)({},this.state.current,Object(K.a)({},this.state.update.purchase_items[this.state.current],Object(I.a)({},e.target.name,e.target.value))))})})}},{key:"postPurchaseItem",value:function(){var e,t=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a)return e=Object(K.a)({action:"add",purchase_order:this.state.update.purchase_order.id},this.state.update.purchase_items[this.state.current]),void Be(JSON.stringify(e)).then((function(e){e.status?(alert("Purchase Item Has Been Added."),t.refreshTable()):alert(e.error)}));e=Object(K.a)({action:"edit"},this.state.update.purchase_items[this.state.current]),Re(JSON.stringify(e)).then((function(e){e.status?(alert("Purchase Item Details Has Been Updated."),t.refreshTable()):alert(e.error)}))}},{key:"deletePurchaseItem",value:function(){var e=this,t={purchase_items_id:[this.state.update.purchase_items[this.state.current].id]};qe(JSON.stringify(t)).then((function(t){t.status?(alert("Purchase Item Has Beed Deleted."),e.refreshTable()):alert(t.error)}))}},{key:"addPurchaseItem",value:function(){var e,t=0,a=[];for(e in this.state.update.purchase_items)e.id&&"Fake Key"!==e.id&&(t+=1,a.push(e));this.setState({current:t,new:!0,popUp:!0,update:Object(K.a)({},this.state.update,{purchase_items:[].concat(a,[{item_name:"None",discount_type:"percentage",status:"incomplete"}])})})}},{key:"searchItem",value:function(e){if(e.target.value.length>2){var t={action:"get",start:0,end:10,filter:"name",name:e.target.value};this.getItemData(t)}}},{key:"getItemData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(JSON.stringify(t)).then((function(e){e.status&&a.setState(Object(K.a)({},a.state,{item_selection:e.items}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"selectItem",value:function(e,t){this.setState({update:Object(K.a)({},this.state.update,{purchase_items:Object(K.a)({},this.state.update.purchase_items,Object(I.a)({},this.state.current,Object(K.a)({},this.state.update.purchase_items[this.state.current],{item_name:t,item:e})))})})}},{key:"refreshTable",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.update.purchase_order.id,a=[],n={action:"get",purchase_order_id:t},e.next=5,Ue(JSON.stringify(n)).then((function(e){e.status&&(a=e.p_items)}));case 5:return 0===a.length&&(a=[{id:"Fake Key",item_name:""}]),e.next=8,this.setState(Object(K.a)({},this.state,{popUp:!1,update:Object(K.a)({},this.state.update,{purchase_items:a})}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.item_selection,a=r.a.createElement(He.a,{trigger:r.a.createElement("button",null,"Select Item"),closeOnDocumentClick:!0},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Item Name",id:"item_search_box",name:"item_serach_box",onChange:this.searchItem}),r.a.createElement("div",{className:Fe.a.dropdown_content,id:"vendor_dropdown"},t.map((function(t){return r.a.createElement("a",{key:t.id,onClick:function(){e.selectItem(t.id,t.name)}},t.name)}))))),n=r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.refreshTable()}},"Back"),r.a.createElement("br",null),r.a.createElement("br",null),"Item : ",this.state.update.purchase_items[this.state.current].item_name,"  ",this.state.new?a:r.a.createElement("span",null),r.a.createElement("br",null),"Quantity : ",r.a.createElement("input",{name:"quantity",placeholder:this.state.update.purchase_items[this.state.current].quantity,type:"number",onChange:this.onChangePI,required:!0}),r.a.createElement("br",null),"Defective : ",r.a.createElement("input",{name:"defective",placeholder:this.state.update.purchase_items[this.state.current].defective,type:"number",onChange:this.onChangePI,required:!0}),r.a.createElement("br",null),"Discount Type :",r.a.createElement("select",{name:"discount_type",id:"discount_type",defaultValue:this.state.update.purchase_items[this.state.current].discount_type,onChange:this.onChangePI},r.a.createElement("option",{value:"percent"},"Percentage"),r.a.createElement("option",{value:"fixed"},"Fixed"))," ",r.a.createElement("br",null),"Discount : ",r.a.createElement("input",{placeholder:this.state.update.purchase_items[this.state.current].discount,name:"discount",onChange:this.onChangePI}),r.a.createElement("br",null),"Purchase Price : ",r.a.createElement("input",{placeholder:this.state.update.purchase_items[this.state.current].purchase_price,name:"purchase_price",onChange:this.onChangePI,required:!0})," ",r.a.createElement("br",null),"Status : ",r.a.createElement("select",{defaultValue:this.state.update.purchase_items[this.state.current].status,name:"status",onChange:this.onChangePI},r.a.createElement("option",{value:"delivered"},"Delivered"),r.a.createElement("option",{value:"incomplete"},"Incomplete"),r.a.createElement("option",{value:"addedtocirculation"},"Added To Circulation")),r.a.createElement("br",null),this.state.new?r.a.createElement("button",{onClick:function(){e.postPurchaseItem(!0)}},"Add"):r.a.createElement("button",{onClick:function(){e.postPurchaseItem()}},"Update"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.deletePurchaseItem()}},"Delete")),s=this.state.vendor_selection,i=r.a.createElement(He.a,{trigger:this.state.update.purchase_order.id?r.a.createElement("button",null,"Change Vendor"):r.a.createElement("button",null,"Select Vendor"),closeOnDocumentClick:!0},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Vendor's first name",id:"vendor_serach_box",name:"vendor_serach_box",onChange:this.searchVendor}),r.a.createElement("div",{className:Fe.a.dropdown_content,id:"vendor_dropdown"},s.map((function(t){return r.a.createElement("a",{key:t.id,onClick:function(){e.selectVendor(t.id,t.name)}},t.name)}))))),c=this.state.status;return r.a.createElement("div",null,"Vendor : ",this.state.update.purchase_order.vendor_name,i,r.a.createElement("br",null),"Invoiced On :",r.a.createElement(Ve.a,{name:"invoiced_on",selected:this.state.update.purchase_order.invoiced_on,onChange:this.invoiceHandler,required:!0}),"Completed On :",r.a.createElement(Ve.a,{name:"completed_on",selected:this.state.update.purchase_order.completed_on,onChange:this.completeHandler,required:!0}),r.a.createElement("br",null),"Total Cost : ",r.a.createElement("input",{placeholder:this.state.update.purchase_order.total_cost,name:"total_cost",onChange:this.onChange}),r.a.createElement("br",null),"Discount Type :",r.a.createElement("select",{name:"discount_type",id:"discount_type",onChange:this.onChange,defaultValue:this.state.update.purchase_order.discount_type},r.a.createElement("option",{value:"percent"},"Percentage"),r.a.createElement("option",{value:"fixed"},"Fixed"))," ",r.a.createElement("br",null),"Discount : ",r.a.createElement("input",{placeholder:this.state.update.purchase_order.discount,name:"discount",onChange:this.onChange}),r.a.createElement("br",null),"Status : ",r.a.createElement("select",{name:"status",id:"status",onChange:this.onChange,value:this.state.update.purchase_order.status,required:!0},c.map((function(e){return r.a.createElement("option",{key:e.id,value:parseInt(e.id)},e.name)})))," ",r.a.createElement("br",null),r.a.createElement("br",null),this.state.update.purchase_order.id?r.a.createElement("button",{onClick:function(){e.updatePurchaseOrder()}},"Update Purchase Order"):r.a.createElement("button",{onClick:function(){e.addPurchaseOrder()}},"Create Purchase Order"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("h3",null,"Items")," ",this.state.update.purchase_order.id?r.a.createElement("button",{onClick:function(){e.addPurchaseItem()}},"Add New Items"):"",this.state.update.purchase_order.id?this.state.popUp?n:r.a.createElement(de,{data:this.state.update.purchase_items,header:this.columns,page:!1,popUp:this.popUp}):"Fill in Purchase Order first to add new items.")}}]),t}(n.Component),pt=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/invoices","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/invoices/delete","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/invoices","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/invoice","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/invoice","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),vt=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/invoices/status","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/invoiceitems/delete","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),_t=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/invoiceitems","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),gt=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/sales/invoiceitem","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/places","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),yt=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/places/delete","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Et=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/places","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/place","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),xt=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/place","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),kt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).columns=[{id:1,name:"Item Name",prop:"item_name"},{id:2,name:"Quantity",prop:"quantity"},{id:8,name:"Price",prop:"price"},{id:3,name:"Sold From",prop:"sold_from_name"},{id:4,name:"Tax Total",prop:"tax_total"},,{id:5,name:"Disount Amount",prop:"discount_amount"},{id:6,name:"Sub Total",prop:"sub_total"},{id:7,name:"Total",prop:"total"}],a.discount_columns=[{id:1,name:"Name",prop:"name"},{id:2,name:"Rate",prop:"rate"},{id:3,name:"Code",prop:"code"},{id:4,name:"Type",prop:"discount_type"},{id:5,name:"Remove",prop:"removeButton"}],a.tax_columns=[{id:1,name:"Name",prop:"name"},{id:2,name:"Rate",prop:"rate"},{id:3,name:"Code",prop:"code"},{id:4,name:"Type",prop:"tax_type"},{id:5,name:"Remove",prop:"removeButton"}],a.add_discount_columns=[{id:1,name:"Name",prop:"name"},{id:2,name:"Rate",prop:"rate"},{id:3,name:"Code",prop:"code"},{id:4,name:"Type",prop:"discount_type"}],a.add_tax_columns=[{id:1,name:"Name",prop:"name"},{id:2,name:"Rate",prop:"rate"},{id:3,name:"Code",prop:"code"},{id:4,name:"Type",prop:"tax_type"}],a.state={tax_start:0,tax_end:5,discount_start:0,discount_end:5,tax_loaded:!1,discount_loaded:!1,discount_page:[],tax_page:[],discount_selection:[],tax_selection:[],place_selection:[],stock_selection:[],sold_from_selection:[],popUp:!1,new:!1,current:0,status:[],customer_selection:[{id:0,name:"None"}],item_selection:[{id:0,name:"None"}],update:{invoice:Object(K.a)({},a.props.invoice,{invoiced_on:a.converter(a.props.invoice.invoiced_on),due_on:a.converter(a.props.invoice.due_on)}),invoice_items:a.props.invoice_items}},a.update_table=a.update_table.bind(Object(D.a)(a)),a.stateman=a.stateman.bind(Object(D.a)(a)),a.refreshTable=a.refreshTable.bind(Object(D.a)(a)),a.getItemData=a.getItemData.bind(Object(D.a)(a)),a.selectItem=a.selectItem.bind(Object(D.a)(a)),a.searchItem=a.searchItem.bind(Object(D.a)(a)),a.addInvoiceItem=a.addInvoiceItem.bind(Object(D.a)(a)),a.invoiceHandler=a.invoiceHandler.bind(Object(D.a)(a)),a.dueOnHandler=a.dueOnHandler.bind(Object(D.a)(a)),a.getCustomerData=a.getCustomerData.bind(Object(D.a)(a)),a.converter=a.converter.bind(Object(D.a)(a)),a.popUp=a.popUp.bind(Object(D.a)(a)),a.searchCustomer=a.searchCustomer.bind(Object(D.a)(a)),a.selectCustomer=a.selectCustomer.bind(Object(D.a)(a)),a.onChange=a.onChange.bind(Object(D.a)(a)),a.updateInvoice=a.updateInvoice.bind(Object(D.a)(a)),a.onChangePI=a.onChangePI.bind(Object(D.a)(a)),a.postInvoiceItem=a.postInvoiceItem.bind(Object(D.a)(a)),a.deleteInvoiceItem=a.deleteInvoiceItem.bind(Object(D.a)(a)),a.onChangePlace=a.onChangePlace.bind(Object(D.a)(a)),a.removeEntry=a.removeEntry.bind(Object(D.a)(a)),a.addEntryDiscount=a.addEntryDiscount.bind(Object(D.a)(a)),a.addEntryTax=a.addEntryTax.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"removeEntry",value:function(e,t){var a,n;t?((a=this.state.update.invoice_items[this.state.current].applied_discount).pop(t),(n=this.state.update.invoice_items[this.state.current].discount).pop(a.id),this.setState(Object(K.a)({},this.state,{update:Object(K.a)({},this.state.update,{invoice_items:Object(K.a)({},this.state.update.invoice_items,Object(I.a)({},t,{applied_discount:a,discount:n}))})}))):((a=this.state.update.invoice_items[this.state.current].applied_tax).pop(t),(n=this.state.update.invoice_items[this.state.current].taxes).pop(a.id),this.setState(Object(K.a)({},this.state,{update:Object(K.a)({},this.state.update,{invoice_items:Object(K.a)({},this.state.update.invoice_items,Object(I.a)({},t,{applied_tax:a,taxes:n}))})})))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={action:"get"},e.next=3,vt(JSON.stringify(t)).then((function(e){e.status?a.setState(Object(K.a)({},a.state,{status:e.data})):alert(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getCustomerData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(JSON.stringify(t)).then((function(e){e.status?a.setState({customer_selection:e.customers}):alert(e.error)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"selectCustomer",value:function(e,t){this.setState({update:Object(K.a)({},this.state.update,{invoice:Object(K.a)({},this.state.update.invoice,{customer:e,customer_name:t})})})}},{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,{invoice:Object(K.a)({},this.state.update.invoice,Object(I.a)({},e.target.name,e.target.value))})})}},{key:"converter",value:function(e){return new Date(Date.parse(e))}},{key:"popUp",value:function(e){var t;for(t in this.state.update.invoice_items)if(this.state.update.invoice_items[t].id===e){this.setState(Object(K.a)({},this.state,{current:t,popUp:!0}));break}var a={action:"get",filter:"item",item_id:this.state.update.invoice_items[t].item};this.getPlacesData(a)}},{key:"getPlacesData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(JSON.stringify(t)).then((function(e){if(e.status){a.setState({sold_from_selection:e.placements});var t,n,r=[];for(t in e.placements)n={id:e.placements[t].placed_on,str_placed_on:e.placements[t].str_placed_on},r[e.placements[t].placed_on]=n;r=r.filter((function(e){return null!=e})),a.setState({place_selection:r}),a.update_stock(e)}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"update_stock",value:function(e){var t;t=this.state.update.invoice_items[this.state.current].sold_from?this.state.update.invoice_items[this.state.current].sold_from:e.placements[0].placed_on;var a,n=[];for(a in e.placements)if(t===e.placements[a].placed_on){var r=e.placements[a].purchase_item_details.purchase_price+"/-  "+e.placements[a].purchase_item_details.quantity+" "+e.placements[a].purchase_item_details.vendor;n.push({id:e.placements[a].purchase_item,str:r})}this.setState(Object(K.a)({},this.state,{stock_selection:n}))}},{key:"onChangePlace",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({update:Object(K.a)({},this.state.update,{invoice_items:Object(K.a)({},this.state.update.invoice_items,Object(I.a)({},this.state.current,Object(K.a)({},this.state.update.invoice_items[this.state.current],Object(I.a)({},t.target.name,t.target.value))))})});case 2:for(n in a=[],this.state.sold_from_selection)this.state.update.invoice_items[this.state.current].sold_from===this.state.sold_from_selection[n].placed_on&&(r=this.state.sold_from_selection[n].purchase_item_details.purchase_price+"/-  "+this.state.sold_from_selection[n].purchase_item_details.quantity+" "+this.state.sold_from_selection[n].purchase_item_details.vendor,a.push({id:this.state.sold_from_selection[n].purchase_item,str:r}));this.setState(Object(K.a)({},this.state,{stock_selection:a}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchCustomer",value:function(e){if(e.target.value.length>2){var t={action:"get",start:0,end:10,filter:"name",name:e.target.value};this.getCustomerData(t)}}},{key:"invoiceHandler",value:function(e){this.setState({update:Object(K.a)({},this.state.update,{invoice:Object(K.a)({},this.state.update.invoice,{invoiced_on:e})})})}},{key:"dueOnHandler",value:function(e){this.setState({update:Object(K.a)({},this.state.update,{invoice:Object(K.a)({},this.state.update.invoice,{due_on:e})})})}},{key:"updateInvoice",value:function(){var e=this,t=Object(K.a)({},this.state.update.invoice,{action:"edit",invoice_id:this.state.update.invoice.id});bt(JSON.stringify(t)).then((function(t){t.status?(alert("Invoice Details Has Been Updated."),e.props.update(0)):alert(t.error)}))}},{key:"onChangePI",value:function(e){this.setState({update:Object(K.a)({},this.state.update,{invoice_items:Object(K.a)({},this.state.update.invoice_items,Object(I.a)({},this.state.current,Object(K.a)({},this.state.update.invoice_items[this.state.current],Object(I.a)({},e.target.name,e.target.value))))})})}},{key:"postInvoiceItem",value:function(){var e,t=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a)return(e=Object(K.a)({action:"add",invoice:this.state.update.invoice.id},this.state.update.invoice_items[this.state.current])).applied_tax=[],e.applied_discount=[],void _t(JSON.stringify(e)).then((function(e){e.status?(alert("Invoice Item Has Been Added."),t.refreshTable()):alert(e.error)}));(e=Object(K.a)({action:"edit",invoice:this.state.update.invoice.id,invoice_item_id:this.state.update.invoice_items[this.state.current].id},this.state.update.invoice_items[this.state.current])).applied_tax=[],e.applied_discount=[],gt(JSON.stringify(e)).then((function(e){e.status?(alert("Invoice Item Details Has Been Updated."),t.refreshTable()):alert(e.error)}))}},{key:"deleteInvoiceItem",value:function(){var e=this,t={invoice_items_id:[this.state.update.invoice_items[this.state.current].id]};ft(JSON.stringify(t)).then((function(t){t.status?(alert("Invoice Item Has Beed Deleted."),e.refreshTable()):alert(t.error)}))}},{key:"addInvoiceItem",value:function(){var e,t=0,a=[];for(e in this.state.update.invoice_items)e.id&&"Fake Key"!==e.id&&(t+=1,a.push(e));this.setState({current:t,new:!0,popUp:!0,update:Object(K.a)({},this.state.update,{invoice_items:[].concat(a,[{item_name:"None",discount_type:"percentage",status:"incomplete",applied_tax:[],applied_discount:[],purchase_item:""}])})})}},{key:"searchItem",value:function(e){if(e.target.value.length>2){var t={action:"get",start:0,end:10,filter:"name",name:e.target.value};this.getItemData(t)}}},{key:"getItemData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(JSON.stringify(t)).then((function(e){e.status?a.setState(Object(K.a)({},a.state,{item_selection:e.items})):alert(e.error)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"selectItem",value:function(e,t){this.setState({update:Object(K.a)({},this.state.update,{invoice_items:Object(K.a)({},this.state.update.invoice_items,Object(I.a)({},this.state.current,Object(K.a)({},this.state.update.invoice_items[this.state.current],{item_name:t,item:e})))})});var a={action:"get",filter:"item",item_id:e};this.getPlacesData(a)}},{key:"refreshTable",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.update.invoice.id,a=[],n={action:"get",invoice_id:t},e.next=5,mt(JSON.stringify(n)).then((function(e){e.status?a=e.invoice_items:alert(e.error)}));case 5:return 0===a.length&&(a=[{id:"Fake Key",item_name:""}]),e.next=8,this.setState(Object(K.a)({},this.state,{popUp:!1,update:Object(K.a)({},this.state.update,{invoice_items:a})}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stateman",value:function(){console.log(this.state)}},{key:"update_table",value:function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t<0?-1:1,!a){e.next=18;break}if(0!==t){e.next=7;break}return e.next=5,this.setState({discoount_loaded:!1,discount_start:0,discount_end:10,discount_page:1});case 5:e.next=14;break;case 7:if(!(this.state.discount_start+t>-1)){e.next=12;break}return e.next=10,this.setState({discount_loaded:!1,discount_start:this.state.discount_start+t,discount_end:this.state.discount_end+t,discount_page:this.state.discount_page+n});case 10:e.next=14;break;case 12:return alert("Cannot move futher from here."),e.abrupt("return");case 14:r={action:"get",filter:"none",start:this.state.discount_start,end:this.state.discount_end},this.getDiscountsData(r),e.next=32;break;case 18:if(0!==t){e.next=23;break}return e.next=21,this.setState({tax_loaded:!1,tax_start:0,tax_end:10,tax_page:1});case 21:e.next=30;break;case 23:if(!(this.state.tax_start+t>-1)){e.next=28;break}return e.next=26,this.setState({tax_loaded:!1,tax_start:this.state.tax_start+t,tax_end:this.state.tax_end+t,tax_page:this.state.tax_page+n});case 26:e.next=30;break;case 28:return alert("Cannot move futher from here."),e.abrupt("return");case 30:r={action:"get",filter:"none",start:this.state.tax_start,end:this.state.tax_end},this.getTaxesData(r);case 32:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getDiscountsData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(JSON.stringify(t)).then((function(e){e.status?a.setState({discount_selection:e.discounts,discount_loaded:!0}):alert(e.error)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTaxesData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(JSON.stringify(t)).then((function(e){e.status&&a.setState({tax_selection:e.taxes,tax_loaded:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addEntryDiscount",value:function(e){var t;for(t in this.state.discount_selection)if(this.state.discount_selection[t].id===e){var a=this.state.update.invoice_items[this.state.current].applied_discount,n=this.state.discount_selection[t];a.push(n);var r=this.state.update.invoice_items[this.state.current].discount;r.push(e),this.setState(Object(K.a)({},this.state,{update:Object(K.a)({},this.state.update,{invoice_items:Object(K.a)({},this.state.update.invoice_items,Object(I.a)({},this.state.current,Object(K.a)({},this.state.update.invoice_items[this.state.current],{discount:r,applied_discount:a})))})}))}}},{key:"addEntryTax",value:function(e){var t;for(t in this.state.tax_selection)if(this.state.tax_selection[t].id===e){var a=this.state.update.invoice_items[this.state.current].applied_tax,n=this.state.tax_selection[t];a.push(n);var r=this.state.update.invoice_items[this.state.current].taxes;r.push(e),this.setState(Object(K.a)({},this.state,{update:Object(K.a)({},this.state.update,{invoice_items:Object(K.a)({},this.state.update.invoice_items,Object(I.a)({},this.state.current,Object(K.a)({},this.state.update.invoice_items[this.state.current],{tax:r,applied_tax:a})))})}))}}},{key:"render",value:function(){var e,t=this,a=this.state.item_selection,n=r.a.createElement(He.a,{trigger:r.a.createElement("button",null,"Select Item"),closeOnDocumentClick:!0},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Item Name",id:"item_search_box",name:"item_serach_box",onChange:this.searchItem}),r.a.createElement("div",{className:Fe.a.dropdown_content,id:"item_dropdown"},a.map((function(e){return r.a.createElement("a",{key:e.id,onClick:function(){t.selectItem(e.id,e.name)}},e.name," ",e.sales_price)}))))),s=this.state.place_selection,i=r.a.createElement("select",{name:"sold_from",id:"sold_from",onChange:this.onChangePlace,value:this.state.update.invoice_items[this.state.current].sold_from},r.a.createElement("option",{key:"Fake Key",value:"Fake Value"},"Select Place"),s.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.str_placed_on)}))),c=this.state.stock_selection,o=this.state.update.invoice_items[this.state.current].purchase_item?this.state.update.invoice_items[this.state.current].purchase_item:"",u=r.a.createElement("select",{name:"purchase_item",id:"purchase_item",onChange:this.onChangePI,value:o},r.a.createElement("option",{key:"Fake Key",value:"Fake Value"},"Select Stock"),c.map((function(e){return r.a.createElement("option",{key:e.id,value:parseInt(e.id)},e.str)}))),l=r.a.createElement("div",null,r.a.createElement("h3",null," Click To Apply New Discount"),r.a.createElement(de,{data:this.state.discount_selection,header:this.add_discount_columns,page:!1,popUp:this.addEntryDiscount}),r.a.createElement("button",{onClick:function(){t.update_table(-5,!0)}},"Previous"),r.a.createElement("span",null,"      ",this.state.discount_page,"       "),r.a.createElement("button",{onClick:function(){t.update_table(5,!0)}},"Next")),p=r.a.createElement("div",null,r.a.createElement("h3",null,"Click To Apply New Tax "),r.a.createElement(de,{data:this.state.tax_selection,header:this.add_tax_columns,page:!1,popUp:this.addEntryTax}),r.a.createElement("button",{onClick:function(){t.update_table(-5,!1)}},"Previous"),r.a.createElement("span",null,"      ",this.state.tax_page,"       "),r.a.createElement("button",{onClick:function(){t.update_table(5,!1)}},"Next")),d=this.state.update.invoice_items[this.state.current].applied_discount;for(e in d)d[e]=Object(K.a)({},d[e],{removeButton:r.a.createElement("button",{onClick:function(){t.removeEntry(e,!0)}}," Remove ")});var h=this.state.update.invoice_items[this.state.current].applied_tax;for(e in h)h[e]=Object(K.a)({},h[e],{removeButton:r.a.createElement("button",{onClick:function(){t.removeEntry(e,!1)}}," Remove ")});var m=r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){t.refreshTable()}},"Back"),r.a.createElement("br",null),r.a.createElement("br",null),"Item : ",this.state.update.invoice_items[this.state.current].item_name,"  ",n,r.a.createElement("br",null),"Sold From: Place : ",this.state.update.invoice_items[this.state.current].item?i:"Select An Item First"," ",r.a.createElement("br",null),"Stock :   ",this.state.update.invoice_items[this.state.current].item?u:"Select An Item First"," ",r.a.createElement("br",null),r.a.createElement("br",null),"Quantity : ",r.a.createElement("input",{name:"quantity",placeholder:this.state.update.invoice_items[this.state.current].quantity,type:"number",onChange:this.onChangePI,required:!0,min:"1"}),r.a.createElement("br",null),"Price : ",r.a.createElement("input",{name:"price",placeholder:this.state.update.invoice_items[this.state.current].price,type:"number",onChange:this.onChangePI,required:!0}),r.a.createElement("br",null),"Tax Total : ",this.state.update.invoice_items[this.state.current].tax_total," ",r.a.createElement("br",null),"Sub Total : ",this.state.update.invoice_items[this.state.current].sub_total," ",r.a.createElement("br",null),"Discount Amount : ",this.state.update.invoice_items[this.state.current].discount_amount,r.a.createElement("br",null),"Total without discount : ",this.state.update.invoice_items[this.state.current].total_without_discount,r.a.createElement("br",null),"Total : ",this.state.update.invoice_items[this.state.current].total,r.a.createElement("br",null),r.a.createElement("br",null),"Applied Discounts : :",r.a.createElement(de,{data:d,header:this.discount_columns,page:!1,popUp:this.popUp,removeEntry:this.removeEntry}),r.a.createElement("button",{onClick:function(){t.update_table(0,!0)}},"Apply New Discount")," ",r.a.createElement("br",null),r.a.createElement("br",null),this.state.discount_loaded?l:r.a.createElement("span",null),r.a.createElement("br",null),"Applied Taxes : :",r.a.createElement(de,{data:h,header:this.tax_columns,page:!1,popUp:this.popUp,removeEntry:this.removeEntry}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){t.update_table(0,!1)}},"Apply New Tax"),r.a.createElement("br",null),r.a.createElement("br",null),this.state.tax_loaded?p:r.a.createElement("span",null),r.a.createElement("br",null),this.state.new?r.a.createElement("button",{onClick:function(){t.postInvoiceItem(!0)}},"Add"):r.a.createElement("button",{onClick:function(){t.postInvoiceItem()}},"Update"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){t.deleteInvoiceItem()}},"Delete")),b=this.state.customer_selection,v=r.a.createElement(He.a,{trigger:r.a.createElement("button",null,"Change Customer"),closeOnDocumentClick:!0},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Customer's first name",id:"customer_serach_box",name:"customer_serach_box",onChange:this.searchCustomer}),r.a.createElement("div",{className:Fe.a.dropdown_content,id:"customer_dropdown"},b.map((function(e){return r.a.createElement("a",{href:"#",key:e.id,onClick:function(){t.selectCustomer(e.id,e.name)}},e.name)}))))),f=this.state.status;return r.a.createElement("div",null,r.a.createElement("h1",null,"Invoice"),r.a.createElement("h3",null,this.state.update.invoice.customer_name," "),"Added By : ",this.state.update.invoice.added_by_name,r.a.createElement("br",null),"Customer : ",this.state.update.invoice.customer_name," ",v,r.a.createElement("br",null),"Order Number : ",this.state.update.invoice.order_number,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"Invoiced On :",r.a.createElement(Ve.a,{name:"invoiced_on",selected:this.state.update.invoice.invoiced_on,onChange:this.invoiceHandler}),"Due On :",r.a.createElement(Ve.a,{name:"completed_on",selected:this.state.update.invoice.due_on,onChange:this.dueOnHandler}),r.a.createElement("br",null),r.a.createElement("br",null),"Total Amount : ",this.state.update.invoice.total_amount,r.a.createElement("br",null),"Total Tax : ",this.state.update.invoice.tax_total,r.a.createElement("br",null),"Total Discount: ",this.state.update.invoice.discount_total,r.a.createElement("br",null),"Paid Amount : ",this.state.update.invoice.paid_amount,r.a.createElement("br",null),r.a.createElement("br",null),"Additional Discount : ",r.a.createElement("input",{placeholder:this.state.update.invoice.additional_discount,name:"additional_discount",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement("br",null),"Status : ",r.a.createElement("select",{name:"status",id:"status",onChange:this.onChange,value:this.state.update.invoice.status},f.map((function(e){return r.a.createElement("option",{key:e.id,value:parseInt(e.id)},e.name)})))," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){t.updateInvoice()}},"Update Invoice"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){t.props.delete(t.props.invoice.id)}},"Delete"),r.a.createElement("hr",null),r.a.createElement("h3",null,"Items")," ",r.a.createElement("button",{onClick:function(){t.addInvoiceItem()}},"Add New Items"),this.state.popUp?m:r.a.createElement(de,{data:this.state.update.invoice_items,header:this.columns,page:!1,popUp:this.popUp}),r.a.createElement("button",{onClick:function(){t.stateman()}},"State"))}}]),t}(n.Component),Ct=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).columns=[{id:1,name:"Customer's Name",prop:"customer_name"},{id:2,name:"Sold By",prop:"added_by_name"},{id:3,name:"Paid Amount",prop:"paid_amount"},{id:4,name:"Order Number",prop:"order_number"},{id:5,name:"Invoiced On",prop:"invoiced_on_str"},{id:6,name:"Status",prop:"status_name"}],a.popUp=a.popUp.bind(Object(D.a)(a)),a.state={popUp:!1,invoices:{},invoice_items:[],update:{}},a.onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.invoiceDelete=a.invoiceDelete.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,Object(I.a)({},e.target.name,[e.target.value]))})}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t.preventDefault(),a=this.state.vendor,this.state.update)a[n]=this.state.update[n][0];a=Object(K.a)({},a,{action:"edit"}),bt(JSON.stringify(a)).then((function(e){try{e.status?(alert("Vendor Data updated."),r.props.update(0)):alert(e.error)}catch(t){console.log(t)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"invoiceDelete",value:function(e){var t=this,a={invoices_id:[e]};dt(JSON.stringify(a)).then((function(e){try{e.status?(alert("Invoice has been Deleted."),t.props.update(0)):alert(e.error)}catch(a){console.log(a)}}))}},{key:"popUp",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:0,a={action:"get",invoice_id:t},e.next=4,mt(JSON.stringify(a)).then((function(e){e.status?(console.log(e),n=e):alert(e.error)}));case 4:return 0===n.invoice_items.length&&(console.log("blank"),n.invoice_items=[{id:0}]),e.next=7,this.setState({popUp:!0,invoice:n.invoice[0],invoice_items:n.invoice_items});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=r.a.createElement(de,{data:this.props.data,header:this.columns,popUp:this.popUp,update:this.props.update,page:this.props.page}),t=r.a.createElement(kt,{invoice:this.state.invoice,invoice_items:this.state.invoice_items,update:this.props.update,delete:this.invoiceDelete});return r.a.createElement("div",null,this.state.popUp?t:e)}}]),t}(n.Component),St=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={invoices:[],loaded:!1,start:0,end:10,page:1},a.update_table=a.update_table.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.user.isLoggedIn&&this.props.history.push("/")}},{key:"update_table",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t<0?-1:1,0!==t){e.next=6;break}return e.next=4,this.setState({loaded:!1,start:0,end:10,page:1});case 4:e.next=13;break;case 6:if(!(this.state.start+t>-1)){e.next=11;break}return e.next=9,this.setState({loaded:!1,start:this.state.start+t,end:this.state.end+t,page:this.state.page+a});case 9:e.next=13;break;case 11:return alert("Cannot move futher from here."),e.abrupt("return");case 13:n={action:"get",filter:"none",start:this.state.start,end:this.state.end},this.getInvoiceData(n);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getInvoiceData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt(JSON.stringify(t)).then((function(e){if(e.status){for(a in e.invoices)e.invoices[a].invoiced_on_str=e.invoices[a].invoiced_on.split("T")[0],e.invoices[a].due_on_str=e.invoices[a].due_on.split("T")[0];n.setState({invoices:e.invoices,loaded:!0})}else alert(e.error)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(Ct,{data:this.state.invoices,update:this.update_table,page:this.state.page}));return r.a.createElement("div",null,r.a.createElement(te.b,{to:"/invoices/create"},"Create New Invoice"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.update_table(0)}},"Refresh table"),r.a.createElement("br",null),this.state.loaded?t:"Loading...")}}]),t}(n.Component),wt=Object(b.b)((function(e){return{user:e.user}}))(St),It=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).columns=[{id:1,name:"Item Name",prop:"item_name"},{id:2,name:"Quantity",prop:"quantity"},{id:8,name:"Price",prop:"price"},{id:3,name:"Sold From",prop:"sold_from_name"},{id:4,name:"Tax Total",prop:"tax_total"},,{id:5,name:"Disount Amount",prop:"discount_amount"},{id:6,name:"Sub Total",prop:"sub_total"},{id:7,name:"Total",prop:"total"}],a.discount_columns=[{id:1,name:"Name",prop:"name"},{id:2,name:"Rate",prop:"rate"},{id:3,name:"Code",prop:"code"},{id:4,name:"Type",prop:"discount_type"},{id:5,name:"Remove",prop:"removeButton"}],a.tax_columns=[{id:1,name:"Name",prop:"name"},{id:2,name:"Rate",prop:"rate"},{id:3,name:"Code",prop:"code"},{id:4,name:"Type",prop:"tax_type"},{id:5,name:"Remove",prop:"removeButton"}],a.add_discount_columns=[{id:1,name:"Name",prop:"name"},{id:2,name:"Rate",prop:"rate"},{id:3,name:"Code",prop:"code"},{id:4,name:"Type",prop:"discount_type"}],a.add_tax_columns=[{id:1,name:"Name",prop:"name"},{id:2,name:"Rate",prop:"rate"},{id:3,name:"Code",prop:"code"},{id:4,name:"Type",prop:"tax_type"}],a.state={tax_start:0,tax_end:5,discount_start:0,discount_end:5,tax_loaded:!1,discount_loaded:!1,discount_page:[],tax_page:[],discount_selection:[],tax_selection:[],place_selection:[],stock_selection:[],sold_from_selection:[],popUp:!1,new:!1,current:0,status:[],customer_selection:[{id:0,name:"None"}],item_selection:[{id:0,name:"None"}],update:{invoice:{invoiced_on:new Date,due_on:new Date},invoice_items:[[{id:"Fake Key",discount:[],applied_discount:[],tax:[],applied_tax:[]}]]}},a.update_table=a.update_table.bind(Object(D.a)(a)),a.stateman=a.stateman.bind(Object(D.a)(a)),a.refreshTable=a.refreshTable.bind(Object(D.a)(a)),a.getItemData=a.getItemData.bind(Object(D.a)(a)),a.selectItem=a.selectItem.bind(Object(D.a)(a)),a.searchItem=a.searchItem.bind(Object(D.a)(a)),a.addInvoiceItem=a.addInvoiceItem.bind(Object(D.a)(a)),a.invoiceHandler=a.invoiceHandler.bind(Object(D.a)(a)),a.dueOnHandler=a.dueOnHandler.bind(Object(D.a)(a)),a.getCustomerData=a.getCustomerData.bind(Object(D.a)(a)),a.converter=a.converter.bind(Object(D.a)(a)),a.popUp=a.popUp.bind(Object(D.a)(a)),a.searchCustomer=a.searchCustomer.bind(Object(D.a)(a)),a.selectCustomer=a.selectCustomer.bind(Object(D.a)(a)),a.onChange=a.onChange.bind(Object(D.a)(a)),a.updateInvoice=a.updateInvoice.bind(Object(D.a)(a)),a.onChangePI=a.onChangePI.bind(Object(D.a)(a)),a.postInvoiceItem=a.postInvoiceItem.bind(Object(D.a)(a)),a.deleteInvoiceItem=a.deleteInvoiceItem.bind(Object(D.a)(a)),a.onChangePlace=a.onChangePlace.bind(Object(D.a)(a)),a.removeEntry=a.removeEntry.bind(Object(D.a)(a)),a.addEntryDiscount=a.addEntryDiscount.bind(Object(D.a)(a)),a.addEntryTax=a.addEntryTax.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"removeEntry",value:function(e,t){var a,n;t?((a=this.state.update.invoice_items[this.state.current].applied_discount).pop(t),(n=this.state.update.invoice_items[this.state.current].discount).pop(a.id),this.setState(Object(K.a)({},this.state,{update:Object(K.a)({},this.state.update,{invoice_items:Object(K.a)({},this.state.update.invoice_items,Object(I.a)({},t,{applied_discount:a,discount:n}))})}))):((a=this.state.update.invoice_items[this.state.current].applied_tax).pop(t),(n=this.state.update.invoice_items[this.state.current].taxes).pop(a.id),this.setState(Object(K.a)({},this.state,{update:Object(K.a)({},this.state.update,{invoice_items:Object(K.a)({},this.state.update.invoice_items,Object(I.a)({},t,{applied_tax:a,taxes:n}))})})))}},{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={action:"get"},e.next=3,vt(JSON.stringify(t)).then((function(e){e.status?a.setState(Object(K.a)({},a.state,{status:e.data})):alert(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getCustomerData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(JSON.stringify(t)).then((function(e){e.status?a.setState({customer_selection:e.customers}):alert(e.error)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"selectCustomer",value:function(e,t){this.setState({update:Object(K.a)({},this.state.update,{invoice:Object(K.a)({},this.state.update.invoice,{customer:e,customer_name:t})})})}},{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,{invoice:Object(K.a)({},this.state.update.invoice,Object(I.a)({},e.target.name,e.target.value))})})}},{key:"converter",value:function(e){return new Date(Date.parse(e))}},{key:"popUp",value:function(e){var t;for(t in this.state.update.invoice_items)if(this.state.update.invoice_items[t].id===e){this.setState(Object(K.a)({},this.state,{current:t,popUp:!0}));break}var a={action:"get",filter:"item",item_id:this.state.update.invoice_items[t].item};this.getPlacesData(a)}},{key:"getPlacesData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(JSON.stringify(t)).then((function(e){if(e.status){a.setState({sold_from_selection:e.placements});var t,n,r=[];for(t in e.placements)n={id:e.placements[t].placed_on,str_placed_on:e.placements[t].str_placed_on},r[e.placements[t].placed_on]=n;r=r.filter((function(e){return null!=e})),a.setState({place_selection:r}),a.update_stock(e)}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"update_stock",value:function(e){var t;console.log("data",e),this.state.update.invoice_items[this.state.current].sold_from?t=this.state.update.invoice_items[this.state.current].sold_from:(t=e.placements[0].placed_on,console.log("default",t));var a,n=[];for(a in e.placements)if(console.log(t,"  ",e.placements[a].placed_on),parseInt(t)===parseInt(e.placements[a].placed_on)){var r=e.placements[a].purchase_item_details.purchase_price+"/-  "+e.placements[a].purchase_item_details.quantity+" "+e.placements[a].purchase_item_details.vendor;n.push({id:e.placements[a].purchase_item,str:r}),console.log(n)}this.setState(Object(K.a)({},this.state,{stock_selection:n}))}},{key:"onChangePlace",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({update:Object(K.a)({},this.state.update,{invoice_items:Object(K.a)({},this.state.update.invoice_items,Object(I.a)({},this.state.current,Object(K.a)({},this.state.update.invoice_items[this.state.current],Object(I.a)({},t.target.name,t.target.value))))})});case 2:for(n in a=[],this.state.update.invoice_items[this.state.current].sold_from?r=this.state.update.invoice_items[this.state.current].sold_from:(r=this.state.sold_from[0].placed_on,console.log("default",r)),this.state.sold_from_selection)parseInt(r)===parseInt(this.state.sold_from_selection[n].placed_on)&&(s=this.state.sold_from_selection[n].purchase_item_details.purchase_price+"/-  "+this.state.sold_from_selection[n].purchase_item_details.quantity+" "+this.state.sold_from_selection[n].purchase_item_details.vendor,a.push({id:this.state.sold_from_selection[n].purchase_item,str:s}));this.setState(Object(K.a)({},this.state,{stock_selection:a}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchCustomer",value:function(e){if(e.target.value.length>2){var t={action:"get",start:0,end:10,filter:"name",name:e.target.value};this.getCustomerData(t)}}},{key:"invoiceHandler",value:function(e){this.setState({update:Object(K.a)({},this.state.update,{invoice:Object(K.a)({},this.state.update.invoice,{invoiced_on:e})})})}},{key:"dueOnHandler",value:function(e){this.setState({update:Object(K.a)({},this.state.update,{invoice:Object(K.a)({},this.state.update.invoice,{due_on:e})})})}},{key:"updateInvoice",value:function(){var e=Object(K.a)({},this.state.update.invoice,{action:"add",invoice_id:this.state.update.invoice.id});ht(JSON.stringify(e)).then((function(e){e.status?(alert("Invoice Details Has Been Updated."),window.location.pathname="/invoices"):alert(e.error)}))}},{key:"onChangePI",value:function(e){this.setState({update:Object(K.a)({},this.state.update,{invoice_items:Object(K.a)({},this.state.update.invoice_items,Object(I.a)({},this.state.current,Object(K.a)({},this.state.update.invoice_items[this.state.current],Object(I.a)({},e.target.name,e.target.value))))})})}},{key:"postInvoiceItem",value:function(){var e,t=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a)return(e=Object(K.a)({action:"add",invoice:this.state.update.invoice.id},this.state.update.invoice_items[this.state.current])).applied_tax=[],e.applied_discount=[],void _t(JSON.stringify(e)).then((function(e){e.status?(alert("Invoice Item Has Been Added."),t.refreshTable()):alert(e.error)}));(e=Object(K.a)({action:"edit",invoice:this.state.update.invoice.id,invoice_item_id:this.state.update.invoice_items[this.state.current].id},this.state.update.invoice_items[this.state.current])).applied_tax=[],e.applied_discount=[],gt(JSON.stringify(e)).then((function(e){e.status?(alert("Invoice Item Details Has Been Updated."),t.refreshTable()):alert(e.error)}))}},{key:"deleteInvoiceItem",value:function(){var e=this,t={invoice_items_id:[this.state.update.invoice_items[this.state.current].id]};ft(JSON.stringify(t)).then((function(t){t.status?(alert("Invoice Item Has Beed Deleted."),e.refreshTable()):alert(t.error)}))}},{key:"addInvoiceItem",value:function(){var e,t=0,a=[];for(e in this.state.update.invoice_items)e.id&&"Fake Key"!==e.id&&(t+=1,a.push(e));this.setState({current:t,new:!0,popUp:!0,update:Object(K.a)({},this.state.update,{invoice_items:[].concat(a,[{item_name:"None",discount_type:"percentage",status:"incomplete",applied_tax:[],applied_discount:[],purchase_item:"",discount:[],taxes:[]}])})})}},{key:"searchItem",value:function(e){if(e.target.value.length>2){var t={action:"get",start:0,end:10,filter:"name",name:e.target.value};this.getItemData(t)}}},{key:"getItemData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(JSON.stringify(t)).then((function(e){e.status?a.setState(Object(K.a)({},a.state,{item_selection:e.items})):alert(e.error)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"selectItem",value:function(e,t){this.setState({update:Object(K.a)({},this.state.update,{invoice_items:Object(K.a)({},this.state.update.invoice_items,Object(I.a)({},this.state.current,Object(K.a)({},this.state.update.invoice_items[this.state.current],{item_name:t,item:e})))})});var a={action:"get",filter:"item",item_id:e};this.getPlacesData(a)}},{key:"refreshTable",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.update.invoice.id,a=[],n={action:"get",invoice_id:t},e.next=5,mt(JSON.stringify(n)).then((function(e){e.status?a=e.invoice_items:alert(e.error)}));case 5:return 0===a.length&&(a=[{id:"Fake Key",item_name:""}]),e.next=8,this.setState(Object(K.a)({},this.state,{popUp:!1,update:Object(K.a)({},this.state.update,{invoice_items:a})}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stateman",value:function(){console.log(this.state)}},{key:"update_table",value:function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t<0?-1:1,!a){e.next=18;break}if(0!==t){e.next=7;break}return e.next=5,this.setState({discoount_loaded:!1,discount_start:0,discount_end:10,discount_page:1});case 5:e.next=14;break;case 7:if(!(this.state.discount_start+t>-1)){e.next=12;break}return e.next=10,this.setState({discount_loaded:!1,discount_start:this.state.discount_start+t,discount_end:this.state.discount_end+t,discount_page:this.state.discount_page+n});case 10:e.next=14;break;case 12:return alert("Cannot move futher from here."),e.abrupt("return");case 14:r={action:"get",filter:"none",start:this.state.discount_start,end:this.state.discount_end},this.getDiscountsData(r),e.next=32;break;case 18:if(0!==t){e.next=23;break}return e.next=21,this.setState({tax_loaded:!1,tax_start:0,tax_end:10,tax_page:1});case 21:e.next=30;break;case 23:if(!(this.state.tax_start+t>-1)){e.next=28;break}return e.next=26,this.setState({tax_loaded:!1,tax_start:this.state.tax_start+t,tax_end:this.state.tax_end+t,tax_page:this.state.tax_page+n});case 26:e.next=30;break;case 28:return alert("Cannot move futher from here."),e.abrupt("return");case 30:r={action:"get",filter:"none",start:this.state.tax_start,end:this.state.tax_end},this.getTaxesData(r);case 32:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getDiscountsData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(JSON.stringify(t)).then((function(e){e.status?a.setState({discount_selection:e.discounts,discount_loaded:!0}):alert(e.error)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTaxesData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(JSON.stringify(t)).then((function(e){e.status&&a.setState({tax_selection:e.taxes,tax_loaded:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addEntryDiscount",value:function(e){var t;for(t in this.state.discount_selection)if(this.state.discount_selection[t].id===e){var a=this.state.update.invoice_items[this.state.current].applied_discount,n=this.state.discount_selection[t];a.push(n);var r=this.state.update.invoice_items[this.state.current].discount;r.push(e),this.setState(Object(K.a)({},this.state,{update:Object(K.a)({},this.state.update,{invoice_items:Object(K.a)({},this.state.update.invoice_items,Object(I.a)({},this.state.current,Object(K.a)({},this.state.update.invoice_items[this.state.current],{discount:r,applied_discount:a})))})}))}}},{key:"addEntryTax",value:function(e){var t;for(t in this.state.tax_selection)if(this.state.tax_selection[t].id===e){var a=this.state.update.invoice_items[this.state.current].applied_tax,n=this.state.tax_selection[t];a.push(n);var r=this.state.update.invoice_items[this.state.current].taxes;r.push(e),this.setState(Object(K.a)({},this.state,{update:Object(K.a)({},this.state.update,{invoice_items:Object(K.a)({},this.state.update.invoice_items,Object(I.a)({},this.state.current,Object(K.a)({},this.state.update.invoice_items[this.state.current],{tax:r,applied_tax:a})))})}))}}},{key:"render",value:function(){var e,t=this,a=this.state.item_selection,n=r.a.createElement(He.a,{trigger:r.a.createElement("button",null,"Select Item"),closeOnDocumentClick:!0},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Item Name",id:"item_search_box",name:"item_serach_box",onChange:this.searchItem}),r.a.createElement("div",{className:Fe.a.dropdown_content,id:"item_dropdown"},a.map((function(e){return r.a.createElement("a",{key:e.id,onClick:function(){t.selectItem(e.id,e.name)}},e.name," ",e.sales_price)}))))),s=this.state.place_selection,i=r.a.createElement("select",{name:"sold_from",id:"sold_from",onChange:this.onChangePlace,value:this.state.update.invoice_items[this.state.current].sold_from},r.a.createElement("option",{key:"Fake Key",value:"Fake Value"},"Select Place"),s.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.str_placed_on)}))),c=this.state.stock_selection,o=this.state.update.invoice_items[this.state.current].purchase_item?this.state.update.invoice_items[this.state.current].purchase_item:"",u=r.a.createElement("select",{name:"purchase_item",id:"purchase_item",onChange:this.onChangePI,value:o},r.a.createElement("option",{key:"Fake Key",value:"Fake Value"},"Select Stock"),c.map((function(e){return r.a.createElement("option",{key:e.id,value:parseInt(e.id)},e.str)}))),l=r.a.createElement("div",null,r.a.createElement("h3",null," Click To Apply New Discount"),r.a.createElement(de,{data:this.state.discount_selection,header:this.add_discount_columns,page:!1,popUp:this.addEntryDiscount}),r.a.createElement("button",{onClick:function(){t.update_table(-5,!0)}},"Previous"),r.a.createElement("span",null,"      ",this.state.discount_page,"       "),r.a.createElement("button",{onClick:function(){t.update_table(5,!0)}},"Next")),p=r.a.createElement("div",null,r.a.createElement("h3",null,"Click To Apply New Tax "),r.a.createElement(de,{data:this.state.tax_selection,header:this.add_tax_columns,page:!1,popUp:this.addEntryTax}),r.a.createElement("button",{onClick:function(){t.update_table(-5,!1)}},"Previous"),r.a.createElement("span",null,"      ",this.state.tax_page,"       "),r.a.createElement("button",{onClick:function(){t.update_table(5,!1)}},"Next")),d=this.state.update.invoice_items[this.state.current].applied_discount;for(e in d)d[e]=Object(K.a)({},d[e],{removeButton:r.a.createElement("button",{onClick:function(){t.removeEntry(e,!0)}}," Remove ")});var h=this.state.update.invoice_items[this.state.current].applied_tax;for(e in h)h[e]=Object(K.a)({},h[e],{removeButton:r.a.createElement("button",{onClick:function(){t.removeEntry(e,!1)}}," Remove ")});r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){t.refreshTable()}},"Back"),r.a.createElement("br",null),r.a.createElement("br",null),"Item : ",this.state.update.invoice_items[this.state.current].item_name,"  ",n,r.a.createElement("br",null),"Sold From: Place : ",this.state.update.invoice_items[this.state.current].item?i:"Select An Item First"," ",r.a.createElement("br",null),"Stock :   ",this.state.update.invoice_items[this.state.current].item?u:"Select An Item First"," ",r.a.createElement("br",null),r.a.createElement("br",null),"Quantity : ",r.a.createElement("input",{name:"quantity",placeholder:this.state.update.invoice_items[this.state.current].quantity,type:"number",onChange:this.onChangePI,required:!0,min:"1"}),r.a.createElement("br",null),"Price : ",r.a.createElement("input",{name:"price",placeholder:this.state.update.invoice_items[this.state.current].price,type:"number",onChange:this.onChangePI,required:!0}),r.a.createElement("br",null),"Tax Total : ",this.state.update.invoice_items[this.state.current].tax_total," ",r.a.createElement("br",null),"Sub Total : ",this.state.update.invoice_items[this.state.current].sub_total," ",r.a.createElement("br",null),"Discount Amount : ",this.state.update.invoice_items[this.state.current].discount_amount,r.a.createElement("br",null),"Total without discount : ",this.state.update.invoice_items[this.state.current].total_without_discount,r.a.createElement("br",null),"Total : ",this.state.update.invoice_items[this.state.current].total,r.a.createElement("br",null),r.a.createElement("br",null),"Applied Discounts : :",r.a.createElement(de,{data:d,header:this.discount_columns,page:!1,popUp:this.popUp,removeEntry:this.removeEntry}),r.a.createElement("button",{onClick:function(){t.update_table(0,!0)}},"Apply New Discount")," ",r.a.createElement("br",null),r.a.createElement("br",null),this.state.discount_loaded?l:r.a.createElement("span",null),r.a.createElement("br",null),"Applied Taxes : :",r.a.createElement(de,{data:h,header:this.tax_columns,page:!1,popUp:this.popUp,removeEntry:this.removeEntry}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){t.update_table(0,!1)}},"Apply New Tax"),r.a.createElement("br",null),r.a.createElement("br",null),this.state.tax_loaded?p:r.a.createElement("span",null),r.a.createElement("br",null),this.state.new?r.a.createElement("button",{onClick:function(){t.postInvoiceItem(!0)}},"Add"):r.a.createElement("button",{onClick:function(){t.postInvoiceItem()}},"Update"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){t.deleteInvoiceItem()}},"Delete"));var m=this.state.customer_selection,b=r.a.createElement(He.a,{trigger:r.a.createElement("button",null,"Select Customer"),closeOnDocumentClick:!0},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Customer's first name",id:"customer_serach_box",name:"customer_serach_box",onChange:this.searchCustomer}),r.a.createElement("div",{className:Fe.a.dropdown_content,id:"customer_dropdown"},m.map((function(e){return r.a.createElement("a",{href:"#",key:e.id,onClick:function(){t.selectCustomer(e.id,e.name)}},e.name)}))))),v=this.state.status;return r.a.createElement("div",null,r.a.createElement("h1",null,"Invoice"),r.a.createElement("h3",null,this.state.update.invoice.customer_name," "),"Added By : ",this.state.update.invoice.added_by_name,r.a.createElement("br",null),"Customer : ",this.state.update.invoice.customer_name," ",b,r.a.createElement("br",null),"Order Number : ",this.state.update.invoice.order_number,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"Invoiced On :",r.a.createElement(Ve.a,{name:"invoiced_on",selected:this.state.update.invoice.invoiced_on,onChange:this.invoiceHandler}),"Due On :",r.a.createElement(Ve.a,{name:"completed_on",selected:this.state.update.invoice.due_on,onChange:this.dueOnHandler}),r.a.createElement("br",null),r.a.createElement("br",null),"Total Amount : ",this.state.update.invoice.total_amount,r.a.createElement("br",null),"Total Tax : ",this.state.update.invoice.tax_total,r.a.createElement("br",null),"Total Discount: ",this.state.update.invoice.discount_total,r.a.createElement("br",null),"Paid Amount : ",this.state.update.invoice.paid_amount,r.a.createElement("br",null),r.a.createElement("br",null),"Additional Discount : ",r.a.createElement("input",{placeholder:this.state.update.invoice.additional_discount,name:"additional_discount",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement("br",null),"Status : ",r.a.createElement("select",{name:"status",id:"status",onChange:this.onChange,value:this.state.update.invoice.status},v.map((function(e){return r.a.createElement("option",{key:e.id,value:parseInt(e.id)},e.name)})))," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){t.updateInvoice()}},"Add Invoice"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("button",{onClick:function(){t.stateman()}},"State"))}}]),t}(n.Component),Dt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).columns=[{id:1,name:"Name",prop:"name"},{id:2,name:"Code",prop:"code"},{id:3,name:"Discount Type",prop:"discount_type"},{id:4,name:"Rate",prop:"rate"}],a.popUp=a.popUp.bind(Object(D.a)(a)),a.state={popUp:!1,discount:{},update:{}},a.onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.discountDelete=a.discountDelete.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,Object(I.a)({},e.target.name,[e.target.value]))})}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t.preventDefault(),a=this.state.discount,this.state.update)a[n]=this.state.update[n][0];a=Object(K.a)({},a,{action:"edit",discount_id:a.id}),console.log(a),Ge(JSON.stringify(a)).then((function(e){try{e.status?(alert("Discount Data updated."),r.props.update(0)):alert(e.error)}catch(t){console.log(t)}}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"discountDelete",value:function(e){var t=this,a={discounts_id:[e]};Ke(JSON.stringify(a)).then((function(e){try{e.status?(alert("Discount data deleted."),t.props.update(0)):alert(e.error)}catch(a){console.log(a)}}))}},{key:"popUp",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:0,a={action:"get",discount_id:t},e.next=4,Qe(JSON.stringify(a)).then((function(e){e.status&&(n=e)}));case 4:return e.next=6,this.setState({popUp:!0,discount:n.discounts[0]});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement(de,{data:this.props.data,header:this.columns,popUp:this.popUp,update:this.props.update,page:this.props.page}),a=r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.setState({popUp:!1})}},"Back"),r.a.createElement("br",null),r.a.createElement("h1",null,this.state.discount.name),r.a.createElement("form",{onSubmit:this.onSubmit},"Name: ",r.a.createElement(U.a,{id:"name",name:"name",type:"text",onChange:this.onChange,placeholder:this.state.discount.name}),"Code : ",r.a.createElement(U.a,{id:"code",name:"code",type:"text",onChange:this.onChange,placeholder:this.state.discount.code}),"Discount Type :",r.a.createElement("select",{name:"discount_type",id:"discount_type",defaultValue:this.state.discount.discount_type,onChange:this.onChange},r.a.createElement("option",{value:"percent"},"Percentage"),r.a.createElement("option",{value:"fixed"},"Fixed"))," ",r.a.createElement("br",null),"Rate : ",r.a.createElement("input",{placeholder:this.state.discount.rate,name:"rate",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary"},"Update")," ",r.a.createElement(P.a,{variant:"contained",color:"secondary",onClick:function(){e.discountDelete(e.state.discount.id)}},"Delete Discount")),r.a.createElement("br",null));return r.a.createElement("div",null,this.state.popUp?a:t)}}]),t}(n.Component),Nt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={taxes:[],loaded:!1,start:0,end:10,page:1},a.update_table=a.update_table.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.user.isLoggedIn&&this.props.history.push("/")}},{key:"update_table",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t<0?-1:1,0!==t){e.next=6;break}return e.next=4,this.setState({loaded:!1,start:0,end:10,page:1});case 4:e.next=13;break;case 6:if(!(this.state.start+t>-1)){e.next=11;break}return e.next=9,this.setState({loaded:!1,start:this.state.start+t,end:this.state.end+t,page:this.state.page+a});case 9:e.next=13;break;case 11:return alert("Cannot move futher from here."),e.abrupt("return");case 13:n={action:"get",filter:"none",start:this.state.start,end:this.state.end},this.getDiscountsData(n);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDiscountsData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(JSON.stringify(t)).then((function(e){e.status&&a.setState({discounts:e.discounts,loaded:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(Dt,{data:this.state.discounts,update:this.update_table,page:this.state.page}));return r.a.createElement("div",null,r.a.createElement(te.b,{to:"/discounts/create"},"Add New Discount"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.update_table(0)}},"Refresh table"),r.a.createElement("br",null),this.state.loaded?t:"Loading...")}}]),t}(n.Component),Pt=Object(b.b)((function(e){return{user:e.user}}))(Nt),Tt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.state={update:{name:"",code:"",discount_type:"percent",rate:""}},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.user.isLoggedIn&&this.props.history.push("/")}},{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,Object(I.a)({},e.target.name,e.target.value))})}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t.preventDefault(),a=Object(K.a)({},this.state.update),this.state.update)a[n]=this.state.update[n];a=Object(K.a)({},a,{action:"add"}),console.log(a),We(JSON.stringify(a)).then((function(e){try{e.status?alert("New DIscount type Added"):alert(e.error)}catch(t){console.log(t)}}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},"Name: ",r.a.createElement(U.a,{id:"name",name:"name",type:"text",onChange:this.onChange}),"Code : ",r.a.createElement(U.a,{id:"code",name:"code",type:"text",onChange:this.onChange}),"Discount Type :",r.a.createElement("select",{name:"discount_type",id:"discount_type",value:this.state.update.discont_type,onChange:this.onChange},r.a.createElement("option",{value:"percent"},"Percentage"),r.a.createElement("option",{value:"fixed"},"Fixed"))," ",r.a.createElement("br",null),"Rate : ",r.a.createElement("input",{name:"rate",id:"rate",type:"number",onChange:this.onChange,value:this.state.update.rate}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary"},"Create")),r.a.createElement("br",null))}}]),t}(n.Component),Ut=Object(b.b)((function(e){return{user:e.user}}))(Tt),Jt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).columns=[{id:1,name:"Name",prop:"name"},{id:2,name:"Code",prop:"code"},{id:3,name:"Tax Type",prop:"tax_type"},{id:4,name:"Rate",prop:"rate"}],a.popUp=a.popUp.bind(Object(D.a)(a)),a.state={popUp:!1,tax:{},update:{}},a.onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.taxDelete=a.taxDelete.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,Object(I.a)({},e.target.name,[e.target.value]))})}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t.preventDefault(),a=this.state.tax,this.state.update)a[n]=this.state.update[n][0];a=Object(K.a)({},a,{action:"edit",tax_id:a.id}),console.log(a),Ze(JSON.stringify(a)).then((function(e){try{e.status?(alert("Tax Data updated."),r.props.update(0)):alert(e.error)}catch(t){console.log(t)}}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"taxDelete",value:function(e){var t=this,a={taxes_id:[e]};$e(JSON.stringify(a)).then((function(e){try{e.status?(alert("Tax data deleted."),t.props.update(0)):alert(e.error)}catch(a){console.log(a)}}))}},{key:"popUp",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:0,a={action:"get",tax_id:t},e.next=4,Xe(JSON.stringify(a)).then((function(e){e.status&&(n=e)}));case 4:return e.next=6,this.setState({popUp:!0,tax:n.taxes[0]});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement(de,{data:this.props.data,header:this.columns,popUp:this.popUp,update:this.props.update,page:this.props.page}),a=r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.setState({popUp:!1})}},"Back"),r.a.createElement("br",null),r.a.createElement("h1",null,this.state.tax.name),r.a.createElement("form",{onSubmit:this.onSubmit},"Name: ",r.a.createElement(U.a,{id:"name",name:"name",type:"text",onChange:this.onChange,placeholder:this.state.tax.name}),"Code : ",r.a.createElement(U.a,{id:"code",name:"code",type:"text",onChange:this.onChange,placeholder:this.state.tax.code}),"Tax Type :",r.a.createElement("select",{name:"tax_type",id:"tax_type",defaultValue:this.state.tax.tax_type,onChange:this.onChange},r.a.createElement("option",{value:"normal"},"Normal"),r.a.createElement("option",{value:"fixed"},"Fixed"))," ",r.a.createElement("br",null),"Rate : ",r.a.createElement("input",{placeholder:this.state.tax.rate,name:"rate",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary"},"Update")," ",r.a.createElement(P.a,{variant:"contained",color:"secondary",onClick:function(){e.taxDelete(e.state.tax.id)}},"Delete Tax")),r.a.createElement("br",null));return r.a.createElement("div",null,this.state.popUp?a:t)}}]),t}(n.Component),At=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={taxes:[],loaded:!1,start:0,end:10,page:1},a.update_table=a.update_table.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.user.isLoggedIn&&this.props.history.push("/")}},{key:"update_table",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t<0?-1:1,0!==t){e.next=6;break}return e.next=4,this.setState({loaded:!1,start:0,end:10,page:1});case 4:e.next=13;break;case 6:if(!(this.state.start+t>-1)){e.next=11;break}return e.next=9,this.setState({loaded:!1,start:this.state.start+t,end:this.state.end+t,page:this.state.page+a});case 9:e.next=13;break;case 11:return alert("Cannot move futher from here."),e.abrupt("return");case 13:n={action:"get",filter:"none",start:this.state.start,end:this.state.end},this.getTaxesData(n);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTaxesData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(JSON.stringify(t)).then((function(e){console.log(e),e.status&&a.setState({taxes:e.taxes,loaded:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(Jt,{data:this.state.taxes,update:this.update_table,page:this.state.page}));return r.a.createElement("div",null,r.a.createElement(te.b,{to:"/taxes/create"},"Add New Tax"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.update_table(0)}},"Refresh table"),r.a.createElement("br",null),this.state.loaded?t:"Loading...")}}]),t}(n.Component),Vt=Object(b.b)((function(e){return{user:e.user}}))(At),Ht=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.state={update:{name:"",code:"",tax_type:"normal",rate:""}},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.user.isLoggedIn&&this.props.history.push("/")}},{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,Object(I.a)({},e.target.name,e.target.value))})}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t.preventDefault(),a=Object(K.a)({},this.state.update),this.state.update)a[n]=this.state.update[n];a=Object(K.a)({},a,{action:"add"}),console.log(a),ze(JSON.stringify(a)).then((function(e){try{e.status?alert("New Tax type Added"):alert(e.error)}catch(t){console.log(t)}}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},"Name: ",r.a.createElement(U.a,{id:"name",name:"name",type:"text",onChange:this.onChange}),"Code : ",r.a.createElement(U.a,{id:"code",name:"code",type:"text",onChange:this.onChange}),"Tax Type :",r.a.createElement("select",{name:"tax_type",id:"tax_type",value:this.state.update.discont_type,onChange:this.onChange},r.a.createElement("option",{value:"normal"},"Normal"),r.a.createElement("option",{value:"fixed"},"Fixed"))," ",r.a.createElement("br",null),"Rate : ",r.a.createElement("input",{name:"rate",id:"rate",type:"number",onChange:this.onChange,value:this.state.update.rate}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary"},"Create")),r.a.createElement("br",null))}}]),t}(n.Component),Lt=Object(b.b)((function(e){return{user:e.user}}))(Ht),Ft=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/items/catagories","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),qt=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/items/catagories/delete","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/items/catagories","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/items/catagory","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("apiv1/inventory/items/catagory","POST",t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Kt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).columns=[{id:1,name:"Name",prop:"name"},{id:2,name:"Catagory",prop:"catagory_str"},{id:3,name:"Price",prop:"sales_price"},,{id:4,name:"Stock",prop:"stock"},{id:5,name:"Sold",prop:"sold"}],a.popUp=a.popUp.bind(Object(D.a)(a)),a.state={catagories:[],popUp:!1,item:{catagory:""},update:{}},a.onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.itemDelete=a.itemDelete.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,Object(I.a)({},e.target.name,e.target.value))})}},{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=this.state.update,a=Object(K.a)({},a,{action:"edit",item_id:a.id}),st(JSON.stringify(a)).then((function(e){try{e.status?(alert("Item Data updated."),n.props.update(0)):alert(e.error)}catch(t){console.log(t)}}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"itemDelete",value:function(e){var t=this,a={items_id:[e]};at(JSON.stringify(a)).then((function(e){try{e.status?(alert("Item data deleted."),t.props.update(0)):alert(e.error)}catch(a){console.log(a)}}))}},{key:"popUp",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=this,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:0,a={action:"get",item_id:t},e.next=4,rt(JSON.stringify(a)).then((function(e){e.status&&(n=e)}));case 4:return e.next=6,this.setState({popUp:!0,update:n.items[0]});case 6:return a={action:"get",start:0,end:50},e.next=9,Ft(JSON.stringify(a)).then((function(e){try{e.status?r.setState(Object(K.a)({},r.state,{catagories:e.item_catagories})):alert(e.error)}catch(t){console.log(t)}}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.catagories,a=r.a.createElement(de,{data:this.props.data,header:this.columns,popUp:this.popUp,update:this.props.update,page:this.props.page}),n=r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.setState({popUp:!1})}},"Back"),r.a.createElement("br",null),r.a.createElement("h1",null,this.state.item.name),r.a.createElement("form",{onSubmit:this.onSubmit},"Name: ",r.a.createElement(U.a,{id:"name",name:"name",type:"text",onChange:this.onChange,placeholder:this.state.update.name}),"Catagory : ",r.a.createElement("select",{name:"catagory",id:"catagory",onChange:this.onChange,value:this.state.update.catagory,required:!0},t.map((function(e){return r.a.createElement("option",{key:e.id,value:parseInt(e.id)},e.name)})))," ",r.a.createElement("br",null),r.a.createElement("br",null),"Sales Price : ",r.a.createElement("input",{placeholder:this.state.update.sales_price,onChange:this.onChange}),r.a.createElement("br",null),"Stock : ",this.state.update.stock," ",r.a.createElement("br",null),"Sold : ",this.state.update.sold," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary"},"Update")," ",r.a.createElement(P.a,{variant:"contained",color:"secondary",onClick:function(){e.itemDelete(e.state.update.id)}},"Delete Item")),r.a.createElement("br",null));return r.a.createElement("div",null,this.state.popUp?n:a)}}]),t}(n.Component),Wt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={items:[],loaded:!1,start:0,end:10,page:1},a.update_table=a.update_table.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.user.isLoggedIn&&this.props.history.push("/")}},{key:"update_table",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t<0?-1:1,0!==t){e.next=6;break}return e.next=4,this.setState({loaded:!1,start:0,end:10,page:1});case 4:e.next=13;break;case 6:if(!(this.state.start+t>-1)){e.next=11;break}return e.next=9,this.setState({loaded:!1,start:this.state.start+t,end:this.state.end+t,page:this.state.page+a});case 9:e.next=13;break;case 11:return alert("Cannot move futher from here."),e.abrupt("return");case 13:n={action:"get",filter:"none",start:this.state.start,end:this.state.end},this.getItemsData(n);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getItemsData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(JSON.stringify(t)).then((function(e){e.status&&a.setState({items:e.items,loaded:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(Kt,{data:this.state.items,update:this.update_table,page:this.state.page}));return r.a.createElement("div",null,r.a.createElement(te.b,{to:"/items/create"},"Add New Item"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.update_table(0)}},"Refresh table"),r.a.createElement("br",null),this.state.loaded?t:"Loading...")}}]),t}(n.Component),Qt=Object(b.b)((function(e){return{user:e.user}}))(Wt),Gt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.state={catagories:[],update:{}},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1===this.props.user.isLoggedIn&&this.props.history.push("/"),t={action:"get",start:0,end:50},e.next=4,Ft(JSON.stringify(t)).then((function(e){try{e.status?a.setState(Object(K.a)({},a.state,{catagories:e.item_catagories})):alert(e.error)}catch(t){console.log(t)}}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,Object(I.a)({},e.target.name,e.target.value))})}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t.preventDefault(),a=Object(K.a)({},this.state.update),this.state.update)a[n]=this.state.update[n];a=Object(K.a)({},a,{action:"add"}),console.log(a),nt(JSON.stringify(a)).then((function(e){try{e.status?alert("New Item Added"):alert(e.error)}catch(t){console.log(t)}}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.catagories;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},"Name: ",r.a.createElement(U.a,{id:"name",name:"name",type:"text",onChange:this.onChange}),"Catagory : ",r.a.createElement("select",{name:"catagory",id:"catagory",onChange:this.onChange,required:!0},e.map((function(e){return r.a.createElement("option",{key:e.id,value:parseInt(e.id)},e.name)})))," ",r.a.createElement("br",null),r.a.createElement("br",null),"Sales Price : ",r.a.createElement("input",{name:"sales_price",type:"float",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary"},"Create")),r.a.createElement("br",null))}}]),t}(n.Component),Yt=Object(b.b)((function(e){return{user:e.user}}))(Gt),$t=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).columns=[{id:1,name:"Name",prop:"name"}],a.popUp=a.popUp.bind(Object(D.a)(a)),a.state={popUp:!1,itemCatagory:{},update:{}},a.onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.itemCatDelete=a.itemCatDelete.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.setState({itemCatagory:Object(K.a)({},this.state.itemCatagory,Object(I.a)({},e.target.name,e.target.value))})}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=this.state.itemCatagory,a=Object(K.a)({},a,{action:"edit",item_catagory_id:a.id}),console.log(a),Mt(JSON.stringify(a)).then((function(e){try{e.status?(alert("ItemCatagory Data updated."),n.props.update(0)):alert(e.error)}catch(t){console.log(t)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"itemCatDelete",value:function(e){var t=this,a={item_catagories_id:[e]};qt(JSON.stringify(a)).then((function(e){try{e.status?(alert("itemCatagory data deleted."),t.props.update(0)):alert(e.error)}catch(a){console.log(a)}}))}},{key:"popUp",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:0,a={action:"get",item_catagory_id:t},e.next=4,Rt(JSON.stringify(a)).then((function(e){console.log(e),e.status&&(n=e)}));case 4:return e.next=6,this.setState({popUp:!0,itemCatagory:n.item_catagories[0]});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement(de,{data:this.props.data,header:this.columns,popUp:this.popUp,update:this.props.update,page:this.props.page}),a=r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.setState({popUp:!1})}},"Back"),r.a.createElement("br",null),r.a.createElement("h1",null,this.state.update.name),r.a.createElement("form",{onSubmit:this.onSubmit},"Name: ",r.a.createElement(U.a,{id:"name",name:"name",type:"text",onChange:this.onChange,placeholder:this.state.itemCatagory.name}),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary"},"Update")," ",r.a.createElement(P.a,{variant:"contained",color:"secondary",onClick:function(){e.itemCatDelete(e.state.itemCatagory.id)}},"Delete Discount")),r.a.createElement("br",null));return r.a.createElement("div",null,this.state.popUp?a:t)}}]),t}(n.Component),zt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={items:[],loaded:!1,start:0,end:10,page:1},a.update_table=a.update_table.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.user.isLoggedIn&&this.props.history.push("/")}},{key:"update_table",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t<0?-1:1,0!==t){e.next=6;break}return e.next=4,this.setState({loaded:!1,start:0,end:10,page:1});case 4:e.next=13;break;case 6:if(!(this.state.start+t>-1)){e.next=11;break}return e.next=9,this.setState({loaded:!1,start:this.state.start+t,end:this.state.end+t,page:this.state.page+a});case 9:e.next=13;break;case 11:return alert("Cannot move futher from here."),e.abrupt("return");case 13:n={action:"get",filter:"none",start:this.state.start,end:this.state.end},this.getItemCatagoriesData(n);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getItemCatagoriesData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(JSON.stringify(t)).then((function(e){e.status&&a.setState({item_catagories:e.item_catagories,loaded:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement($t,{data:this.state.item_catagories,update:this.update_table,page:this.state.page}));return r.a.createElement("div",null,r.a.createElement(te.b,{to:"/itemcatagories/create"},"Add New Item Catagroy"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.update_table(0)}},"Refresh table"),r.a.createElement("br",null),this.state.loaded?t:"Loading...")}}]),t}(n.Component),Xt=Object(b.b)((function(e){return{user:e.user}}))(zt),Zt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.state={itemCatagory:{}},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.user.isLoggedIn&&this.props.history.push("/")}},{key:"onChange",value:function(e){this.setState({itemCatagory:Object(K.a)({},this.state.itemCatagory,Object(I.a)({},e.target.name,e.target.value))})}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=Object(K.a)({},this.state.itemCatagory),a=Object(K.a)({},a,{action:"add"}),Bt(JSON.stringify(a)).then((function(e){try{e.status?alert("New Item Catagory Added"):alert(e.error)}catch(t){console.log(t)}}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},"Name: ",r.a.createElement(U.a,{id:"name",name:"name",type:"text",onChange:this.onChange,placeholder:this.state.itemCatagory.name}),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary"},"Add")),r.a.createElement("br",null))}}]),t}(n.Component),ea=Object(b.b)((function(e){return{user:e.user}}))(Zt),ta=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).columns=[{id:1,name:"Name",prop:"name"},{id:2,name:"Number of Items Assigned To The Place (different Purchase orders)",prop:"count_assignment"}],a.second_columns=[{id:1,name:"Item Name",prop:"item_name"},{id:2,name:"Stock",prop:"stock"},{id:3,name:"Purchase Order",prop:"purchase_order_uuid"}],a.popUp=a.popUp.bind(Object(D.a)(a)),a.state={popUp:!1,place:{},update:{}},a.onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.placeDelete=a.placeDelete.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,Object(I.a)({},e.target.name,[e.target.value]))})}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t.preventDefault(),a=this.state.place,this.state.update)a[n]=this.state.update[n][0];a=Object(K.a)({},a,{action:"edit",place_id:a.id}),console.log(a),xt(JSON.stringify(a)).then((function(e){try{e.status?(alert("Place Data updated."),r.props.update(0)):alert(e.error)}catch(t){console.log(t)}}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"placeDelete",value:function(e){var t=this,a={places_id:[e]};yt(JSON.stringify(a)).then((function(e){try{e.status?(alert("Place data deleted."),t.props.update(0)):alert(e.error)}catch(a){console.log(a)}}))}},{key:"popUp",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:0,a={action:"get",place_id:t},e.next=4,jt(JSON.stringify(a)).then((function(e){e.status&&(n=e)}));case 4:return e.next=6,this.setState({popUp:!0,place:n.places[0]});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement(de,{data:this.props.data,header:this.columns,popUp:this.popUp,update:this.props.update,page:this.props.page}),a=r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.setState({popUp:!1})}},"Back"),r.a.createElement("br",null),r.a.createElement("h1",null,this.state.place.name),r.a.createElement("form",{onSubmit:this.onSubmit},"Name: ",r.a.createElement(U.a,{id:"name",name:"name",type:"text",onChange:this.onChange,placeholder:this.state.place.name}),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary"},"Update")," ",r.a.createElement(P.a,{variant:"contained",color:"secondary",onClick:function(){e.placeDelete(e.state.place.id)}},"Delete Discount")),r.a.createElement("br",null));return r.a.createElement("div",null,this.state.popUp?a:t)}}]),t}(n.Component),aa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={places:[],loaded:!1,start:0,end:10,page:1},a.update_table=a.update_table.bind(Object(D.a)(a)),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.user.isLoggedIn&&this.props.history.push("/")}},{key:"update_table",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t<0?-1:1,0!==t){e.next=6;break}return e.next=4,this.setState({loaded:!1,start:0,end:10,page:1});case 4:e.next=13;break;case 6:if(!(this.state.start+t>-1)){e.next=11;break}return e.next=9,this.setState({loaded:!1,start:this.state.start+t,end:this.state.end+t,page:this.state.page+a});case 9:e.next=13;break;case 11:return alert("Cannot move futher from here."),e.abrupt("return");case 13:n={action:"get",filter:"none",start:this.state.start,end:this.state.end},this.getPlacesData(n);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPlacesData",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(JSON.stringify(t)).then((function(e){console.log(e),e.status&&a.setState({places:e.places,loaded:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(ta,{data:this.state.places,update:this.update_table,page:this.state.page}));return r.a.createElement("div",null,r.a.createElement(te.b,{to:"/places/create"},"Add New Place"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.update_table(0)}},"Refresh table"),r.a.createElement("br",null),this.state.loaded?t:"Loading...")}}]),t}(n.Component),na=Object(b.b)((function(e){return{user:e.user}}))(aa),ra=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onChange=a.onChange.bind(Object(D.a)(a)),a.onSubmit=a.onSubmit.bind(Object(D.a)(a)),a.state={update:{}},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===this.props.user.isLoggedIn&&this.props.history.push("/");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e){this.setState({update:Object(K.a)({},this.state.update,Object(I.a)({},e.target.name,e.target.value))})}},{key:"onSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=Object(K.a)({},this.state.update),a=Object(K.a)({},a,{action:"add"}),console.log(a),Et(JSON.stringify(a)).then((function(e){try{e.status?alert("New Place Added"):alert(e.error)}catch(t){console.log(t)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},"Name: ",r.a.createElement(U.a,{id:"name",name:"name",type:"text",onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(P.a,{type:"submit",variant:"contained",color:"primary"},"Create")),r.a.createElement("br",null))}}]),t}(n.Component),sa=Object(b.b)((function(e){return{user:e.user}}))(ra),ia=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={loading:!0},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S().then((function(e){e?(e.status&&t.props.dispatch(w(e.user_data)),t.state.loading=!1):De()("Cannot connet to the server, make sure you have a stable internet connection.")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t;return e=this.props.user.isLoggedIn?r.a.createElement("div",null,r.a.createElement(te.b,{to:"/logout"},"Logout"),r.a.createElement("br",null),r.a.createElement(te.b,{to:"/users"},"Users"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(te.b,{to:"/vendors"},"Vendors"),r.a.createElement("br",null),r.a.createElement(te.b,{to:"/customers"},"Customers"),r.a.createElement("br",null),r.a.createElement(te.b,{to:"/taxes"},"Taxes"),r.a.createElement("br",null),r.a.createElement(te.b,{to:"/discounts"},"Discounts"),r.a.createElement("br",null),r.a.createElement(te.b,{to:"/items"},"Item Management"),r.a.createElement("br",null),r.a.createElement(te.b,{to:"/itemcatagories"},"Item Catagory"),r.a.createElement("br",null),r.a.createElement(te.b,{to:"/places"},"Places"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(te.b,{to:"/purchaseorders"},"Purchase Orders"),r.a.createElement("br",null),r.a.createElement(te.b,{to:"/invoices"},"Invoices"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("hr",null)):r.a.createElement("div",null,r.a.createElement(te.b,{to:"/login"},"Login")),t=r.a.createElement("div",null,r.a.createElement(te.a,null,r.a.createElement(te.b,{to:"/"},"Home"),r.a.createElement("br",null),e,r.a.createElement(ae.c,null,r.a.createElement(ae.a,{path:"/login",component:B}),r.a.createElement(ae.a,{path:"/logout",component:M}),r.a.createElement(ae.a,{path:"/users/create",component:ee}),r.a.createElement(ae.a,{path:"/users",component:be}),r.a.createElement(ae.a,{path:"/vendors/create",component:X}),r.a.createElement(ae.a,{path:"/vendors",component:_e}),r.a.createElement(ae.a,{path:"/customers/create",component:we}),r.a.createElement(ae.a,{path:"/customers",component:Ce}),r.a.createElement(ae.a,{path:"/purchaseorders/create",component:lt}),r.a.createElement(ae.a,{path:"/purchaseorders",component:ut}),r.a.createElement(ae.a,{path:"/invoices/create",component:It}),r.a.createElement(ae.a,{path:"/invoices",component:wt}),r.a.createElement(ae.a,{path:"/discounts/create",component:Ut}),r.a.createElement(ae.a,{path:"/discounts",component:Pt}),r.a.createElement(ae.a,{path:"/taxes/create",component:Lt}),r.a.createElement(ae.a,{path:"/taxes",component:Vt}),r.a.createElement(ae.a,{path:"/items/create",component:Yt}),r.a.createElement(ae.a,{path:"/items",component:Qt}),r.a.createElement(ae.a,{path:"/itemcatagories/create",component:ea}),r.a.createElement(ae.a,{path:"/itemcatagories",component:Xt}),r.a.createElement(ae.a,{path:"/places/create",component:sa}),r.a.createElement(ae.a,{path:"/places",component:na})))),r.a.createElement("div",null,t)}}]),t}(n.Component),ca=Object(b.b)((function(e){return{user:e.user}}))(ia);var oa=function(){return r.a.createElement("div",null,r.a.createElement(ca,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ua=a(57),la={isLoggedIn:!1,data:{}},pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"logout":return e.data={},e.isLoggedIn=!1,{isLoggedIn:e.isLoggedIn};case"loggedIn":return e.data=t.payload,e.isLoggedIn=!0,{data:e.data,isLoggedIn:e.isLoggedIn};default:return e}},da={data:{}},ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setUsers":return e.users=t.payload,{users:e.users};default:return e}},ma=Object(ua.c)({user:pa,users:ha}),ba=a(113),va=Object(ua.d)(ma,Object(ua.a)(ba.a));i.a.render(r.a.createElement(b.a,{store:va},r.a.createElement(oa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},36:function(e,t,a){e.exports={loader:"popUp_loader__ji3PT",spin:"popUp_spin__1nLou",dropbtn:"popUp_dropbtn__1fyGN",dropdown:"popUp_dropdown__2vgTr",dropdown_content:"popUp_dropdown_content__1rTux"}}},[[128,1,2]]]);
//# sourceMappingURL=main.c0c4550b.chunk.js.map