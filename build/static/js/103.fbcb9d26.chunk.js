(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[103],{223:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t(15),l=t.n(r),c=t(28),u=t(47),o=t(0),s=t.n(o),i=t(292),p=t(260),m=t(309),f=t(302),d=t(105),v=t(2),h=t(258),b=(t(277),t(259)),E=t(25),O=t(430),g=t(431),j=t(498);function w(e,a){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){a(t.result)},t.onerror=function(e){console.log("Error: ",e)}}a.default=e=>{var a=s.a.useState(!0),t=Object(u.a)(a,2),r=t[0],o=t[1],y=s.a.useState(!1),x=Object(u.a)(y,2),C=x[0],k=x[1],P=s.a.useState([]),S=Object(u.a)(P,2),N=S[0],L=S[1],G=s.a.useState({username:"",email:"",fname:"",lname:"",password:"",role:""}),T=Object(u.a)(G,2),I=T[0],U=T[1],_=s.a.useState({address:"",phone1:"",phone2:"",post:"",profileImage:"",profileImageName:""}),F=Object(u.a)(_,2),A=F[0],R=F[1],B=s.a.useState({}),D=Object(u.a)(B,2),J=D[0],V=D[1];s.a.useEffect(()=>{var e=new AbortController;return Object(O.f)({action:"get",filter:"none",start:0,end:999999},e.signal).then(function(){var e=Object(c.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a),!a.json.status){e.next=8;break}return e.next=4,L(a.json.roles);case 4:return e.next=6,o(!1);case 6:e.next=9;break;case 8:E.a.fire({icon:"error",title:a.json.error,background:"#ffe5de"});case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(e=>{console.log(e)}),()=>e.abort()},[]);var q=e=>{var a=e.target,t=a.name,r=(a.type,a.value);U(Object(n.a)(Object(n.a)({},I),{},{[t]:r})),V(Object(n.a)(Object(n.a)({},J),{},{[t]:""}))},z=e=>{console.log("here it changes");var a=e.target,t=a.name,r=(a.type,a.value);R(Object(n.a)(Object(n.a)({},A),{},{[t]:r})),V(Object(n.a)(Object(n.a)({},J),{},{[t]:""}))},H=function(){var e=Object(c.a)(l.a.mark((function e(a){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.files[0],console.log(t),w(t,e=>{R(Object(n.a)(Object(n.a)({},A),{},{profileImage:e,profileImageName:t.name}))});case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();console.log(A);return console.log(A.address),r?s.a.createElement(b.a,null):s.a.createElement(v.a,null,s.a.createElement(i.a,null,s.a.createElement(p.a,null,s.a.createElement(m.a,null,s.a.createElement(m.a.Body,null,s.a.createElement("h5",null,"Update User"),s.a.createElement("hr",null),s.a.createElement(i.a,null,s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Username*"),s.a.createElement(f.a.Control,{name:"username",value:I.username,onChange:q,type:"text",placeholder:"Username"}),s.a.createElement(h.a,null,J.username))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Email*"),s.a.createElement(f.a.Control,{name:"email",value:I.email,onChange:q,type:"text",placeholder:"Email"}),s.a.createElement(h.a,null,J.email))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"First Name*"),s.a.createElement(f.a.Control,{name:"fname",value:I.fname,onChange:q,type:"text",placeholder:"First Name"}),s.a.createElement(h.a,null,J.fname))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Last Name*"),s.a.createElement(f.a.Control,{name:"lname",value:I.lname,onChange:q,type:"text",placeholder:"Last Name"}),s.a.createElement(h.a,null,J.lname))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Password*"),s.a.createElement(f.a.Control,{name:"password",value:I.password,onChange:q,type:"password",placeholder:"Password"}),s.a.createElement(h.a,null,J.password))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Role*"),s.a.createElement(f.a.Control,{name:"role",value:I.role,onChange:q,as:"select"},s.a.createElement("option",{value:"",disabled:!0},"Select User Role"),N.map((e,a)=>s.a.createElement("option",{key:a,value:e.id},e.name))),s.a.createElement(h.a,null,J.role)))),s.a.createElement("br",null),s.a.createElement("h5",null,"Extra Details"),s.a.createElement("hr",null),s.a.createElement(i.a,null,s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Address"),s.a.createElement(f.a.Control,{name:"address",value:A.address,onChange:z,type:"text",placeholder:"Address"}),s.a.createElement(h.a,null,J.address))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Phone Np 1"),s.a.createElement(f.a.Control,{name:"phone1",value:A.phone1,onChange:z,type:"text",placeholder:"Phone No 1"}),s.a.createElement(h.a,null,J.phone1))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Phone No 2"),s.a.createElement(f.a.Control,{name:"phone2",value:A.phone2,onChange:z,type:"text",placeholder:"Phone No 2"}),s.a.createElement(h.a,null,J.phone2))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Post"),s.a.createElement(f.a.Control,{name:"post",value:A.post,onChange:z,type:"text",placeholder:"Post"}),s.a.createElement(h.a,null,J.post))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Profile Image"),s.a.createElement(f.a.File,{label:A.profileImageName?A.profileImageName:"No file selected","data-browse":"Browse",custom:!0,onChange:H}),s.a.createElement(h.a,null,J.profileImage)))),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement(d.a,{variant:"warning",onClick:()=>{e.history.push("/items")}},"Cancel"),s.a.createElement(d.a,{disabled:C,variant:"primary",onClick:()=>{var a=Object(j.a)(I),t=a.isValid,r=a.errors;if(!t)return console.log(r),void V(Object(n.a)({},r));console.log("no errros");var u={action:"add",username:I.username,email:I.email,password:I.password,first_name:I.fname,last_name:I.lname,role_id:I.role,profile:{address:A.address,phone_number:A.phone1,phone_number2:A.phone2,post:A.post,profile_image:A.profileImage}};Object(g.a)(u).then(function(){var a=Object(c.a)(l.a.mark((function a(t){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:console.log(t),t.json.status?(E.a.fire({icon:"success",title:"User Updated successfully!",background:"#dffff0"}),e.history.push("/users")):E.a.fire({icon:"error",title:t.json.error,background:"#ffe5de"});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch(e=>{k(!1)})}},C?s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"fa fa-spinner text-c-white f-15 fa-pulse m-l-1"}),"Submitting"):"Submit")))))))}},277:function(e,a,t){"use strict";t.d(a,"c",(function(){return u})),t.d(a,"b",(function(){return o})),t.d(a,"a",(function(){return s})),t.d(a,"d",(function(){return i})),t.d(a,"e",(function(){return p}));var n=t(15),r=t.n(n),l=t(28),c=t(41),u=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/categories/get","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),o=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/categories/delete","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),s=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/category/add","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),i=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/category/get","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/category/update","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}()},431:function(e,a,t){"use strict";t.d(a,"a",(function(){return u})),t.d(a,"b",(function(){return p})),t.d(a,"e",(function(){return s})),t.d(a,"c",(function(){return o})),t.d(a,"d",(function(){return i}));var n=t(15),r=t.n(n),l=t(28),c=t(41),u=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/user/add","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),o=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/user/list","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),s=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/user/update","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),i=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/user/delete","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/user/list","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=103.fbcb9d26.chunk.js.map