(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[89],{217:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a.n(n),c=a(1),u=a(28),s=a(47),l=a(0),o=a.n(l),i=a(292),p=a(260),f=a(309),v=a(302),m=a(105),d=a(2),b=a(282),h=a.n(b),O=a(258),x=a(25),j=a(259),E=a(437),y=a(267);t.default=e=>{var t=o.a.useState(!0),a=Object(s.a)(t,2),n=a[0],l=a[1],b=o.a.useState(!1),w=Object(s.a)(b,2),g=w[0],k=w[1],S=o.a.useState({id:"",name:"",type:"",rate:"",code:"",isActive:!1}),T=Object(s.a)(S,2),P=T[0],C=T[1],N=o.a.useState({}),A=Object(s.a)(N,2),_=A[0],G=A[1];o.a.useEffect(()=>{var t=new AbortController;return Object(u.a)(r.a.mark((function a(){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(y.l)({action:"get",tax_id:e.match.params.id},t.signal).then(function(){var e=Object(u.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!t.json.status){e.next=9;break}return a=t.json.taxes[0],e.next=5,C(Object(c.a)(Object(c.a)({},P),{},{id:a.id,name:a.name,type:a.tax_type,rate:a.rate,code:a.code,isActive:a.is_active}));case 5:return e.next=7,l(!1);case 7:e.next=10;break;case 9:x.a.fire({icon:"error",title:t.json.error,background:"#ffe5de"});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(e=>{console.log(e)});case 2:case"end":return a.stop()}}),a)})))(),()=>t.abort()},[]);var L=e=>{var t;t=e.target.name,G(Object(c.a)(Object(c.a)({},_),{},{[t]:""})),C(Object(c.a)(Object(c.a)({},P),{},{[e.target.name]:e.target.value}))};return n?o.a.createElement(j.a,null):o.a.createElement(d.a,null,o.a.createElement(i.a,null,o.a.createElement(p.a,null,o.a.createElement(f.a,null,o.a.createElement(f.a.Body,null,o.a.createElement("h5",null,"Create Tax"),o.a.createElement("hr",null),o.a.createElement(i.a,null,o.a.createElement(p.a,{md:6},o.a.createElement(v.a.Group,null,o.a.createElement(v.a.Label,null,"Tax Name*"),o.a.createElement(v.a.Control,{name:"name",value:P.name,onChange:L,type:"text",placeholder:"Tax Name"}),o.a.createElement(O.a,null,_.name))),o.a.createElement(p.a,{md:6},o.a.createElement(v.a.Group,null,o.a.createElement(v.a.Label,null,"Tax Type*"),o.a.createElement(v.a.Control,{name:"type",value:P.type,onChange:L,as:"select"},o.a.createElement("option",{value:"",disabled:!0},"Select..."),o.a.createElement("option",{value:"normal"},"Normal"),o.a.createElement("option",{value:"fixed"},"Fixed")),o.a.createElement(O.a,null,_.type))),o.a.createElement(p.a,{md:3},o.a.createElement(v.a.Group,null,o.a.createElement(v.a.Label,null,"Rate*"),o.a.createElement(v.a.Control,{name:"rate",value:P.rate,onChange:L,type:"number",placeholder:"Rate"}),o.a.createElement(O.a,null,_.rate))),o.a.createElement(p.a,{md:3},o.a.createElement(v.a.Group,null,o.a.createElement(v.a.Label,null,"Code"),o.a.createElement(v.a.Control,{name:"code",value:P.code,onChange:L,type:"text",placeholder:"Code"}),o.a.createElement(O.a,null,_.code))),o.a.createElement(p.a,{md:6},o.a.createElement(v.a.Group,{className:"d-flex flex-column justify-content-end"},o.a.createElement(v.a.Label,{style:{marginBottom:"15px"}},"Is Active?"),o.a.createElement(h.a,{onChange:e=>{console.log(e),C(Object(c.a)(Object(c.a)({},P),{},{isActive:e}))},checked:P.isActive})))),o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement(m.a,{variant:"warning",onClick:()=>{e.history.push("/taxes")}},"Cancel"),o.a.createElement(m.a,{variant:"primary",onClick:()=>{var t=Object(E.a)(P),a=t.isValid,n=t.errors;if(!a)return console.log(n),void G(Object(c.a)({},n));k(!0);var r={action:"update",tax_id:P.id,tax_type:P.type,name:P.name,rate:parseFloat(P.rate),code:P.code,is_active:P.isActive};console.log(r),Object(y.p)(r).then(t=>{t.json.status?(x.a.fire({icon:"success",title:"Tax updated successfully!",background:"#dffff0"}),e.history.push("/taxes")):(k(!1),x.a.fire({icon:"error",title:t.json.error,background:"#ffe5de"}))}).catch(e=>{k(!1),console.log(e)})}},g?o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fa fa-spinner text-c-white f-15 fa-pulse m-l-1"}),"Submitting"):"Submit")))))))}},258:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(302),u=a(31);t.a=e=>Object(u.a)(e.children)?r.a.createElement("span",null):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a.Text,{style:{color:"red"}},e.children))},259:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=()=>r.a.createElement("div",{className:"loader-bg"},r.a.createElement("div",{className:"loader-track"},r.a.createElement("div",{className:"loader-fill"})))},267:function(e,t,a){"use strict";a.d(t,"j",(function(){return O})),a.d(t,"b",(function(){return x})),a.d(t,"o",(function(){return E})),a.d(t,"e",(function(){return j})),a.d(t,"k",(function(){return h})),a.d(t,"i",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"n",(function(){return p})),a.d(t,"h",(function(){return i})),a.d(t,"m",(function(){return f})),a.d(t,"c",(function(){return m})),a.d(t,"f",(function(){return v})),a.d(t,"p",(function(){return b})),a.d(t,"l",(function(){return d})),a.d(t,"g",(function(){return y}));var n=a(15),r=a.n(n),c=a(28),u=a(41),s=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/discounts/get","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/discounts/delete","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/discount/add","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/discount/get","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/discount/update","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/taxes/get","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/taxes/delete","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/tax/add","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/tax/get","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/tax/update","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/inventory/purchaseorders/status","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/inventory/placements/get","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/inventory/placements/assign","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/inventory/placements/assign","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/inventory/placements/assign","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/user/countries/get ","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()},437:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(31),r=e=>{var t={};return Object(n.a)(e.name)&&(t.name="Name of tax cannot be empty!"),Object(n.a)(e.type)&&(t.type="Provide type of tax!"),Object(n.a)(e.rate)&&(t.rate="Provide rate of tax!"),{isValid:Object(n.a)(t),errors:t}}}}]);
//# sourceMappingURL=89.7552affd.chunk.js.map