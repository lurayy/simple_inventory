(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[66],{211:function(e,a,t){"use strict";t.r(a);var r=t(15),n=t.n(r),l=t(1),c=t(28),s=t(47),u=t(0),o=t.n(u),m=t(292),i=t(260),d=t(309),f=t(294),b=t(497),p=t(259),E=t(293),v=t(25);a.default=function(e){var a=o.a.useState(!0),t=Object(s.a)(a,2),r=t[0],u=t[1],h=o.a.useState({}),j=Object(s.a)(h,2),x=j[0],O=j[1],_=o.a.useState({}),N=Object(s.a)(_,2),g=N[0],y=N[1];if(o.a.useEffect(()=>{var e=new AbortController;return Object(c.a)(n.a.mark((function a(){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(b.b)({action:"get",filter:"none",start:0,end:999999},e.signal).then(function(){var e=Object(c.a)(n.a.mark((function e(a){var t,r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.json.status){e.next=13;break}for(r in(t=a.json.revenue).meta_data.sum_current_amount*=-1,console.log(t),t.sub_headers)for(c in t.sub_headers[r].meta_data.sum_current_amount*=-1,t.sub_headers[r].accounts)t.sub_headers[r].accounts[c].current_amount*=-1;return e.next=7,O(Object(l.a)({},a.json.expense));case 7:return e.next=9,y(Object(l.a)({},t));case 9:return e.next=11,u(!1);case 11:e.next=14;break;case 13:v.a.fire({icon:"error",title:a.json.error,background:"#ffe5de"});case 14:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(e=>{console.log(e)});case 2:case"end":return a.stop()}}),a)})))(),()=>e.abort()},[]),!r)var w=(a,t)=>a.sub_headers.map((a,r)=>{var n=null;n=a.isExpanded?o.a.createElement("i",{className:"feather icon-plus-square text-c-green f-14 pl-1 pr-1",style:{color:"#10a9f5",cursor:"pointer"},onClick:e=>((e,a)=>{if(console.log(e,a,"hare tea we go"),"expenses"===a){var t=x;t.sub_headers[e].isExpanded=!1,O(Object(l.a)({},t))}if("revenues"===a){var r=g;r.sub_headers[e].isExpanded=!1,y(Object(l.a)({},r))}})(r,t)}):o.a.createElement("i",{className:"feather icon-minus-square text-c-green f-14 pl-1 pr-1",style:{color:"#10a9f5",cursor:"pointer"},onClick:e=>((e,a)=>{if("expenses"===a){var t=x;t.sub_headers[e].isExpanded=!0,O(Object(l.a)({},t))}if("revenues"===a){var r=g;r.sub_headers[e].isExpanded=!0,y(Object(l.a)({},r))}})(r,t)});var c=a.accounts.map((a,t)=>0===a.current_amount?null:o.a.createElement("tr",{onClick:()=>e.history.push("/account/"+a.uuid),key:t+"r",className:"balanceSheetChildRow"},o.a.createElement("th",null),o.a.createElement("td",{className:"balanceSheetChildData"},a.name),o.a.createElement("td",{className:"balanceSheetChildData"},o.a.createElement(E.a,null,a.current_amount))));return 0===a.meta_data.sum_current_amount?null:[o.a.createElement("tr",{key:r},o.a.createElement("th",null),o.a.createElement("td",null,a.name,a.accounts.length>0?n:null),o.a.createElement("td",null,o.a.createElement(E.a,null,a.meta_data.sum_current_amount))),...a.isExpanded?[]:c]});return r?o.a.createElement(p.a,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{className:"d-flex justify-content-between pageHead"},o.a.createElement("h4",{className:"m-b-10"},"Profit and Loss Account"),o.a.createElement("div",null,o.a.createElement("span",null))),o.a.createElement("br",null),o.a.createElement(m.a,null,o.a.createElement(i.a,null,o.a.createElement(d.a,null,o.a.createElement(d.a.Body,null,o.a.createElement(f.a,{className:"accountingReportTable",hover:!0,responsive:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"#"),o.a.createElement("th",null,"Revenues"),o.a.createElement("th",null,"Amount"))),o.a.createElement("tbody",null,w(g,"revenues")),o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null),o.a.createElement("th",null,o.a.createElement("u",null,"Total Revenues")),o.a.createElement("th",null,o.a.createElement("u",null,o.a.createElement(E.a,null,g.meta_data.sum_current_amount)))),o.a.createElement("tr",null,o.a.createElement("th",null,"-"),o.a.createElement("td",null,"-"),o.a.createElement("td",null,"-")),o.a.createElement("tr",null,o.a.createElement("th",null,"#"),o.a.createElement("th",null,"Expenses"),o.a.createElement("th",null,"Amount"))),o.a.createElement("tbody",null,w(x,"expenses")),o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null),o.a.createElement("th",null,o.a.createElement("u",null,"Total Expenses")),o.a.createElement("th",null,o.a.createElement("u",null,x.meta_data.sum_current_amount))),o.a.createElement("tr",{className:"ProfitLossLastRow"},o.a.createElement("th",null),o.a.createElement("th",null,"Net Profit"),o.a.createElement("th",null,o.a.createElement(E.a,null,g.meta_data.sum_current_amount)," - ",o.a.createElement(E.a,null,x.meta_data.sum_current_amount)," = ",o.a.createElement(E.a,null,g.meta_data.sum_current_amount-x.meta_data.sum_current_amount))))))))))}},259:function(e,a,t){"use strict";var r=t(0),n=t.n(r);a.a=()=>n.a.createElement("div",{className:"loader-bg"},n.a.createElement("div",{className:"loader-track"},n.a.createElement("div",{className:"loader-fill"})))},260:function(e,a,t){"use strict";var r=t(5),n=t(7),l=t(10),c=t.n(l),s=t(0),u=t.n(s),o=t(14),m=["xl","lg","md","sm","xs"],i=u.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,s=e.as,i=void 0===s?"div":s,d=Object(n.a)(e,["bsPrefix","className","as"]),f=Object(o.b)(t,"col"),b=[],p=[];return m.forEach((function(e){var a,t,r,n=d[e];if(delete d[e],null!=n&&"object"===typeof n){var l=n.span;a=void 0===l||l,t=n.offset,r=n.order}else a=n;var c="xs"!==e?"-"+e:"";null!=a&&b.push(!0===a?""+f+c:""+f+c+"-"+a),null!=r&&p.push("order"+c+"-"+r),null!=t&&p.push("offset"+c+"-"+t)})),b.length||b.push(f),u.a.createElement(i,Object(r.a)({},d,{ref:a,className:c.a.apply(void 0,[l].concat(b,p))}))}));i.displayName="Col",a.a=i},262:function(e,a,t){"use strict";var r=t(5),n=t(0),l=t.n(n),c=t(10),s=t.n(c);a.a=function(e){return l.a.forwardRef((function(a,t){return l.a.createElement("div",Object(r.a)({},a,{ref:t,className:s()(a.className,e)}))}))}},292:function(e,a,t){"use strict";var r=t(5),n=t(7),l=t(10),c=t.n(l),s=t(0),u=t.n(s),o=t(14),m=["xl","lg","md","sm","xs"],i=u.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,s=e.noGutters,i=e.as,d=void 0===i?"div":i,f=Object(n.a)(e,["bsPrefix","className","noGutters","as"]),b=Object(o.b)(t,"row"),p=b+"-cols",E=[];return m.forEach((function(e){var a,t=f[e];delete f[e];var r="xs"!==e?"-"+e:"";null!=(a=null!=t&&"object"===typeof t?t.cols:t)&&E.push(""+p+r+"-"+a)})),u.a.createElement(d,Object(r.a)({ref:a},f,{className:c.a.apply(void 0,[l,b,s&&"no-gutters"].concat(E))}))}));i.displayName="Row",i.defaultProps={noGutters:!1},a.a=i},293:function(e,a,t){"use strict";var r=t(0),n=t.n(r);a.a=e=>{var a=e.children.toLocaleString();return a%1!==0&&"number"===typeof a&&(a=e.children.toFixed(2)),a=a.toLocaleString(),n.a.createElement("span",null,a)}},294:function(e,a,t){"use strict";var r=t(5),n=t(7),l=t(10),c=t.n(l),s=t(0),u=t.n(s),o=t(14),m=u.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,s=e.striped,m=e.bordered,i=e.borderless,d=e.hover,f=e.size,b=e.variant,p=e.responsive,E=Object(n.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),v=Object(o.b)(t,"table"),h=c()(l,v,b&&v+"-"+b,f&&v+"-"+f,s&&v+"-striped",m&&v+"-bordered",i&&v+"-borderless",d&&v+"-hover"),j=u.a.createElement("table",Object(r.a)({},E,{className:h,ref:a}));if(p){var x=v+"-responsive";return"string"===typeof p&&(x=x+"-"+p),u.a.createElement("div",{className:x},j)}return j}));a.a=m},309:function(e,a,t){"use strict";var r=t(5),n=t(7),l=t(10),c=t.n(l),s=t(0),u=t.n(s),o=t(14),m=t(59),i=t(262),d=t(78),f=u.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,s=e.variant,m=e.as,i=void 0===m?"img":m,d=Object(n.a)(e,["bsPrefix","className","variant","as"]),f=Object(o.b)(t,"card-img");return u.a.createElement(i,Object(r.a)({ref:a,className:c()(s?f+"-"+s:f,l)},d))}));f.displayName="CardImg",f.defaultProps={variant:null};var b=f,p=Object(i.a)("h5"),E=Object(i.a)("h6"),v=Object(m.a)("card-body"),h=u.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,m=e.bg,i=e.text,f=e.border,b=e.body,p=e.children,E=e.as,h=void 0===E?"div":E,j=Object(n.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),x=Object(o.b)(t,"card"),O=Object(s.useMemo)((function(){return{cardHeaderBsPrefix:x+"-header"}}),[x]);return u.a.createElement(d.a.Provider,{value:O},u.a.createElement(h,Object(r.a)({ref:a},j,{className:c()(l,x,m&&"bg-"+m,i&&"text-"+i,f&&"border-"+f)}),b?u.a.createElement(v,null,p):p))}));h.displayName="Card",h.defaultProps={body:!1},h.Img=b,h.Title=Object(m.a)("card-title",{Component:p}),h.Subtitle=Object(m.a)("card-subtitle",{Component:E}),h.Body=v,h.Link=Object(m.a)("card-link",{Component:"a"}),h.Text=Object(m.a)("card-text",{Component:"p"}),h.Header=Object(m.a)("card-header"),h.Footer=Object(m.a)("card-footer"),h.ImgOverlay=Object(m.a)("card-img-overlay");a.a=h},497:function(e,a,t){"use strict";t.d(a,"a",(function(){return s})),t.d(a,"b",(function(){return u}));var r=t(15),n=t.n(r),l=t(28),c=t(41),s=function(){var e=Object(l.a)(n.a.mark((function e(a,t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/accounting/reports/balancesheet","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),u=function(){var e=Object(l.a)(n.a.mark((function e(a,t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/accounting/reports/balancesheet","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=66.7974bc2c.chunk.js.map