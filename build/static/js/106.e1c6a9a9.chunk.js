(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[106],{206:function(e,t,n){"use strict";n.r(t);var r=n(20),a=n.n(r),c=n(2),u=n(33),o=n(1),s=n(55),l=n(0),i=n.n(l),p=n(296),f=n(264),d=n(313),v=n(298),b=n(3),h=n(267),m=(n(263),n(269)),O=n(30),j=n(36),w=n(274),y=n(273),E=(n(271),n(291),n(519),n(275)),x=n(305);t.default=function(e){var t=i.a.useState([]),n=Object(s.a)(t,2),r=n[0],l=n[1],g=i.a.useState(!0),k=Object(s.a)(g,2),T=k[0],S=k[1],P=i.a.useState({showModal:!1,accountTypeId:null}),N=Object(s.a)(P,2),C=N[0],M=N[1],_=i.a.useState(0),A=Object(s.a)(_,2),I=A[0],D=A[1];i.a.useEffect((function(){var t=new AbortController;return Object(x.g)(Object(o.a)({action:"get",filter:"none"},Object(E.a)(e)),t.signal).then((function(e){console.log(e),e.json.status?(console.log(e.json.account_types),l(e.json.account_types),D(e.json.count),S(!1)):O.a.fire({icon:"error",title:e.json.error,background:"#ffe5de"})})).catch((function(e){console.log(e)})),function(){return t.abort()}}),[]);var H=r.map((function(t,n){return i.a.createElement("tr",{key:n},i.a.createElement("th",{scope:"row"},t.id),i.a.createElement("td",null,t.name[0].toUpperCase()+t.name.slice(1)),i.a.createElement("td",null,t.header),i.a.createElement("td",null,t.is_active?"Yes":"No"),i.a.createElement("td",null,i.a.createElement("i",{className:"feather icon-edit text-c-green f-19 m-r-10",style:{cursor:"pointer"},onClick:function(){return e.history.push("/account-type/update/"+t.id)}}),i.a.createElement("i",{className:"feather icon-trash-2 text-c-red f-19 m-r-5",style:{cursor:"pointer"},onClick:function(){return e=t.id,void M({showModal:!0,accountTypeId:e});var e}})))}));return i.a.createElement(b.a,null,i.a.createElement(p.a,{className:"d-flex justify-content-between pageHead"},i.a.createElement("h4",{className:"m-b-10"},"Account Types"),i.a.createElement("div",null,i.a.createElement("button",{className:"btn btn-primary btn-sm shadow-2 mb-4",onClick:function(){return e.history.push("account-type/create")}}," ",i.a.createElement("i",{className:"fa fa-plus text-c-white f-15 m-r-5"}),"Add New"))),i.a.createElement(p.a,null,i.a.createElement(f.a,null,i.a.createElement(d.a,null,i.a.createElement(d.a.Body,null,i.a.createElement(v.a,{striped:!0,responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"#"),i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Header"),i.a.createElement("th",null,"Enabled"),i.a.createElement("th",null))),i.a.createElement("tbody",null,H||"")),Object(j.a)(r)&&!T?i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,null,"Data not available"),i.a.createElement("br",null),i.a.createElement("br",null)):"",T?i.a.createElement(w.a,null):null,i.a.createElement(y.a,{instanceCount:I}))),i.a.createElement(m.a,{show:C.showModal,onCancel:function(){return M(Object(o.a)(Object(o.a)({},C),{},{showModal:!1}))},onDelete:function(){return e=C.accountTypeId,void Object(x.d)({action:"delete",account_type_ids:[e]}).then(function(){var t=Object(u.a)(a.a.mark((function t(n){var u,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(n.json),!n.json.status){t.next=12;break}return u=r.find((function(t){return t.id===e})),(s=r).splice(s.indexOf(u),1),t.next=7,l(Object(c.a)(s));case 7:return t.next=9,M(Object(o.a)(Object(o.a)({},M),{},{showModal:!1,accountTypeId:null}));case 9:O.a.fire({icon:"success",title:"Account type deleted successfully!",background:"#dffff0"}),t.next=13;break;case 12:O.a.fire({icon:"error",title:n.json.error,background:"#ffe5de"});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}));var e}}))))}},305:function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"j",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"k",(function(){return h})),n.d(t,"d",(function(){return m}));var r=n(20),a=n.n(r),c=n(33),u=n(47),o=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/account/transactions/get","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/accounts/get","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/accounts/delete","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/account/add","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/account/get","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/account/update","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/account/update","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/accounts/types/get","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/accounts/type/add","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/accounts/type/update","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/accounting/accounts/types/delete","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=106.e1c6a9a9.chunk.js.map