(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[94],{202:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(20),c=a.n(r),l=a(33),u=a(55),o=a(0),i=a.n(o),s=a(296),p=a(264),f=a(313),m=a(306),d=a(111),v=a(286),b=a.n(v),h=a(262),j=a(30),O=a(36),E=a(433),g=a(263);t.default=function(e){var t=i.a.useState(!0),a=Object(u.a)(t,2),r=a[0],o=a[1],v=i.a.useState(!1),y=Object(u.a)(v,2),x=y[0],w=y[1],k=i.a.useState({name:"",id:null,isActive:!1}),P=Object(u.a)(k,2),S=P[0],C=P[1],N=i.a.useState({}),A=Object(u.a)(N,2),T=A[0],_=A[1];i.a.useEffect((function(){var t=new AbortController;return Object(E.c)({action:"get",place_id:e.match.params.id},t.signal).then(function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),t.json.status?(a=t.json.place,C({id:a.id,isActive:a.is_active,name:a.name}),o(!1)):j.a.fire({icon:"error",title:t.json.error,background:"#ffe5de"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})),function(){return t.abort()}}),[]);return r?i.a.createElement(g.a,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,null,i.a.createElement(p.a,null,i.a.createElement(f.a,null,i.a.createElement(f.a.Body,null,i.a.createElement("h5",null,"Create Place"),i.a.createElement("hr",null),i.a.createElement(s.a,null,i.a.createElement(p.a,{md:6},i.a.createElement(m.a.Group,null,i.a.createElement(m.a.Label,null,"Name*"),i.a.createElement(m.a.Control,{name:"name",value:S.name,onChange:function(e){_(Object(n.a)(Object(n.a)({},T),{},{[e.target.name]:""})),C(Object(n.a)(Object(n.a)({},S),{},{[e.target.name]:e.target.value}))},type:"text",placeholder:"Place Name"}),i.a.createElement(h.a,null,T.name))),i.a.createElement(p.a,{md:6},i.a.createElement(m.a.Group,{className:"d-flex flex-column justify-content-end"},i.a.createElement(m.a.Label,{style:{marginBottom:"15px"}},"Is Active?"),i.a.createElement(b.a,{onChange:function(e){console.log(e),C(Object(n.a)(Object(n.a)({},S),{},{isActive:e}))},checked:S.isActive})))),i.a.createElement("div",{className:"d-flex justify-content-end"},i.a.createElement(d.a,{variant:"warning",onClick:function(){e.history.push("/places")}},"Cancel"),i.a.createElement(d.a,{disabled:x,variant:"primary",onClick:function(){if(Object(O.a)(S.name))_(Object(n.a)(Object(n.a)({},T),{},{name:"Place name cannot be empty!"}));else{console.log("no errros"),w(!0);var t={action:"update",place_id:S.id,name:S.name,is_active:S.isActive};console.log(t),Object(E.e)(t).then((function(t){console.log(t),t.json.status?(j.a.fire({icon:"success",title:"Place Update successfully!",background:"#dffff0"}),e.history.push("/place/"+e.match.params.id)):(w(!1),j.a.fire({icon:"error",title:t.json.error,background:"#ffe5d6"}))})).catch((function(e){console.log(e),w(!1)}))}}},x?i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"fa fa-spinner text-c-white f-15 fa-pulse m-l-1"}),"Updating"):"Update")))))))}},262:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(306),l=a(36);t.a=function(e){return Object(l.a)(e.children)?r.a.createElement("span",null):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a.Text,{style:{color:"red"}},e.children))}},263:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(){return r.a.createElement("div",{className:"loader-bg"},r.a.createElement("div",{className:"loader-track"},r.a.createElement("div",{className:"loader-fill"})))}},433:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"e",(function(){return p})),a.d(t,"c",(function(){return s}));var n=a(20),r=a.n(n),c=a(33),l=a(47),u=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/places/get","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/places/delete","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/place/add","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/place/get","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/inventory/place/update","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=94.dfb43904.chunk.js.map