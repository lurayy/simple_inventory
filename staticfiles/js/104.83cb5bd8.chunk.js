(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[104],{238:function(e,a,t){"use strict";t.r(a);var n=t(31),c=t(2),r=t(1),l=t(55),o=t(0),u=t.n(o),s=t(264),i=t(490),m=t(296),b=t(313),d=t(306),f=t(111),g=t(3),p=t(262),E=t(30),h=t(36),j=t(20),v=t.n(j),y=t(33),O=t(47),w=function(){var e=Object(y.a)(v.a.mark((function e(a,t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(O.a)("api/v1/inventory/generate","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),x=t(869),C=t.n(x),N=t(876);a.default=function(e){var a=u.a.useState(!1),t=Object(l.a)(a,2),o=t[0],j=t[1],v=u.a.useState({count:1}),y=Object(l.a)(v,2),O=y[0],x=y[1],k=u.a.useState([]),G=Object(l.a)(k,2),S=G[0],B=G[1],D=u.a.useState({}),F=Object(l.a)(D,2),T=F[0],A=F[1],H=S.map((function(e,a){return u.a.createElement(s.a,{key:a,className:"mb-2",md:3,xl:2,xs:12,sm:4},u.a.createElement(i.a,{src:"data:image/png;base64,".concat(e.image),style:{display:"block",height:"46px",minWidth:"40px",width:"160px",objectFit:"cover",margin:"auto"},alt:"..."}),u.a.createElement("div",{className:"text-center font-weight-bold"},e.barcode))}));return u.a.createElement(g.a,null,u.a.createElement(m.a,null,u.a.createElement(s.a,null,u.a.createElement(b.a,null,u.a.createElement(b.a.Body,null,u.a.createElement("h5",null,"Generate Barcodes"),u.a.createElement("hr",null),u.a.createElement(m.a,null,u.a.createElement(s.a,{md:7},u.a.createElement(d.a.Group,null,u.a.createElement(d.a.Label,null,"No of barcodes to generate*"),u.a.createElement(d.a.Control,{name:"count",value:O.count,onChange:function(e){var a=e.target,t=a.type,n=a.name,c=a.value;A(Object(r.a)(Object(r.a)({},T),{},{[n]:""})),x(Object(r.a)(Object(r.a)({},O),{},{[e.target.name]:("number"===t?parseFloat(c):c)||""}))},type:"number",placeholder:"How many to generate?"}),u.a.createElement(p.a,null,T.count))),u.a.createElement(s.a,{md:5},u.a.createElement(d.a.Label,null," \xa0 "),u.a.createElement("div",{className:"d-flex justify-content-end"},u.a.createElement(f.a,{variant:"warning",onClick:function(){e.history.push("/dashboard")}},"Cancel"),u.a.createElement(f.a,{disabled:o,variant:"primary",onClick:function(){var e=function(e){var a={};return Object(h.a)(e.count)&&(a.count="Count cannot be empty!"),!Object(h.a)(e.count)&&e.count<1&&(a.count="Count cannot be less than 1!"),Object(h.a)(e.count)||Number.isInteger(e.count)||(console.log(Number.isInteger(3)),a.count="Count must be a fixed number!"),!Object(h.a)(e.count)&&e.count>200&&(a.count="Count cannot be greater than 200!"),{isValid:Object(h.a)(a),errors:a}}(O),a=e.isValid,t=e.errors;if(!a)return console.log(t),void A(Object(r.a)({},t));console.log("no errros");var n={action:"create",type:"barcode",count:O.count};console.log(n),j(!0),w(n).then((function(e){console.log(e),j(!1),e.json.status?(console.log(e.json.barcode_images),B(Object(c.a)(e.json.barcode_images)),E.a.fire({icon:"success",title:"Barcodes generated successfully!",background:"#dffff0"})):E.a.fire({icon:"error",title:e.json.error,background:"#ffe5de"})})).catch((function(e){j(!1),console.log(e)}))}},o?u.a.createElement(u.a.Fragment,null,u.a.createElement("i",{className:"fa fa-spinner text-c-white f-15 fa-pulse m-l-1"}),"Generating..."):"Generate"))),u.a.createElement(s.a,{md:12},o?"Please, Don't go to other page while generating the barcodes.":null)))),Object(h.a)(S)?null:u.a.createElement(b.a,null,u.a.createElement(b.a.Body,null,u.a.createElement(m.a,{className:"d-flex justify-content-between pageHead"},u.a.createElement("h4",{className:"m-b-10"},"Generated Codes"),u.a.createElement("div",null,u.a.createElement("button",{className:"btn btn-primary btn-sm mb-5",onClick:function(){var e,a=new C.a,t=a.folder("barcodes".concat((new Date).getTime()%1e6)),c=Object(n.a)(S);try{for(c.s();!(e=c.n()).done;){var r=e.value;t.file("".concat(r.barcode,".png"),r.image,{base64:!0})}}catch(l){c.e(l)}finally{c.f()}a.generateAsync({type:"blob"}).then((function(e){Object(N.saveAs)(e,"barcodes".concat((new Date).getTime()%1e6,".zip"))}))}},u.a.createElement("i",{className:"fa fa-download text-c-white f-15 m-r-5"}),"Download All"))),u.a.createElement(m.a,null,H))))))}},262:function(e,a,t){"use strict";var n=t(0),c=t.n(n),r=t(306),l=t(36);a.a=function(e){return Object(l.a)(e.children)?c.a.createElement("span",null):c.a.createElement(c.a.Fragment,null,c.a.createElement(r.a.Text,{style:{color:"red"}},e.children))}}}]);
//# sourceMappingURL=104.83cb5bd8.chunk.js.map