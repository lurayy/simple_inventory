(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[91],{228:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(1),c=n(20),u=n.n(c),s=n(33),i=n(55),o=n(0),l=n.n(o),p=n(264),f=n(296),v=n(313),m=n(306),b=n(111),d=n(3),h=n(262),O=n(30),j=(n(441),n(271),n(434)),x=n(263),y=n(575),w=(n(502),n(576));t.default=function(e){var t=l.a.useState(!0),n=Object(i.a)(t,2),c=n[0],o=n[1],E=l.a.useState(!1),g=Object(i.a)(E,2),k=g[0],S=g[1],P=l.a.useState([]),T=Object(i.a)(P,2),C=T[0],N=T[1],L=l.a.useState([]),R=Object(i.a)(L,2),z=R[0],A=R[1],J=l.a.useState({}),U=Object(i.a)(J,2),V=U[0],_=U[1],B=l.a.useState({}),D=Object(i.a)(B,2),F=D[0],G=D[1];l.a.useEffect((function(){var t=new AbortController;return Object(j.e)({action:"get",role_id:e.match.params.id},t.signal).then((function(e){Object(s.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e.json),!e.json.status){t.next=11;break}return n=e.json.roles[0],t.next=5,N(Object.keys(n.powers));case 5:return t.next=7,A(Object.values(n.powers));case 7:return delete n.powers,t.next=10,_(n);case 10:o(!1);case 11:case"end":return t.stop()}}),t)})))()})).catch((function(e){console.log(e)})),function(){return t.abort()}}),[]);var H=function(e){G(Object(a.a)(Object(a.a)({},F),{},{[e.target.name]:""})),_(Object(a.a)(Object(a.a)({},V),{},{[e.target.name]:e.target.value}))},M=C.map((function(e,t){var n=e.replace(/_/g," ");return l.a.createElement(p.a,{md:4,key:t},l.a.createElement("div",{style:{cursor:"default",display:"flex",justifyContent:"flex-start",marginBottom:"8px",marginLeft:"2px"},onClick:function(){return function(e){var t=Object(r.a)(z);t[e]=!t[e],A(t)}(t)}},l.a.createElement("div",{className:"mr-1"},l.a.createElement(y.a,{status:z[t]})),l.a.createElement("div",{style:{lineHeight:"21.25px"}},n[0].toUpperCase()+n.slice(1))))}));return c?l.a.createElement(x.a,null):l.a.createElement(d.a,null,l.a.createElement(f.a,null,l.a.createElement(p.a,null,l.a.createElement(v.a,null,l.a.createElement(v.a.Body,null,l.a.createElement("h5",null,"Update Role"),l.a.createElement("hr",null),l.a.createElement(f.a,null,l.a.createElement(p.a,{md:12},l.a.createElement(m.a.Group,null,l.a.createElement(m.a.Label,null,"Role Name*"),l.a.createElement(m.a.Control,{name:"name",value:V.name,onChange:H,type:"text",placeholder:"Role Name"}),l.a.createElement(h.a,null,F.name))),l.a.createElement(p.a,{md:12},l.a.createElement(m.a.Group,null,l.a.createElement(m.a.Label,null,"Description"),l.a.createElement(m.a.Control,{name:"description",as:"textarea",rows:"6",value:V.description,onChange:H,type:"text",placeholder:"Description"}),l.a.createElement(h.a,null,F.description)))),l.a.createElement("br",null),l.a.createElement("h5",{style:{fontSize:"1.2em"}},"Permissions"),l.a.createElement("span",{className:"mr-2",style:{cursor:"pointer",color:"#007bff",fontSize:"0.9em"},onClick:function(){var e=Object(r.a)(z);for(var t in C)e[t]=!0;A(e)}},"Mark All"),l.a.createElement("span",{className:"mr-2",style:{cursor:"pointer",color:"#007bff",fontSize:"0.9em"},onClick:function(){var e=Object(r.a)(z);for(var t in C)e[t]=!1;A(e)}},"Unmark All"),l.a.createElement("hr",null),l.a.createElement(f.a,null,M),l.a.createElement("div",{className:"d-flex justify-content-end"},l.a.createElement(b.a,{variant:"warning",onClick:function(){e.history.push("/roles")}},"Cancel"),l.a.createElement(b.a,{disabled:k,variant:"primary",onClick:function(){var t=Object(w.a)(V),n=t.isValid,r=t.errors;if(!n)return O.a.fire({icon:"error",title:"Fix errors and retry submission!",background:"#ffe5de"}),void G(Object(a.a)({},r));S(!0);var c={action:"update",role_id:V.id,name:V.name,description:V.description||"",powers:C,values:z};console.log(JSON.stringify(c)),Object(j.g)(c).then((function(t){t.json.status?(O.a.fire({icon:"success",title:"Role updated successfully!",background:"#dffff0"}),e.history.push("/roles")):(S(!1),O.a.fire({icon:"error",title:t.json.error,background:"#ffe5de"}))})).catch((function(e){S(!1),console.log(e)}))}},k?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fa fa-spinner text-c-white f-15 fa-pulse m-l-1"}),"Submitting"):"Submit")))))))}},271:function(e,t,n){"use strict";n.d(t,"j",(function(){return O})),n.d(t,"b",(function(){return j})),n.d(t,"o",(function(){return y})),n.d(t,"e",(function(){return x})),n.d(t,"k",(function(){return h})),n.d(t,"i",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"n",(function(){return p})),n.d(t,"h",(function(){return l})),n.d(t,"m",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"p",(function(){return d})),n.d(t,"l",(function(){return b})),n.d(t,"g",(function(){return w}));var r=n(20),a=n.n(r),c=n(33),u=n(47),s=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/discounts/get","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/discounts/delete","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/discount/add","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/discount/get","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/discount/update","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/taxes/get","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/taxes/delete","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/tax/add","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/tax/get","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/sales/tax/update","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/inventory/purchaseorders/status","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/inventory/placements/get","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/inventory/placements/assign","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/inventory/placements/assign","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/inventory/placements/assign","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)("api/v1/user/countries/get ","POST",t,n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},441:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(36),a=function(e){var t={};return Object(r.a)(e.name)&&(t.name="Name of tax cannot be empty!"),Object(r.a)(e.type)&&(t.type="Provide type of tax!"),Object(r.a)(e.rate)&&(t.rate="Provide rate of tax!"),{isValid:Object(r.a)(t),errors:t}}},575:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){var t=e.status;return a.a.createElement("button",{className:t?"btn btn-primary btn-sm":"btn btn-outline-primary btn-sm",style:{padding:"0px 3px",margin:0,marginLeft:0,height:"21.18px",width:"21.11px"}},a.a.createElement("i",{className:"feather icon-".concat(t?"check":null," text-c-white f-8 m-0")}))}},576:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(36),a=function(e){var t={};return Object(r.a)(e.name)&&(t.name="Name cannot be empty."),{isValid:Object(r.a)(t),errors:t}}}}]);
//# sourceMappingURL=91.71e8ff55.chunk.js.map