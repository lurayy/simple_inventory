(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[93],{188:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(47),c=a(0),s=a.n(c),u=a(292),l=a(260),o=a(309),i=a(302),m=a(105),p=a(282),f=a.n(p),d=a(2),v=a(259),b=a(258),g=a(25),h=a(427),j=a(31);t.default=e=>{var t=s.a.useState(!0),a=Object(n.a)(t,2),c=a[0],p=a[1],O=s.a.useState(!1),E=Object(n.a)(O,2),y=E[0],x=E[1],k=s.a.useState({id:"",name:"",isActive:!0}),w=Object(n.a)(k,2),C=w[0],S=w[1],N=s.a.useState({}),A=Object(n.a)(N,2),T=A[0],_=A[1];s.a.useEffect(()=>{var t=new AbortController;return Object(h.d)({action:"get",customer_category_id:e.match.params.id},t.signal).then(e=>{if(console.log(e),e.json.status){var t=e.json.customerCategories[0];S(Object(r.a)(Object(r.a)({},C),{},{id:t.id,name:t.name,isActive:t.is_active})),p(!1)}else g.a.fire({icon:"error",title:e.json.error,background:"#ffe5de"})}).catch(e=>{console.log(e)}),()=>t.abort()},[]);return console.log(C),c?s.a.createElement(v.a,null):s.a.createElement(d.a,null,s.a.createElement(u.a,null,s.a.createElement(l.a,null,s.a.createElement(o.a,null,s.a.createElement(o.a.Body,null,s.a.createElement("h5",null,"Create Customer Category"),s.a.createElement("hr",null),s.a.createElement(u.a,null,s.a.createElement(l.a,{md:6},s.a.createElement(i.a.Group,null,s.a.createElement(i.a.Label,null,"Name*"),s.a.createElement(i.a.Control,{name:"name",value:C.name,onChange:e=>{_(Object(r.a)(Object(r.a)({},T),{},{[e.target.name]:""})),S(Object(r.a)(Object(r.a)({},C),{},{[e.target.name]:e.target.value}))},type:"text",placeholder:"Category Name"}),s.a.createElement(b.a,null,T.name))),s.a.createElement(l.a,{md:6},s.a.createElement(i.a.Group,{className:"d-flex flex-column justify-content-end"},s.a.createElement(i.a.Label,{style:{marginBottom:"15px"}},"Is Active?"),s.a.createElement(f.a,{onChange:e=>{S(Object(r.a)(Object(r.a)({},C),{},{isActive:e}))},checked:C.isActive})))),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement(m.a,{variant:"warning",onClick:()=>{e.history.push("/customer-categories")}},"Cancel"),s.a.createElement(m.a,{variant:"primary",onClick:()=>{if(Object(j.a)(C.name))_(Object(r.a)(Object(r.a)({},T),{},{name:"Name cannot be empty!"}));else{console.log("no errros"),x(!0);var t={action:"update",customer_category_id:C.id,name:C.name,is_active:C.isActive};console.log(t),Object(h.e)(t).then(t=>{console.log(t),t.json.status?(x(!1),g.a.fire({icon:"success",title:"Customer category updated successfully!",background:"#dffff0"}),e.history.push("/customer-categories")):(x(!1),g.a.fire({icon:"error",title:t.json.error,background:"#ffe5d6"}))}).catch(e=>{x(!1),console.log(e)})}}},y?"Submitting":"Submit")))))))}},258:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(302),s=a(31);t.a=e=>Object(s.a)(e.children)?n.a.createElement("span",null):n.a.createElement(n.a.Fragment,null,n.a.createElement(c.a.Text,{style:{color:"red"}},e.children))},259:function(e,t,a){"use strict";var r=a(0),n=a.n(r);t.a=()=>n.a.createElement("div",{className:"loader-bg"},n.a.createElement("div",{className:"loader-track"},n.a.createElement("div",{className:"loader-fill"})))},427:function(e,t,a){"use strict";a.d(t,"d",(function(){return m})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return o}));var r=a(15),n=a.n(r),c=a(28),s=a(41),u=function(){var e=Object(c.a)(n.a.mark((function e(t,a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.a)("api/v1/sales/customers/category","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(n.a.mark((function e(t,a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.a)("api/v1/sales/customers/category/delete","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(n.a.mark((function e(t,a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.a)("api/v1/sales/customers/category/update","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(n.a.mark((function e(t,a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.a)("api/v1/sales/customers/category/add","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(n.a.mark((function e(t,a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.a)("api/v1/sales/customers/category/get","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=93.c82f9afd.chunk.js.map