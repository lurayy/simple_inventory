(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[65],{216:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(20),l=a.n(r),c=a(1),s=a(33),u=a(55),o=a(0),i=a.n(o),m=a(296),d=a(264),f=a(313),b=a(298),p=a(501),E=a(263),h=a(297),v=a(30);t.default=function(e){var t=i.a.useState(!0),a=Object(u.a)(t,2),r=a[0],o=a[1],j=i.a.useState({}),O=Object(u.a)(j,2),x=O[0],N=O[1],g=i.a.useState({}),_=Object(u.a)(g,2),y=_[0],w=_[1],k=i.a.useState(0),P=Object(u.a)(k,2),C=P[0],S=P[1];if(i.a.useEffect((function(){var e=new AbortController;return Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.a)({action:"get",filter:"none",start:0,end:999999},e.signal).then(function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!t.json.status){e.next=17;break}for(n in(a=t.json.liabilities).meta_data.sum_current_amount*=-1,console.log(a),a.sub_headers)for(r in a.sub_headers[n].meta_data.sum_current_amount*=-1,a.sub_headers[n].accounts)a.sub_headers[n].accounts[r].current_amount*=-1;return e.next=8,w(Object(c.a)({},t.json.liabilities));case 8:return e.next=10,S(a.net_profit);case 10:return e.next=12,N(Object(c.a)({},t.json.assets));case 12:return console.log(t.json.liabilities),e.next=15,o(!1);case 15:e.next=18;break;case 17:v.a.fire({icon:"error",title:t.json.error,background:"#ffe5de"});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))(),function(){return e.abort()}}),[]),!r)var R=function(t,a){return t.sub_headers.map((function(t,r){var l=null;l=t.isExpanded?i.a.createElement("i",{className:"feather icon-plus-square text-c-green f-14 pl-1 pr-1",style:{color:"#10a9f5",cursor:"pointer"},onClick:function(e){return function(e,t){if("assets"===t){var a=x;a.sub_headers[e].isExpanded=!1,N(Object(c.a)({},a))}if("liabilities"===t){var n=y;n.sub_headers[e].isExpanded=!1,w(Object(c.a)({},n))}}(r,a)}}):i.a.createElement("i",{className:"feather icon-minus-square text-c-green f-14 pl-1 pr-1",style:{color:"#10a9f5",cursor:"pointer"},onClick:function(e){return function(e,t){if("assets"===t){var a=x;a.sub_headers[e].isExpanded=!0,N(Object(c.a)({},a))}if("liabilities"===t){var n=y;n.sub_headers[e].isExpanded=!0,w(Object(c.a)({},n))}}(r,a)}});var s=t.accounts.map((function(t,a){return 0===t.current_amount?null:i.a.createElement("tr",{onClick:function(){return e.history.push("/account/"+t.uuid)},key:a+"r",className:"balanceSheetChildRow"},i.a.createElement("th",null),i.a.createElement("td",{className:"balanceSheetChildData"},t.name),i.a.createElement("td",{className:"balanceSheetChildData"},i.a.createElement(h.a,null,t.current_amount)))}));return 0===t.meta_data.sum_current_amount?null:[i.a.createElement("tr",{key:r},i.a.createElement("th",null),i.a.createElement("td",null,t.name,t.accounts.length>0?l:null),i.a.createElement("td",null,i.a.createElement(h.a,null,t.meta_data.sum_current_amount)))].concat(Object(n.a)(t.isExpanded?[]:s))}))};return r?i.a.createElement(E.a,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{className:"d-flex justify-content-between pageHead"},i.a.createElement("h4",{className:"m-b-10"},"Balance Sheet"),i.a.createElement("div",null,i.a.createElement("span",null))),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,null,i.a.createElement(f.a,null,i.a.createElement(f.a.Body,null,i.a.createElement(b.a,{className:"accountingReportTable",hover:!0,responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"#"),i.a.createElement("th",null,"Assets"),i.a.createElement("th",null,"Amount"))),i.a.createElement("tbody",null,R(x,"assets")),i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null),i.a.createElement("th",null,i.a.createElement("u",null,"Total")),i.a.createElement("th",null,i.a.createElement("u",null,i.a.createElement(h.a,null,x.meta_data.sum_current_amount)))),i.a.createElement("tr",null,i.a.createElement("th",null,"-"),i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-"))),i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"#"),i.a.createElement("th",null,"Capital and Liabilities"),i.a.createElement("th",null,"Amount"))),i.a.createElement("tbody",null,i.a.createElement("tr",{onClick:function(){return e.history.push("/profit-loss-account")}},i.a.createElement("th",null),i.a.createElement("td",null,"Net Profit"),i.a.createElement("td",null,i.a.createElement(h.a,null,C))),R(y,"liabilities")),i.a.createElement("tfoot",null,i.a.createElement("tr",null,i.a.createElement("th",null),i.a.createElement("th",null,i.a.createElement("u",null,"Total")),i.a.createElement("th",null,i.a.createElement("u",null,i.a.createElement(h.a,null,y.meta_data.sum_current_amount+C)))))))))))}},263:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(){return r.a.createElement("div",{className:"loader-bg"},r.a.createElement("div",{className:"loader-track"},r.a.createElement("div",{className:"loader-fill"})))}},264:function(e,t,a){"use strict";var n=a(6),r=a(8),l=a(11),c=a.n(l),s=a(0),u=a.n(s),o=a(19),i=["xl","lg","md","sm","xs"],m=u.a.forwardRef((function(e,t){var a=e.bsPrefix,l=e.className,s=e.as,m=void 0===s?"div":s,d=Object(r.a)(e,["bsPrefix","className","as"]),f=Object(o.b)(a,"col"),b=[],p=[];return i.forEach((function(e){var t,a,n,r=d[e];if(delete d[e],null!=r&&"object"===typeof r){var l=r.span;t=void 0===l||l,a=r.offset,n=r.order}else t=r;var c="xs"!==e?"-"+e:"";null!=t&&b.push(!0===t?""+f+c:""+f+c+"-"+t),null!=n&&p.push("order"+c+"-"+n),null!=a&&p.push("offset"+c+"-"+a)})),b.length||b.push(f),u.a.createElement(m,Object(n.a)({},d,{ref:t,className:c.a.apply(void 0,[l].concat(b,p))}))}));m.displayName="Col",t.a=m},266:function(e,t,a){"use strict";var n=a(6),r=a(0),l=a.n(r),c=a(11),s=a.n(c);t.a=function(e){return l.a.forwardRef((function(t,a){return l.a.createElement("div",Object(n.a)({},t,{ref:a,className:s()(t.className,e)}))}))}},296:function(e,t,a){"use strict";var n=a(6),r=a(8),l=a(11),c=a.n(l),s=a(0),u=a.n(s),o=a(19),i=["xl","lg","md","sm","xs"],m=u.a.forwardRef((function(e,t){var a=e.bsPrefix,l=e.className,s=e.noGutters,m=e.as,d=void 0===m?"div":m,f=Object(r.a)(e,["bsPrefix","className","noGutters","as"]),b=Object(o.b)(a,"row"),p=b+"-cols",E=[];return i.forEach((function(e){var t,a=f[e];delete f[e];var n="xs"!==e?"-"+e:"";null!=(t=null!=a&&"object"===typeof a?a.cols:a)&&E.push(""+p+n+"-"+t)})),u.a.createElement(d,Object(n.a)({ref:t},f,{className:c.a.apply(void 0,[l,b,s&&"no-gutters"].concat(E))}))}));m.displayName="Row",m.defaultProps={noGutters:!1},t.a=m},297:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){var t=e.children.toLocaleString();return t%1!==0&&"number"===typeof t&&(t=e.children.toFixed(2)),t=t.toLocaleString(),r.a.createElement("span",null,t)}},298:function(e,t,a){"use strict";var n=a(6),r=a(8),l=a(11),c=a.n(l),s=a(0),u=a.n(s),o=a(19),i=u.a.forwardRef((function(e,t){var a=e.bsPrefix,l=e.className,s=e.striped,i=e.bordered,m=e.borderless,d=e.hover,f=e.size,b=e.variant,p=e.responsive,E=Object(r.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),h=Object(o.b)(a,"table"),v=c()(l,h,b&&h+"-"+b,f&&h+"-"+f,s&&h+"-striped",i&&h+"-bordered",m&&h+"-borderless",d&&h+"-hover"),j=u.a.createElement("table",Object(n.a)({},E,{className:v,ref:t}));if(p){var O=h+"-responsive";return"string"===typeof p&&(O=O+"-"+p),u.a.createElement("div",{className:O},j)}return j}));t.a=i},313:function(e,t,a){"use strict";var n=a(6),r=a(8),l=a(11),c=a.n(l),s=a(0),u=a.n(s),o=a(19),i=a(66),m=a(266),d=a(84),f=u.a.forwardRef((function(e,t){var a=e.bsPrefix,l=e.className,s=e.variant,i=e.as,m=void 0===i?"img":i,d=Object(r.a)(e,["bsPrefix","className","variant","as"]),f=Object(o.b)(a,"card-img");return u.a.createElement(m,Object(n.a)({ref:t,className:c()(s?f+"-"+s:f,l)},d))}));f.displayName="CardImg",f.defaultProps={variant:null};var b=f,p=Object(m.a)("h5"),E=Object(m.a)("h6"),h=Object(i.a)("card-body"),v=u.a.forwardRef((function(e,t){var a=e.bsPrefix,l=e.className,i=e.bg,m=e.text,f=e.border,b=e.body,p=e.children,E=e.as,v=void 0===E?"div":E,j=Object(r.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),O=Object(o.b)(a,"card"),x=Object(s.useMemo)((function(){return{cardHeaderBsPrefix:O+"-header"}}),[O]);return u.a.createElement(d.a.Provider,{value:x},u.a.createElement(v,Object(n.a)({ref:t},j,{className:c()(l,O,i&&"bg-"+i,m&&"text-"+m,f&&"border-"+f)}),b?u.a.createElement(h,null,p):p))}));v.displayName="Card",v.defaultProps={body:!1},v.Img=b,v.Title=Object(i.a)("card-title",{Component:p}),v.Subtitle=Object(i.a)("card-subtitle",{Component:E}),v.Body=h,v.Link=Object(i.a)("card-link",{Component:"a"}),v.Text=Object(i.a)("card-text",{Component:"p"}),v.Header=Object(i.a)("card-header"),v.Footer=Object(i.a)("card-footer"),v.ImgOverlay=Object(i.a)("card-img-overlay");t.a=v},501:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return u}));var n=a(20),r=a.n(n),l=a(33),c=a(47),s=function(){var e=Object(l.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/accounting/reports/balancesheet","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(l.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/accounting/reports/balancesheet","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=65.f2ad15c8.chunk.js.map