{"version":3,"sources":["Pages/Discounts/Discount.js","App/components/Reusables/DeleteModal.js","api/misc.js"],"names":["Tax","props","React","useState","discountData","setDiscountData","loading","setLoading","showModal","discountId","deleteData","setDeleteData","useEffect","controller","AbortController","getDiscount","action","discount_id","match","params","id","filter","signal","then","res","a","console","log","json","status","discounts","Jhilikka","fire","icon","title","error","background","catch","err","abort","className","name","onClick","history","push","e","xl","Body","md","is_active","variant","rate","discount_type","code","show","onCancel","onDelete","idToBeDeleted","deleteDiscounts","discounts_id","DeleteModal","style","border","color","boxShadow","onHide","Header","closeButton","margin","Title","paddingLeft","fontSize","fontWeight","message","display","flexDirection","justifyContent","padding","noRedButton","redTitle","getDiscounts","data","baseRequest","alert","createDiscount","updateDiscount","getTaxes","deleteTaxes","createTax","getTax","updateTax","getPurchaseOrderStatus","getPlacements","createPlacement","deletePlacement","updatePlacement","getCountries"],"mappings":"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","file":"static/js/97.962f8a4a.chunk.js","sourcesContent":["import React from 'react';\nimport { Row, Col, Card, Table, Tabs, Tab, Badge } from 'react-bootstrap';\n\nimport Loader from '../../App/layout/Loader/index'\n\nimport Jhilikka from '../../App/components/Reusables/Jhilikka';\nimport DeleteModal from '../../App/components/Reusables/DeleteModal';\nimport { getDiscount, deleteDiscounts } from '../../api/misc';\n\n\n\n\nconst Tax = (props) => {\n\n\n    const [discountData, setDiscountData] = React.useState(null);\n    const [loading, setLoading] = React.useState(true);\n    const [deleteData, setDeleteData] = React.useState({ showModal: false, discountId: null })\n\n    React.useEffect(() => {\n        const controller = new AbortController();\n        getDiscount({ action: 'get', discount_id: props.match.params.id, filter: 'none' }, controller.signal)\n            .then(async (res) => {\n                console.log(res.json)\n                if (res.json.status) {\n                    await setDiscountData(res.json.discounts[0])\n                    setLoading(false)\n                } else {\n                    Jhilikka.fire({ icon: 'error', title: res.json.error, background: '#ffe5de' })\n                }\n            }).catch((err) => {\n                console.log(err);\n            });\n        return () => controller.abort();\n    }, [])\n\n    const _triggerDeleteModal = (e) => {\n        setDeleteData({ showModal: true, discountId: props.match.params.id });\n    }\n\n\n\n    const _delete = (idToBeDeleted) => {\n        deleteDiscounts({ action: 'delete', discounts_id: [idToBeDeleted] })\n            .then(res => res.json)\n            .then((res) => {\n                if (res.status) {\n                    Jhilikka.fire({ icon: 'success', title: 'Discount deleted successfully!', background: '#dffff0' })\n                    props.history.push('/discounts')\n                } else {\n                    Jhilikka.fire({ icon: 'error', title: res.json.error, background: '#ffe5de' })\n                }\n            }).catch((err) => {\n                console.log(err);\n            });\n    }\n\n    if (loading) return <Loader />\n\n    return (\n        <>\n            <Row className=\"d-flex justify-content-between pageHead\" >\n                <h4 className=\"m-b-10\" >{discountData.name}</h4>\n                <div>\n                    <button\n                        className=\"btn btn-primary btn-sm shadow-2 mb-4\"\n                        onClick={() => props.history.push(`/discount/update/${props.match.params.id}`)}\n                    > <i className=\"feather icon-edit text-c-black f-15 m-r-5\" />Update</button>\n                    <button\n                        className=\"btn btn-danger btn-sm shadow-2 mb-4\"\n                        onClick={_triggerDeleteModal}\n                    > <i className=\"feather icon-trash-2 text-c-black f-15 m-r-5\" />Delete</button>\n                </div>\n            </Row>\n            <Row>\n                <Col xl={2}></Col>\n                <Col xl={8}>\n                    <Card>\n                        <Card.Body>\n                            <h5 className='mb-4'>Discount Details</h5>\n                            <div className=\"row d-flex align-items-center\">\n\n                                <Col md={2}></Col>\n                                <Col md={8}>\n                                    <div className='mb-1 border-bottom'><b>Name</b></div>\n                                    <div className='mt-1 mb-3'>\n                                        {discountData.name}\n                                        {discountData.is_active ? (<Badge variant=\"info\">Active</Badge>) : (<Badge variant=\"secondary\">Inactive</Badge>)}\n                                    </div>\n\n                                    <div className='mb-1 border-bottom'><b>Rate</b></div>\n                                    <div className='mt-1 mb-3'>{discountData.rate}</div>\n\n\n                                    <div className='mb-1 border-bottom'><b>Type</b></div>\n                                    <div className='mt-1 mb-3'>{discountData.discount_type}</div>\n\n                                    <div className='mb-1 border-bottom'><b>Code</b></div>\n                                    <div className='mt-1 mb-3'>{discountData.code}</div>\n\n\n                                </Col>\n                                <Col md={2}></Col>\n\n\n\n                            </div>\n\n\n\n                        </Card.Body>\n                    </Card>\n                </Col>\n                <Col xl={2}></Col>\n                <DeleteModal\n                    show={deleteData.showModal}\n                    onCancel={() => setDeleteData({ ...deleteData, showModal: false })}\n                    onDelete={() => _delete(deleteData.discountId)}\n                />\n            </Row>\n        </>\n    );\n}\n\nexport default Tax;\n","import React from 'react';\n\nimport { Modal, Button } from 'react-bootstrap';\n\nconst DeleteModal = (props) => {\n\n\n    return (\n        <Modal\n            style={{ border: 'none', color: '#3d4075', boxShadow: '0 0 10px red' }}\n            show={props.show}\n            onHide={props.onCancel}\n        >\n            <Modal.Header closeButton style={{ margin: 'auto 5px' }}>\n                <Modal.Title style={{ paddingLeft: '15px', color: '#3d4075', fontSize: '1.4em', fontWeight: 'bold' }}>Are you sure?</Modal.Title>\n            </Modal.Header>\n\n            <Modal.Body\n                style={{ paddingLeft: '30px' }}\n            >\n                {props.message ? props.message : 'This action cannot be undone.'}\n            </Modal.Body>\n\n\n            <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', padding: '10px' }}>\n                <Button variant=\"secondary\" onClick={props.onCancel}>\n                    <b>Cancel</b>\n                </Button>\n                {props.noRedButton ?\n                    null :\n                    <Button variant=\"danger\" onClick={props.onDelete}>\n                        <b>{props.redTitle || 'Delete'}</b>\n                    </Button>\n                }\n            </div>\n        </Modal >\n    )\n\n}\n\nexport default DeleteModal;","import { baseRequest } from './base';\n\n\nconst getDiscounts = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/discounts/get', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\n\nconst deleteDiscounts = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/discounts/delete', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\nconst createDiscount = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/discount/add', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\n\nconst getDiscount = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/discount/get', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\nconst updateDiscount = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/discount/update', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\n\n\nconst getTaxes = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/taxes/get', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\n\nconst deleteTaxes = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/taxes/delete', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\nconst createTax = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/tax/add', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\n\nconst getTax = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/tax/get', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\nconst updateTax = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/tax/update', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\nconst getPurchaseOrderStatus = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/purchaseorders/status', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\n\nconst getPlacements = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/placements/get', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\n\nconst getPlacement = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/placement/get', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\nconst createPlacement = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/placements/assign', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n}\n\nconst deletePlacement = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/placements/assign', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n}\n\nconst updatePlacement = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/placements/assign', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n}\n\n\nconst getExportFields = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/export', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n}\n\nconst getExport = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/export', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n}\n\n\nconst getCountries = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/user/countries/get ', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n}\n\n\n\n\n\nexport {\n  getExport,\n  getExportFields,\n\n  getPlacements,\n  getPlacement,\n  createPlacement,\n  updatePlacement,\n  deletePlacement,\n  getPurchaseOrderStatus,\n  getDiscounts,\n  createDiscount,\n  deleteDiscounts,\n  updateDiscount,\n  getDiscount,\n  getTaxes,\n  createTax,\n  deleteTaxes,\n  updateTax,\n  getTax,\n\n  getCountries,\n}\n"],"sourceRoot":""}