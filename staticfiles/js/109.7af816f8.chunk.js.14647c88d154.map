{"version":3,"sources":["Pages/Authentication/Password/ForgotPassword.js"],"names":["ForgotPassword","props","React","useState","email","setEmail","errors","setErrors","_sendCode","a","validateSendCode","isValid","sendCode","then","res","console","log","json","status","Jhilikka","fire","icon","title","msg","background","queryParams","URLSearchParams","set","history","push","pathname","search","toString","error","catch","e","className","style","name","display","width","type","placeholder","value","onChange","target","onKeyDown","key","onClick"],"mappings":"2QAwGeA,UAvFSC,IAAW,IAAD,EAEJC,IAAMC,SAAS,IAFX,mBAEvBC,EAFuB,KAEhBC,EAFgB,OAGFH,IAAMC,SAAS,IAHb,mBAGvBG,EAHuB,KAGfC,EAHe,KAiBxBC,EAAS,uCAAG,gCAAAC,EAAA,2DACcC,YAAiBN,GAArCO,EADM,EACNA,QAASL,EADH,EACGA,OACZK,EAFS,uBAGVJ,EAAUD,GAHA,0BAOdM,YAAS,CAAER,MAAOA,IACbS,KAAKC,IAEF,GADAC,QAAQC,IAAIF,GACRA,EAAIG,KAAKC,OAAQ,CACjBC,IAASC,KAAK,CAAEC,KAAM,UAAWC,MAAOR,EAAIG,KAAKM,IAAKC,WAAY,YAClE,IAAMC,EAAc,IAAIC,gBACxBD,EAAYE,IAAI,QAASvB,GACzBH,EAAM2B,QAAQC,KAAK,CAAEC,SAAU,kBAAmBC,OAAQN,EAAYO,kBAEtEb,IAASC,KAAK,CAAEC,KAAM,QAASC,MAAOR,EAAIG,KAAKgB,MAAOT,WAAY,cAGzEU,MAAMC,GAAKpB,QAAQC,IAAImB,IAnBd,2CAAH,qDAwBf,OACI,kBAAC,IAAD,KACI,yBAAKC,UAAU,gBACX,yBAAKA,UAAU,gBACX,yBAAKA,UAAU,WACX,0BAAMA,UAAU,MAChB,0BAAMA,UAAU,QAChB,0BAAMA,UAAU,QAChB,0BAAMA,UAAU,OAEpB,yBAAKA,UAAU,QACX,yBAAKA,UAAU,yBACX,yBAAKA,UAAU,QACX,uBAAGA,UAAU,mCAEjB,wBAAIA,UAAU,QAAd,mBACA,uBAAGA,UAAU,mBAAb,oCAEA,yBAAKA,UAAU,mBAAmBC,MAAO,IACrC,2BACIC,KAAK,QACLD,MAAO,CAAEE,QAAS,QAASC,MAAO,QAClCC,KAAK,QACLL,UAAU,eACVM,YAAY,mBACZC,MAAOvC,EACPwC,SA7DVT,IAClB5B,EAAU,2BAAKD,GAAN,IAAc,CAAC6B,EAAEU,OAAOP,MAAO,MACxCjC,EAAS8B,EAAEU,OAAOF,QA4DUG,UAxDdX,IACA,UAAVA,EAAEY,KACFvC,OAwDoB,kBAAC,IAAD,KAAYF,EAAOF,QAGvB,4BACIgC,UAAU,gCACVY,QAASxC,GAFb","file":"static/js/109.7af816f8.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux';\n\nimport './../../../assets/scss/style.scss';\nimport Aux from \"../../../hoc/_Aux\";\nimport Breadcrumb from \"../../../App/layout/AdminLayout/Breadcrumb\";\nimport { signin } from '../../../redux/actions/authActions';\n\nimport store from '../../../redux/store'\nimport isEmpty from '../../../validation/isEmpty';\nimport { NavLink } from 'react-router-dom';\nimport ErrorBody from '../../../App/components/Reusables/ErrorBody';\nimport { validateSendCode } from '../../../validation/auth';\nimport { sendCode } from '../../../api/user';\nimport Jhilikka from '../../../App/components/Reusables/Jhilikka';\n\nconst ForgotPassword = (props) => {\n\n    const [email, setEmail] = React.useState('')\n    const [errors, setErrors] = React.useState({});\n\n\n    const _emailChange = (e) => {\n        setErrors({ ...errors, [e.target.name]: '' })\n        setEmail(e.target.value)\n    }\n\n\n    const _onEnter = (e) => {\n        if (e.key === 'Enter') {\n            _sendCode();\n        }\n    }\n    const _sendCode = async () => {\n        const { isValid, errors } = validateSendCode(email);\n        if (!isValid) {\n            setErrors(errors);\n            return;\n        }\n\n        sendCode({ email: email })\n            .then(res => {\n                console.log(res);\n                if (res.json.status) {\n                    Jhilikka.fire({ icon: 'success', title: res.json.msg, background: '#dffff0' })\n                    const queryParams = new URLSearchParams();\n                    queryParams.set('email', email)\n                    props.history.push({ pathname: '/reset-password', search: queryParams.toString() })\n                } else {\n                    Jhilikka.fire({ icon: 'error', title: res.json.error, background: '#ffe5de' })\n                }\n            })\n            .catch(e => console.log(e))\n\n\n    }\n\n    return (\n        <Aux>\n            <div className=\"auth-wrapper\">\n                <div className=\"auth-content\">\n                    <div className=\"auth-bg\">\n                        <span className=\"r\" />\n                        <span className=\"r s\" />\n                        <span className=\"r s\" />\n                        <span className=\"r\" />\n                    </div>\n                    <div className=\"card\">\n                        <div className=\"card-body text-center\">\n                            <div className=\"mb-4\">\n                                <i className=\"feather icon-unlock auth-icon\" />\n                            </div>\n                            <h3 className=\"mb-4\">Forgot Password</h3>\n                            <p className=\"mb-3 text-muted\">Get code to reset your password.</p>\n\n                            <div className=\"input-group mb-3\" style={{}}>\n                                <input\n                                    name=\"email\"\n                                    style={{ display: 'block', width: '100%' }}\n                                    type=\"email\"\n                                    className=\"form-control\"\n                                    placeholder=\"Enter your email\"\n                                    value={email}\n                                    onChange={_emailChange}\n                                    onKeyDown={_onEnter}\n                                />\n                                <ErrorBody>{errors.email}</ErrorBody>\n                            </div>\n\n                            <button\n                                className=\"btn btn-primary shadow-2 mb-4\"\n                                onClick={_sendCode}\n                            >Send Code</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </Aux>\n    );\n}\n\n\n\nexport default ForgotPassword;\n\n\n"],"sourceRoot":""}