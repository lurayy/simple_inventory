(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[66],{215:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(20),c=a.n(r),l=a(1),s=a(33),u=a(55),o=a(0),i=a.n(o),m=a(296),d=a(264),f=a(313),b=a(298),p=a(501),E=a(263),v=a(297),h=a(30);t.default=function(e){var t=i.a.useState(!0),a=Object(u.a)(t,2),r=a[0],o=a[1],j=i.a.useState({}),x=Object(u.a)(j,2),O=x[0],_=x[1],N=i.a.useState({}),g=Object(u.a)(N,2),y=g[0],w=g[1];if(i.a.useEffect((function(){var e=new AbortController;return Object(s.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.b)({action:"get",filter:"none",start:0,end:999999},e.signal).then(function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.json.status){e.next=13;break}for(n in(a=t.json.revenue).meta_data.sum_current_amount*=-1,console.log(a),a.sub_headers)for(r in a.sub_headers[n].meta_data.sum_current_amount*=-1,a.sub_headers[n].accounts)a.sub_headers[n].accounts[r].current_amount*=-1;return e.next=7,_(Object(l.a)({},t.json.expense));case 7:return e.next=9,w(Object(l.a)({},a));case 9:return e.next=11,o(!1);case 11:e.next=14;break;case 13:h.a.fire({icon:"error",title:t.json.error,background:"#ffe5de"});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))(),function(){return e.abort()}}),[]),!r)var P=function(t,a){return t.sub_headers.map((function(t,r){var c=null;c=t.isExpanded?i.a.createElement("i",{className:"feather icon-plus-square text-c-green f-14 pl-1 pr-1",style:{color:"#10a9f5",cursor:"pointer"},onClick:function(e){return function(e,t){if(console.log(e,t,"hare tea we go"),"expenses"===t){var a=O;a.sub_headers[e].isExpanded=!1,_(Object(l.a)({},a))}if("revenues"===t){var n=y;n.sub_headers[e].isExpanded=!1,w(Object(l.a)({},n))}}(r,a)}}):i.a.createElement("i",{className:"feather icon-minus-square text-c-green f-14 pl-1 pr-1",style:{color:"#10a9f5",cursor:"pointer"},onClick:function(e){return function(e,t){if("expenses"===t){var a=O;a.sub_headers[e].isExpanded=!0,_(Object(l.a)({},a))}if("revenues"===t){var n=y;n.sub_headers[e].isExpanded=!0,w(Object(l.a)({},n))}}(r,a)}});var s=t.accounts.map((function(t,a){return 0===t.current_amount?null:i.a.createElement("tr",{onClick:function(){return e.history.push("/account/"+t.uuid)},key:a+"r",className:"balanceSheetChildRow"},i.a.createElement("th",null),i.a.createElement("td",{className:"balanceSheetChildData"},t.name),i.a.createElement("td",{className:"balanceSheetChildData"},i.a.createElement(v.a,null,t.current_amount)))}));return 0===t.meta_data.sum_current_amount?null:[i.a.createElement("tr",{key:r},i.a.createElement("th",null),i.a.createElement("td",null,t.name,t.accounts.length>0?c:null),i.a.createElement("td",null,i.a.createElement(v.a,null,t.meta_data.sum_current_amount)))].concat(Object(n.a)(t.isExpanded?[]:s))}))};return r?i.a.createElement(E.a,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{className:"d-flex justify-content-between pageHead"},i.a.createElement("h4",{className:"m-b-10"},"Profit and Loss Account"),i.a.createElement("div",null,i.a.createElement("span",null))),i.a.createElement("br",null),i.a.createElement(m.a,null,i.a.createElement(d.a,null,i.a.createElement(f.a,null,i.a.createElement(f.a.Body,null,i.a.createElement(b.a,{className:"accountingReportTable",hover:!0,responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"#"),i.a.createElement("th",null,"Revenues"),i.a.createElement("th",null,"Amount"))),i.a.createElement("tbody",null,P(y,"revenues")),i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null),i.a.createElement("th",null,i.a.createElement("u",null,"Total Revenues")),i.a.createElement("th",null,i.a.createElement("u",null,i.a.createElement(v.a,null,y.meta_data.sum_current_amount)))),i.a.createElement("tr",null,i.a.createElement("th",null,"-"),i.a.createElement("td",null,"-"),i.a.createElement("td",null,"-")),i.a.createElement("tr",null,i.a.createElement("th",null,"#"),i.a.createElement("th",null,"Expenses"),i.a.createElement("th",null,"Amount"))),i.a.createElement("tbody",null,P(O,"expenses")),i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null),i.a.createElement("th",null,i.a.createElement("u",null,"Total Expenses")),i.a.createElement("th",null,i.a.createElement("u",null,O.meta_data.sum_current_amount))),i.a.createElement("tr",{className:"ProfitLossLastRow"},i.a.createElement("th",null),i.a.createElement("th",null,"Net Profit"),i.a.createElement("th",null,i.a.createElement(v.a,null,y.meta_data.sum_current_amount)," - ",i.a.createElement(v.a,null,O.meta_data.sum_current_amount)," = ",i.a.createElement(v.a,null,y.meta_data.sum_current_amount-O.meta_data.sum_current_amount))))))))))}},263:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(){return r.a.createElement("div",{className:"loader-bg"},r.a.createElement("div",{className:"loader-track"},r.a.createElement("div",{className:"loader-fill"})))}},264:function(e,t,a){"use strict";var n=a(6),r=a(8),c=a(11),l=a.n(c),s=a(0),u=a.n(s),o=a(19),i=["xl","lg","md","sm","xs"],m=u.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,s=e.as,m=void 0===s?"div":s,d=Object(r.a)(e,["bsPrefix","className","as"]),f=Object(o.b)(a,"col"),b=[],p=[];return i.forEach((function(e){var t,a,n,r=d[e];if(delete d[e],null!=r&&"object"===typeof r){var c=r.span;t=void 0===c||c,a=r.offset,n=r.order}else t=r;var l="xs"!==e?"-"+e:"";null!=t&&b.push(!0===t?""+f+l:""+f+l+"-"+t),null!=n&&p.push("order"+l+"-"+n),null!=a&&p.push("offset"+l+"-"+a)})),b.length||b.push(f),u.a.createElement(m,Object(n.a)({},d,{ref:t,className:l.a.apply(void 0,[c].concat(b,p))}))}));m.displayName="Col",t.a=m},266:function(e,t,a){"use strict";var n=a(6),r=a(0),c=a.n(r),l=a(11),s=a.n(l);t.a=function(e){return c.a.forwardRef((function(t,a){return c.a.createElement("div",Object(n.a)({},t,{ref:a,className:s()(t.className,e)}))}))}},296:function(e,t,a){"use strict";var n=a(6),r=a(8),c=a(11),l=a.n(c),s=a(0),u=a.n(s),o=a(19),i=["xl","lg","md","sm","xs"],m=u.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,s=e.noGutters,m=e.as,d=void 0===m?"div":m,f=Object(r.a)(e,["bsPrefix","className","noGutters","as"]),b=Object(o.b)(a,"row"),p=b+"-cols",E=[];return i.forEach((function(e){var t,a=f[e];delete f[e];var n="xs"!==e?"-"+e:"";null!=(t=null!=a&&"object"===typeof a?a.cols:a)&&E.push(""+p+n+"-"+t)})),u.a.createElement(d,Object(n.a)({ref:t},f,{className:l.a.apply(void 0,[c,b,s&&"no-gutters"].concat(E))}))}));m.displayName="Row",m.defaultProps={noGutters:!1},t.a=m},297:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){var t=e.children.toLocaleString();return t%1!==0&&"number"===typeof t&&(t=e.children.toFixed(2)),t=t.toLocaleString(),r.a.createElement("span",null,t)}},298:function(e,t,a){"use strict";var n=a(6),r=a(8),c=a(11),l=a.n(c),s=a(0),u=a.n(s),o=a(19),i=u.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,s=e.striped,i=e.bordered,m=e.borderless,d=e.hover,f=e.size,b=e.variant,p=e.responsive,E=Object(r.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),v=Object(o.b)(a,"table"),h=l()(c,v,b&&v+"-"+b,f&&v+"-"+f,s&&v+"-striped",i&&v+"-bordered",m&&v+"-borderless",d&&v+"-hover"),j=u.a.createElement("table",Object(n.a)({},E,{className:h,ref:t}));if(p){var x=v+"-responsive";return"string"===typeof p&&(x=x+"-"+p),u.a.createElement("div",{className:x},j)}return j}));t.a=i},313:function(e,t,a){"use strict";var n=a(6),r=a(8),c=a(11),l=a.n(c),s=a(0),u=a.n(s),o=a(19),i=a(66),m=a(266),d=a(84),f=u.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,s=e.variant,i=e.as,m=void 0===i?"img":i,d=Object(r.a)(e,["bsPrefix","className","variant","as"]),f=Object(o.b)(a,"card-img");return u.a.createElement(m,Object(n.a)({ref:t,className:l()(s?f+"-"+s:f,c)},d))}));f.displayName="CardImg",f.defaultProps={variant:null};var b=f,p=Object(m.a)("h5"),E=Object(m.a)("h6"),v=Object(i.a)("card-body"),h=u.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,i=e.bg,m=e.text,f=e.border,b=e.body,p=e.children,E=e.as,h=void 0===E?"div":E,j=Object(r.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),x=Object(o.b)(a,"card"),O=Object(s.useMemo)((function(){return{cardHeaderBsPrefix:x+"-header"}}),[x]);return u.a.createElement(d.a.Provider,{value:O},u.a.createElement(h,Object(n.a)({ref:t},j,{className:l()(c,x,i&&"bg-"+i,m&&"text-"+m,f&&"border-"+f)}),b?u.a.createElement(v,null,p):p))}));h.displayName="Card",h.defaultProps={body:!1},h.Img=b,h.Title=Object(i.a)("card-title",{Component:p}),h.Subtitle=Object(i.a)("card-subtitle",{Component:E}),h.Body=v,h.Link=Object(i.a)("card-link",{Component:"a"}),h.Text=Object(i.a)("card-text",{Component:"p"}),h.Header=Object(i.a)("card-header"),h.Footer=Object(i.a)("card-footer"),h.ImgOverlay=Object(i.a)("card-img-overlay");t.a=h},501:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return u}));var n=a(20),r=a.n(n),c=a(33),l=a(47),s=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/accounting/reports/balancesheet","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)("api/v1/accounting/reports/balancesheet","POST",t,a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=66.8362f8aa.chunk.js.map