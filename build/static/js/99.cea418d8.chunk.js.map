{"version":3,"sources":["Pages/Taxes/Tax.js","App/components/Reusables/DeleteModal.js","api/misc.js"],"names":["Tax","props","React","useState","taxData","setTaxData","loading","setLoading","showModal","taxId","deleteData","setDeleteData","useEffect","controller","AbortController","getTax","action","tax_id","match","params","id","filter","signal","then","res","a","console","log","json","status","taxes","Jhilikka","fire","icon","title","error","background","catch","err","abort","className","name","onClick","history","push","e","xl","Body","md","is_active","variant","rate","tax_type","code","show","onCancel","onDelete","_delete","idToBeDeleted","deleteTaxes","taxes_id","DeleteModal","style","border","color","boxShadow","onHide","Header","closeButton","margin","Title","paddingLeft","fontSize","fontWeight","message","display","flexDirection","justifyContent","padding","noRedButton","redTitle","getDiscounts","data","baseRequest","alert","deleteDiscounts","createDiscount","getDiscount","updateDiscount","getTaxes","createTax","updateTax","getPurchaseOrderStatus","getPlacements","createPlacement","deletePlacement","updatePlacement","getCountries"],"mappings":"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","file":"static/js/99.cea418d8.chunk.js","sourcesContent":["\n\n\n\nimport React from 'react';\nimport { Row, Col, Card, Table, Tabs, Tab, Badge } from 'react-bootstrap';\n\nimport Loader from '../../App/layout/Loader/index'\n\nimport Jhilikka from '../../App/components/Reusables/Jhilikka';\nimport DeleteModal from '../../App/components/Reusables/DeleteModal';\nimport { getTax, deleteTaxes } from '../../api/misc';\n\n\n\n\nconst Tax = (props) => {\n\n\n    const [taxData, setTaxData] = React.useState(null);\n    const [loading, setLoading] = React.useState(true);\n    const [deleteData, setDeleteData] = React.useState({ showModal: false, taxId: null })\n\n    React.useEffect(() => {\n        const controller = new AbortController();\n        getTax({ action: 'get', tax_id: props.match.params.id, filter: 'none' }, controller.signal)\n            .then(async (res) => {\n                console.log(res.json)\n                if (res.json.status) {\n                    await setTaxData(res.json.taxes[0])\n                    setLoading(false)\n                } else { Jhilikka.fire({ icon: 'error', title: res.json.error, background: '#ffe5de' }) }\n            }).catch((err) => {\n                console.log(err);\n            });\n        return () => controller.abort();\n    }, [])\n\n    const _triggerDeleteModal = (e) => {\n        setDeleteData({ showModal: true, taxId: props.match.params.id });\n    }\n\n\n\n    const _delete = (idToBeDeleted) => {\n        deleteTaxes({ action: 'delete', taxes_id: [idToBeDeleted] })\n            .then(res => res.json)\n            .then((res) => {\n                if (res.status) {\n                    Jhilikka.fire({ icon: 'success', title: 'Tax deleted successfully!', background: '#dffff0' })\n                    props.history.push('/taxes')\n                } else { Jhilikka.fire({ icon: 'error', title: res.json.error, background: '#ffe5de' }) }\n            }).catch((err) => {\n                console.log(err);\n            });\n    }\n\n    if (loading) return <Loader />\n\n    return (\n        <>\n            <Row className=\"d-flex justify-content-between pageHead\" >\n                <h4 className=\"m-b-10\" >{taxData.name}</h4>\n                <div>\n                    <button\n                        className=\"btn btn-primary btn-sm shadow-2 mb-4\"\n                        onClick={() => props.history.push(`/tax/update/${props.match.params.id}`)}\n                    > <i className=\"feather icon-edit text-c-white f-15 m-r-5\" />Update</button>\n                    <button\n                        className=\"btn btn-danger btn-sm shadow-2 mb-4\"\n                        onClick={_triggerDeleteModal}\n                    > <i className=\"feather icon-trash-2 text-c-black f-15 m-r-5\" />Delete</button>\n                </div>\n            </Row>\n            <Row>\n                <Col xl={2}></Col>\n                <Col xl={8}>\n                    <Card>\n                        <Card.Body>\n                            <h5 className='mb-4'>Tax Details</h5>\n                            <div className=\"row d-flex align-items-center\">\n\n                                <Col md={2}></Col>\n                                <Col md={8}>\n                                    <div className='mb-1 border-bottom'><b>Name</b></div>\n                                    <div className='mt-1 mb-3'>\n                                        {taxData.name}\n                                        {taxData.is_active ? (<Badge variant=\"info\">Active</Badge>) : (<Badge variant=\"secondary\">Inactive</Badge>)}\n                                    </div>\n\n                                    <div className='mb-1 border-bottom'><b>Rate</b></div>\n                                    <div className='mt-1 mb-3'>{taxData.rate}</div>\n\n\n                                    <div className='mb-1 border-bottom'><b>Type</b></div>\n                                    <div className='mt-1 mb-3'>{taxData.tax_type}</div>\n\n                                    <div className='mb-1 border-bottom'><b>Code</b></div>\n                                    <div className='mt-1 mb-3'>{taxData.code}</div>\n\n\n                                </Col>\n                                <Col md={2}></Col>\n\n\n\n                            </div>\n\n\n\n                        </Card.Body>\n                    </Card>\n                </Col>\n                <Col xl={2}></Col>\n                <DeleteModal\n                    show={deleteData.showModal}\n                    onCancel={() => setDeleteData({ ...deleteData, showModal: false })}\n                    onDelete={() => _delete(deleteData.taxId)}\n                />\n            </Row>\n        </>\n    );\n}\n\nexport default Tax;\n","import React from 'react';\n\nimport { Modal, Button } from 'react-bootstrap';\n\nconst DeleteModal = (props) => {\n\n\n    return (\n        <Modal\n            style={{ border: 'none', color: '#3d4075', boxShadow: '0 0 10px red' }}\n            show={props.show}\n            onHide={props.onCancel}\n        >\n            <Modal.Header closeButton style={{ margin: 'auto 5px' }}>\n                <Modal.Title style={{ paddingLeft: '15px', color: '#3d4075', fontSize: '1.4em', fontWeight: 'bold' }}>Are you sure?</Modal.Title>\n            </Modal.Header>\n\n            <Modal.Body\n                style={{ paddingLeft: '30px' }}\n            >\n                {props.message ? props.message : 'This action cannot be undone.'}\n            </Modal.Body>\n\n\n            <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', padding: '10px' }}>\n                <Button variant=\"secondary\" onClick={props.onCancel}>\n                    <b>Cancel</b>\n                </Button>\n                {props.noRedButton ?\n                    null :\n                    <Button variant=\"danger\" onClick={props.onDelete}>\n                        <b>{props.redTitle || 'Delete'}</b>\n                    </Button>\n                }\n            </div>\n        </Modal >\n    )\n\n}\n\nexport default DeleteModal;","import { baseRequest } from './base';\n\n\nconst getDiscounts = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/discounts/get', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\n\nconst deleteDiscounts = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/discounts/delete', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\nconst createDiscount = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/discount/add', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\n\nconst getDiscount = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/discount/get', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\nconst updateDiscount = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/discount/update', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\n\n\nconst getTaxes = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/taxes/get', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\n\nconst deleteTaxes = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/taxes/delete', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\nconst createTax = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/tax/add', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\n\nconst getTax = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/tax/get', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\nconst updateTax = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/sales/tax/update', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\nconst getPurchaseOrderStatus = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/purchaseorders/status', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\n\nconst getPlacements = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/placements/get', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\n\nconst getPlacement = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/placement/get', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n};\n\nconst createPlacement = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/placements/assign', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n}\n\nconst deletePlacement = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/placements/assign', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n}\n\nconst updatePlacement = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/placements/assign', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n}\n\n\nconst getExportFields = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/export', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n}\n\nconst getExport = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/inventory/export', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n}\n\n\nconst getCountries = async (data, signal) => {\n  try {\n    return await baseRequest('api/v1/user/countries/get ', 'POST', data, signal);\n  } catch (e) {\n    alert(e)\n  }\n}\n\n\n\n\n\nexport {\n  getExport,\n  getExportFields,\n\n  getPlacements,\n  getPlacement,\n  createPlacement,\n  updatePlacement,\n  deletePlacement,\n  getPurchaseOrderStatus,\n  getDiscounts,\n  createDiscount,\n  deleteDiscounts,\n  updateDiscount,\n  getDiscount,\n  getTaxes,\n  createTax,\n  deleteTaxes,\n  updateTax,\n  getTax,\n\n  getCountries,\n}\n"],"sourceRoot":""}