(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[104],{235:function(e,a,t){"use strict";t.r(a);var n=t(26),r=t(1),c=t(47),l=t(0),o=t.n(l),s=t(260),u=t(486),m=t(292),i=t(309),b=t(302),d=t(105),g=t(2),f=t(258),p=t(25),E=t(31),h=t(15),j=t.n(h),v=t(28),y=t(41),O=function(){var e=Object(v.a)(j.a.mark((function e(a,t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(y.a)("api/v1/inventory/generate","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),w=t(865),x=t.n(w),C=t(872);a.default=e=>{var a=o.a.useState(!1),t=Object(c.a)(a,2),l=t[0],h=t[1],j=o.a.useState({count:1}),v=Object(c.a)(j,2),y=v[0],w=v[1],N=o.a.useState([]),k=Object(c.a)(N,2),G=k[0],S=k[1],B=o.a.useState({}),D=Object(c.a)(B,2),F=D[0],T=D[1],A=G.map((e,a)=>o.a.createElement(s.a,{key:a,className:"mb-2",md:3,xl:2,xs:12,sm:4},o.a.createElement(u.a,{src:"data:image/png;base64,".concat(e.image),style:{display:"block",height:"46px",minWidth:"40px",width:"160px",objectFit:"cover",margin:"auto"},alt:"..."}),o.a.createElement("div",{className:"text-center font-weight-bold"},e.barcode)));return o.a.createElement(g.a,null,o.a.createElement(m.a,null,o.a.createElement(s.a,null,o.a.createElement(i.a,null,o.a.createElement(i.a.Body,null,o.a.createElement("h5",null,"Generate Barcodes"),o.a.createElement("hr",null),o.a.createElement(m.a,null,o.a.createElement(s.a,{md:7},o.a.createElement(b.a.Group,null,o.a.createElement(b.a.Label,null,"No of barcodes to generate*"),o.a.createElement(b.a.Control,{name:"count",value:y.count,onChange:e=>{var a=e.target,t=a.type,n=a.name,c=a.value;T(Object(r.a)(Object(r.a)({},F),{},{[n]:""})),w(Object(r.a)(Object(r.a)({},y),{},{[e.target.name]:("number"===t?parseFloat(c):c)||""}))},type:"number",placeholder:"How many to generate?"}),o.a.createElement(f.a,null,F.count))),o.a.createElement(s.a,{md:5},o.a.createElement(b.a.Label,null," \xa0 "),o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement(d.a,{variant:"warning",onClick:()=>{e.history.push("/dashboard")}},"Cancel"),o.a.createElement(d.a,{disabled:l,variant:"primary",onClick:()=>{var e=(e=>{var a={};return Object(E.a)(e.count)&&(a.count="Count cannot be empty!"),!Object(E.a)(e.count)&&e.count<1&&(a.count="Count cannot be less than 1!"),Object(E.a)(e.count)||Number.isInteger(e.count)||(console.log(Number.isInteger(3)),a.count="Count must be a fixed number!"),!Object(E.a)(e.count)&&e.count>200&&(a.count="Count cannot be greater than 200!"),{isValid:Object(E.a)(a),errors:a}})(y),a=e.isValid,t=e.errors;if(!a)return console.log(t),void T(Object(r.a)({},t));console.log("no errros");var n={action:"create",type:"barcode",count:y.count};console.log(n),h(!0),O(n).then(e=>{console.log(e),h(!1),e.json.status?(console.log(e.json.barcode_images),S([...e.json.barcode_images]),p.a.fire({icon:"success",title:"Barcodes generated successfully!",background:"#dffff0"})):p.a.fire({icon:"error",title:e.json.error,background:"#ffe5de"})}).catch(e=>{h(!1),console.log(e)})}},l?o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fa fa-spinner text-c-white f-15 fa-pulse m-l-1"}),"Generating..."):"Generate"))),o.a.createElement(s.a,{md:12},l?"Please, Don't go to other page while generating the barcodes.":null)))),Object(E.a)(G)?null:o.a.createElement(i.a,null,o.a.createElement(i.a.Body,null,o.a.createElement(m.a,{className:"d-flex justify-content-between pageHead"},o.a.createElement("h4",{className:"m-b-10"},"Generated Codes"),o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-primary btn-sm mb-5",onClick:()=>{var e,a=new x.a,t=a.folder("barcodes".concat((new Date).getTime()%1e6)),r=Object(n.a)(G);try{for(r.s();!(e=r.n()).done;){var c=e.value;t.file("".concat(c.barcode,".png"),c.image,{base64:!0})}}catch(l){r.e(l)}finally{r.f()}a.generateAsync({type:"blob"}).then((function(e){Object(C.saveAs)(e,"barcodes".concat((new Date).getTime()%1e6,".zip"))}))}},o.a.createElement("i",{className:"fa fa-download text-c-white f-15 m-r-5"}),"Download All"))),o.a.createElement(m.a,null,A))))))}},258:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(302),l=t(31);a.a=e=>Object(l.a)(e.children)?r.a.createElement("span",null):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a.Text,{style:{color:"red"}},e.children))}}]);
//# sourceMappingURL=104.22a8f707.chunk.js.map