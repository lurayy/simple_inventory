(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[102],{225:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t(20),l=t.n(r),c=t(33),o=t(55),u=t(0),s=t.n(u),i=t(296),p=t(264),m=t(313),f=t(306),d=t(111),h=t(3),v=t(262),b=(t(281),t(263)),E=t(30),g=t(434),O=t(435),j=t(502);t(5);function w(e,a){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){a(t.result)},t.onerror=function(e){console.log("Error: ",e)}}a.default=function(e){var a=s.a.useState(!0),t=Object(o.a)(a,2),r=t[0],u=t[1],x=s.a.useState(!1),y=Object(o.a)(x,2),C=y[0],k=y[1],P=s.a.useState([]),S=Object(o.a)(P,2),N=S[0],L=S[1],G=s.a.useState({username:"",email:"",fname:"",lname:"",password:"",password2:"",role:""}),I=Object(o.a)(G,2),T=I[0],F=I[1],U=s.a.useState({address:"",phone1:"",phone2:"",post:"",profileImage:"",profileImageName:""}),_=Object(o.a)(U,2),R=_[0],A=_[1],B=s.a.useState({}),D=Object(o.a)(B,2),J=D[0],z=D[1];s.a.useEffect((function(){var e=new AbortController;return Object(g.f)({action:"get",filter:"none",start:0,end:999999},e.signal).then(function(){var e=Object(c.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a),!a.json.status){e.next=8;break}return e.next=4,L(a.json.roles);case 4:return e.next=6,u(!1);case 6:e.next=9;break;case 8:E.a.fire({icon:"error",title:a.json.error,background:"#ffe5de"});case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})),function(){return e.abort()}}),[]);var V=function(e){var a=e.target,t=a.name,r=(a.type,a.value);F(Object(n.a)(Object(n.a)({},T),{},{[t]:r})),z(Object(n.a)(Object(n.a)({},J),{},{[t]:""}))},W=function(e){console.log("here it changes");var a=e.target,t=a.name,r=(a.type,a.value);A(Object(n.a)(Object(n.a)({},R),{},{[t]:r})),z(Object(n.a)(Object(n.a)({},J),{},{[t]:""}))},q=function(){var e=Object(c.a)(l.a.mark((function e(a){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.target.files[0],console.log(t),w(t,(function(e){A(Object(n.a)(Object(n.a)({},R),{},{profileImage:e,profileImageName:e}))}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();console.log(R);return console.log(R.address),r?s.a.createElement(b.a,null):s.a.createElement(h.a,null,s.a.createElement(i.a,null,s.a.createElement(p.a,null,s.a.createElement(m.a,null,s.a.createElement(m.a.Body,null,s.a.createElement("h5",null,"Create User"),s.a.createElement("hr",null),s.a.createElement(i.a,null,s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Username*"),s.a.createElement(f.a.Control,{name:"username",value:T.username,onChange:V,type:"text",placeholder:"Username"}),s.a.createElement(v.a,null,J.username))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Email*"),s.a.createElement(f.a.Control,{name:"email",value:T.email,onChange:V,type:"text",placeholder:"Email"}),s.a.createElement(v.a,null,J.email))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"First Name*"),s.a.createElement(f.a.Control,{name:"fname",value:T.fname,onChange:V,type:"text",placeholder:"First Name"}),s.a.createElement(v.a,null,J.fname))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Last Name*"),s.a.createElement(f.a.Control,{name:"lname",value:T.lname,onChange:V,type:"text",placeholder:"Last Name"}),s.a.createElement(v.a,null,J.lname))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Password*"),s.a.createElement(f.a.Control,{name:"password",value:T.password,onChange:V,type:"password",placeholder:"Password"}),s.a.createElement(v.a,null,J.password))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Confirm Password*"),s.a.createElement(f.a.Control,{name:"password2",value:T.password2,onChange:V,type:"password",placeholder:"Confirm Password"}),s.a.createElement(v.a,null,J.password2))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Role*"),s.a.createElement(f.a.Control,{name:"role",value:T.role,onChange:V,as:"select"},s.a.createElement("option",{value:"",disabled:!0},"Select User Role"),N.map((function(e,a){return s.a.createElement("option",{key:a,value:e.id},e.name)}))),s.a.createElement(v.a,null,J.role)))),s.a.createElement("br",null),s.a.createElement("h5",{style:{fontSize:"1.2em"}},"Extra Details"),s.a.createElement("hr",null),s.a.createElement(i.a,null,s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Address"),s.a.createElement(f.a.Control,{name:"address",value:R.address,onChange:W,type:"text",placeholder:"Address"}),s.a.createElement(v.a,null,J.address))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Phone Np 1"),s.a.createElement(f.a.Control,{name:"phone1",value:R.phone1,onChange:W,type:"text",placeholder:"Phone No 1"}),s.a.createElement(v.a,null,J.phone1))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Phone No 2"),s.a.createElement(f.a.Control,{name:"phone2",value:R.phone2,onChange:W,type:"text",placeholder:"Phone No 2"}),s.a.createElement(v.a,null,J.phone2))),s.a.createElement(p.a,{md:6},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Post"),s.a.createElement(f.a.Control,{name:"post",value:R.post,onChange:W,type:"text",placeholder:"Post"}),s.a.createElement(v.a,null,J.post))),s.a.createElement(p.a,{md:4},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"Profile Image"),s.a.createElement(f.a.File,{label:R.profileImageName?"Change photo":"No file selected","data-browse":"Browse",custom:!0,onChange:q}),s.a.createElement(v.a,null,J.profileImage))),R.profileImageName?s.a.createElement(p.a,{md:2},s.a.createElement(f.a.Group,null,s.a.createElement(f.a.Label,null,"\u200b"),s.a.createElement("div",null,s.a.createElement("img",{src:R.profileImageName,alt:"",style:{height:"42px",minWidth:"42px",width:"42px",objectFit:"cover"}}),s.a.createElement("i",{onClick:function(){A(Object(n.a)(Object(n.a)({},R),{},{profileImage:"remove",profileImageName:null}))},className:"feather icon-x text-c-red f-15 m-l-5 m-t-6",style:{cursor:"pointer",border:"1px solid red",borderRadius:"3px"}})))):null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement(d.a,{variant:"warning",onClick:function(){e.history.push("/users")}},"Cancel"),s.a.createElement(d.a,{disabled:C,variant:"primary",onClick:function(){var a=Object(j.a)(T),t=a.isValid,r=a.errors;if(!t)return console.log(r),void z(Object(n.a)({},r));k(!0);var o={action:"add",username:T.username,email:T.email,password:T.password,first_name:T.fname,last_name:T.lname,role_id:T.role,profile:{address:R.address,phone_number:R.phone1,phone_number2:R.phone2,post:R.post,profile_image:R.profileImage}};Object(O.a)(o).then(function(){var a=Object(c.a)(l.a.mark((function a(t){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:console.log(t),t.json.status?(E.a.fire({icon:"success",title:"User Created successfully!",background:"#dffff0"}),e.history.push("/users")):(k(!1),E.a.fire({icon:"error",title:t.json.error,background:"#ffe5de"}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){k(!1)}))}},C?s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"fa fa-spinner text-c-white f-15 fa-pulse m-l-1"}),"Submitting"):"Submit")))))))}},281:function(e,a,t){"use strict";t.d(a,"c",(function(){return o})),t.d(a,"b",(function(){return u})),t.d(a,"a",(function(){return s})),t.d(a,"d",(function(){return i})),t.d(a,"e",(function(){return p}));var n=t(20),r=t.n(n),l=t(33),c=t(47),o=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/categories/get","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),u=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/categories/delete","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),s=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/category/add","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),i=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/category/get","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/inventory/items/category/update","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}()},435:function(e,a,t){"use strict";t.d(a,"a",(function(){return o})),t.d(a,"b",(function(){return p})),t.d(a,"e",(function(){return s})),t.d(a,"c",(function(){return u})),t.d(a,"d",(function(){return i}));var n=t(20),r=t.n(n),l=t(33),c=t(47),o=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/user/add","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),u=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/user/list","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),s=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/user/update","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),i=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/user/delete","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)("api/v1/user/list","POST",a,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a,t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=102.35d53425.chunk.js.map