(this["webpackJsonperp-frontend"]=this["webpackJsonperp-frontend"]||[]).push([[79],{231:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a(55),r=a(0),c=a.n(r),i=a(296),o=a(264),s=a(313),u=a(3),m=a(267),d=(a(263),a(30)),f=a(36),p=a(274),E=a(273),h=a(73),b=a(275);t.default=function(e){var t=c.a.useState([]),a=Object(l.a)(t,2),r=a[0],v=a[1],g=c.a.useState(!0),y=Object(l.a)(g,2),j=y[0],k=y[1],x=c.a.useState({showModal:!1,notificationId:null}),C=Object(l.a)(x,2),w=(C[0],C[1],c.a.useState(0)),N=Object(l.a)(w,2),I=N[0],O=N[1];c.a.useEffect((function(){var t=new AbortController,a=Object(n.a)(Object(n.a)({action:"get"},Object(b.a)(e)),{},{read:null});return console.log(JSON.stringify(a)),Object(h.a)(a,t.signal).then((function(e){if(console.log(e),e.json.status){console.log(e.json.notifications),v(e.json.notifications),O(e.json.count),k(!1);setTimeout((function(){Object(h.b)({action:"read",notifications_id:e.json.notifications.map((function(e){return e.id}))}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}),6e3)}else d.a.fire({icon:"error",title:e.json.error,background:"#ffe5de"})})).catch((function(e){console.log(e)})),function(){}}),[]);var S=r.map((function(t,a){return c.a.createElement("div",{key:a,style:{display:"flex",color:"#666",borderTop:"1px solid #ccc",cursor:"pointer"},className:"p-10",onClick:function(){return e.history.push("/".concat(t.model,"/").concat(t.object_id))}},c.a.createElement("div",null,c.a.createElement("i",{className:"fa fa-bell-o m-r-20 f-20 p-10","aria-hidden":"true"})),c.a.createElement("div",{style:{width:"100%"}},c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement("div",null,c.a.createElement("b",null,t.model)),c.a.createElement("div",{className:"text-right"},new Date(t.date).toDateString(),c.a.createElement("i",{className:"icon feather icon-clock m-l-10"}))),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"},className:"p-t-5 p-b-5"},c.a.createElement("div",null,t.msg),c.a.createElement("div",{className:"text-right"},t.read?null:c.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"})))))}));return c.a.createElement(u.a,null,c.a.createElement(i.a,{className:"d-flex justify-content-between pageHead"},c.a.createElement("h4",{className:"m-b-20"},"Notifications"),c.a.createElement("div",null,c.a.createElement("span",null))),c.a.createElement(i.a,null,c.a.createElement(o.a,null,c.a.createElement(s.a,null,c.a.createElement(s.a.Body,null,c.a.createElement("div",{style:{borderCollapse:!0},className:"notificationsBox"},S||""),Object(f.a)(r)&&!j?c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,null,"Data not available"),c.a.createElement("br",null),c.a.createElement("br",null)):"",j?c.a.createElement(p.a,null):null,c.a.createElement(E.a,{instanceCount:I}))))))}},263:function(e,t,a){"use strict";var n=a(0),l=a.n(n);t.a=function(){return l.a.createElement("div",{className:"loader-bg"},l.a.createElement("div",{className:"loader-track"},l.a.createElement("div",{className:"loader-fill"})))}},267:function(e,t,a){"use strict";var n=a(0),l=a.n(n);t.a=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{className:"display-5",style:{fontSize:"1.4em",textAlign:"center",marginTop:"10vh"}},e.children))}},273:function(e,t,a){"use strict";var n=a(20),l=a.n(n),r=a(33),c=a(55),i=a(0),o=a.n(i),s=a(12),u=a(296),m=a(324),d=a(306),f=a(343);t.a=Object(s.h)((function(e){var t=e.location.search,a=new URLSearchParams(t),n=parseInt(a.get("start")||0),i=parseInt(a.get("end")||25),s=parseInt(n/(i-n)),p=o.a.useState(i-n),E=Object(c.a)(p,1)[0],h=o.a.useState(s),b=Object(c.a)(h,2),v=b[0],g=b[1];o.a.useEffect((function(){(n%25!==0||i%25!==0||i-n!==25&&i-n!==50&&i-n!==100||i<25||n<0)&&(n=0,i=25,a.set("start",0),a.set("end",25),e.history.push({search:a.toString()}))}),[]);var y=function(t){g(t),a.set("start",E*t),a.set("end",E*(t+1)),e.history.push({search:a.toString()}),console.log(t)},j=function(){var t=Object(r.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.set("start",0),a.set("end",parseInt(n.target.value)),e.history.push({search:a.toString()});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=e.instanceCount,x=Math.ceil(k/E);if(v>=x-5)var C=[x-5,x-4,x-3,x-2];else C=[v-1,v-0,v+1,v+2,v+3];return o.a.createElement(u.a,{style:{display:"flex",justifyContent:"space-between",padding:"40px 10px 0 10px   "}},o.a.createElement(m.a,{size:"sm",className:"mb-3",style:{maxWidth:"120px",backgroundColor:"white"}},o.a.createElement(m.a.Prepend,null,o.a.createElement(m.a.Text,{id:"inputGroup-sizing-sm"},"Show:")),o.a.createElement(d.a.Control,{style:{height:"30.21px",backgrondColor:"white"},as:"select",value:E,onChange:j},o.a.createElement("option",{value:"25"},"25"),o.a.createElement("option",{value:"50"},"50"),o.a.createElement("option",{value:"100"},"100"))),o.a.createElement(f.a,{style:{marginBottom:0},size:"sm"},o.a.createElement(f.a.Prev,{onClick:function(){return y(v-1)},disabled:0===v}),x<=8?[1,2,3,4,5,6,7,8].map((function(e,t){if(!(e>x))return o.a.createElement(f.a.Item,{disabled:x<e,key:t,active:v===e-1,onClick:function(){return y(e-1)}},e)})):o.a.createElement(o.a.Fragment,null,v>3?o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a.Item,{active:0===v,onClick:function(){return y(0)}},1),o.a.createElement(f.a.Item,{active:1===v,onClick:function(){return y(1)}},2),o.a.createElement(f.a.Ellipsis,{disabled:!0})):null,(v>3?C:[1,2,3,4,5]).map((function(e,t){return o.a.createElement(f.a.Item,{disabled:x<e,key:t,active:v===e-1,onClick:function(){return y(e-1)}},e)})),x>7&&v<x-5?o.a.createElement(f.a.Ellipsis,{disabled:!0}):null,x>7?o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a.Item,{active:v===x-2,onClick:function(){return y(x-2)}},x-1),o.a.createElement(f.a.Item,{active:v===x-1,onClick:function(){return y(x-1)}},x)):o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a.Item,{disabled:x<6,active:5===v,onClick:function(){return y(5)}},6),o.a.createElement(f.a.Item,{disabled:x<7,active:6===v,onClick:function(){return y(6)}},7))),o.a.createElement(f.a.Next,{onClick:function(){return y(v+1)},disabled:v===x-1||0===x})))}))},274:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(277),c=a.n(r);t.a=function(){return l.a.createElement("div",{style:{pdisplay:"block",width:"100%",paddingBottom:"60px"}},l.a.createElement("img",{style:{height:"100px",position:"relative",left:"calc( 50% - 50px )"},src:c.a,alt:""}))}},275:function(e,t,a){"use strict";function n(e){var t=new URLSearchParams(e.location.search);return{start:parseInt(t.get("start"))||0,end:parseInt(t.get("end"))||25}}a.d(t,"a",(function(){return n}))},277:function(e,t,a){e.exports=a.p+"static/media/spinner.2f27f045.gif"}}]);
//# sourceMappingURL=79.671fe571.chunk.js.map